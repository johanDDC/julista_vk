{"version":3,"sources":["custom_components/customInput.js","panels/auth.js","panels/choose_diary.js","redux/actions/PanelAction.js","redux/actions/profileAction.js","custom_components/accountUserContainer.js","views/AuthorizationView.js","redux/actions/ViewAction.js","custom_components/icon-pack/AccountIcon.js","custom_components/icon-pack/MarksIcon.js","custom_components/icon-pack/ScheduleIcon.js","custom_components/icon-pack/PlusIcon.js","custom_components/icon-pack/SettingsIcon.js","custom_components/levelCircle.js","panels/account.js","views/AccountView.js","custom_components/mark.js","custom_components/customSpinner.js","panels/marks.js","utils/utils.js","redux/actions/AppLogicAction.js","views/MarksView.js","panels/schedule.js","views/ScheduleView.js","custom_components/inviteUserContainer.js","panels/plus.js","views/PlusView.js","custom_components/icon-pack/VKSettingsIcon.js","custom_components/icon-pack/AdvancesIcon.js","custom_components/icon-pack/NewMarksIcon.js","custom_components/icon-pack/GetOutIcon.js","panels/settings.js","views/SettingsView.js","redux/actions/expectedMarkAction.js","views/BottomBar.js","App.js","redux/reducers/activeViewR.js","redux/reducers/activePanelR.js","redux/reducers/fetchedUserR.js","redux/reducers/expectedMarkR.js","redux/reducers/appLogicR.js","redux/reducers/profileR.js","redux/reducers/main.js","redux/store/main.js","sw.js","index.js"],"names":["CustomInput","props","clickCapture","document","getElementById","concat","id","focus","style","marginTop","color","react_default","a","createElement","className","onClick","placeholder","type","onFocus","onBlur","value","Auth","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","btnBack","setPanel","buttonClick","setSpinner","login","password","trim","getProfile","profile","diary","setInterval","secret","clearInterval","setView","vkui","left","PanelHeaderBack_default","custom_components_customInput","href","target","level","React","Component","ChooseDiary","choose","setDiary","d","_this2","backgroundColor","visibility","panel","axios","require","baseUrl","doAuthorize","dispatch","dispatcher","data","post","then","response","console","log","catch","error","fill_color","outline_color","AuthorizationView","viewScreenSpinner","_ref","asyncToGenerator","regenerator_default","mark","_callee","switcher","wrap","_context","prev","next","setState","popout","stop","_x","apply","arguments","state","activePanel","panels_choose_diary","setDiaryAction","setPanelAction","panels_auth","fetchedUser","setViewAction","getProfileAction","connect","store","view","AccountIcon","width","size","height","viewBox","fill","xmlns","stroke","selected","stroke-width","cx","cy","r","MarksIcon","fill-rule","clip-rule","ScheduleIcon","x","y","active_stroke_color","PlusIcon","stroke_color","SettingsIcon","LevelCircle","boxShadow","val","AccountUserContainer","num","number","name","custom_components_levelCircle","Account","noShadow","fontWeight","fontSize","display","flexDirection","justifyContent","title","custom_components_accountUserContainer","margin","padding","AccountView","panels_account","defineColor","colors","Mark","background","is_routine","borderRadius","weight","CustomSpinner","isInverse","spinner_default","Marks","loadData","id2","getMarks","getLastMarks","appData","ready","marks","length","marksData","startRender","errorLastMarks","lastMarks","lastMarksData","periods","i","tabs","push","drawTab","drawTabsItem","tabsItems","_loop","activeTab","drawSpinner","custom_components_customSpinner","currentTab","currentPeriod","subjectsFields","forEach","subject","period","marksModal","avg","src_custom_components_mark","toString","form","toFixed","modal","year_mark","openModal","isNaN","generateSubject","lessons","paddingTop","drawResultTab","subjectFields","final_mark","renderedMarks","drawSubjectField","flag","paddingBottom","theme","setCorrectYear","str","correctYear","slice","getRusMonthName","monthNum","getJournal","start","end","days","queries","toLocaleDateString","get","getSchedule","startDate","Date","endDate","getAndAggregateMarks","dueDate","getFullYear","getMonth","getDate","getLMarks","MarksView","setModalMark","modalMarks","activeModal","onClose","closeModal","settlingHeight","header","IS_PLATFORM_ANDROID","cancel_default","panels_marks","appLogic","getMarksAction","getLastMarksAction","userId","Schedule","dayDates","journal","scheduleData","weekDuration","drawTopBar","currentDay","generateScheduleTale","day","subjectTales","subjects","sbj","homework","modalMarksPresentation","score","assignments","assignment","text","e","label","room","module","time","generateSubjectTale","generateEmptyTale","generateErrorSchedule","generateSchedule","tales","drawShedule","slideWidth","slideIndex","onChange","onEnd","today","dayOfWeek","getDay","monday","shift","dates","date","scheduleGetDates","month","heights","ScheduleView","setModalSchedule","modalSchedule","panels_schedule","getJournalAction","InviteUserContainer","inputColor","shadowColor","is_invited","Plus","doPay","json","app_id","appId","action","params","amount","description","group_id","groupId","send","JSON","stringify","icon_pack_PlusIcon","marginBottom","custom_components_inviteUserContainer","PlusView","panels_plus","VKSettingsIcon","AdvancesIcon","NewMarksIcon","GetOutIcon","Settings","tooltip","icon_pack_VKSettingsIcon","chooseMark","expectedMark","paddingRight","icon_pack_AdvancesIcon","icon_pack_NewMarksIcon","isShown","offsetX","disabled","icon_pack_GetOutIcon","SettingsView","choise","osname","platform","autoclose","setMarkAction","IOS","panels_settings","setMark","BottomBar","activeStory","onStoryChange","bind","assertThisInitialized","currentTarget","dataset","story","tabbar","data-story","icon_pack_AccountIcon","icon_pack_MarksIcon","icon_pack_ScheduleIcon","icon_pack_SettingsIcon","views_AccountView","views_MarksView","userSecret","views_ScheduleView","views_PlusView","views_SettingsView","App","VKconnect","subscribe","detail","activeView","views_AuthorizationView","views_BottomBar","undefined","initialState","isFetching","objectSpread","rootReducer","combineReducers","createStore","applyMiddleware","thunk","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","isLocalhost","Boolean","window","location","hostname","match","ReactDOM","render","es","src_App","URL","process","origin","addEventListener","fetch","status","headers","indexOf","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.918ccf04.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from \"prop-types\";\nimport \"./customInput.css\"\n\nconst CustomInput = props => {\n        function clickCapture() {\n            document.getElementById(`${props.id}-i`).focus();\n            document.getElementById(props.id).style.marginTop = \"-28px\";\n            document.getElementById(props.id).style.color = \"#5690ff\";\n        }\n        function clickLost() {\n            document.getElementById(props.id).style.color = \"#757575\";\n            if (document.getElementById(`${props.id}-i`).value === \"\"){\n                document.getElementById(props.id).style.marginTop = \"0\";\n            }\n\n        }\n\n        return (\n            <div className=\"customInputContainer\">\n        <span id={props.id}\n              className=\"customInputTip\"\n              onClick={clickCapture}\n        >\n            {props.placeholder}\n        </span>\n                <input id={`${props.id}-i`}\n                    type={props.type}\n                       className=\"customInput\"\n                       onFocus={clickCapture}\n                       onBlur={clickLost}\n                />\n            </div>\n        )\n    };\n\nCustomInput.propTypes = {\n    id: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n    placeholder: PropTypes.string,\n};\n\nexport default CustomInput;","import {Div, Panel, PanelHeader, Link, Button} from '@vkontakte/vkui';\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/auth.css\"\n\nimport CustomInput from \"../custom_components/customInput\"\n\nclass Auth extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    btnBack = () => {\n        this.props.setPanel(\"choose_diary\")\n    };\n\n    buttonClick = () => {\n        this.props.setSpinner(true);\n        let login = document.getElementById(\"loginInput-i\").value;\n        let password = document.getElementById(\"passInput-i\").value;\n        let inviteCode = document.getElementById(\"inviteCodeInput-i\").value;\n\n        if (login.trim() !== \"\" && password.trim() !== \"\") {\n            this.props.getProfile(login, password, this.props.profile.diary);\n\n            let id = setInterval(() => {\n                if (this.props.profile.secret) {\n                    clearInterval(id);\n                    this.props.setSpinner(false);\n                    this.props.setView(\"MainView\", \"account\");\n                }\n            }, 200);\n        }\n    };\n\n    render() {\n        return (\n            <Panel id={this.props.id}>\n                <PanelHeader left={<PanelHeaderBack onClick={this.btnBack} />}>\n                    Авторизация\n                </PanelHeader>\n                <div className=\"authGroup\">\n                    <Div className=\"welcome\">\n                        Добро пожаловать,\n                    </Div>\n                    <Div className=\"large_tip\">\n                        Войдите с помощью данных аккаунта mos.ru\n                    </Div>\n                    <Div className=\"inputContainer\">\n                        <div className=\"inputIcon\"></div>\n                        <div className=\"inputInput\">\n                            <CustomInput id=\"loginInput\"\n                                         type=\"text\"\n                                         placeholder=\"Номер телефона или email\"\n                            />\n                        </div>\n                    </Div>\n                    <Div className=\"inputContainer\">\n                        <div className=\"inputIcon\"></div>\n                        <div className=\"inputInput\">\n                            <CustomInput id=\"passInput\"\n                                         type=\"password\"\n                                         placeholder=\"Пароль\"\n                            />\n                        </div>\n                    </Div>\n                    <Div>\n                        <span\n                            className=\"medium_tip\">Введите код приглашения, при его наличии, или оставьте поле пустым</span>\n                    </Div>\n                    <Div className=\"inviteInput\">\n                        <CustomInput id=\"inviteCodeInput\"\n                                     type=\"text\"\n                        />\n                    </Div>\n                    <Div>\n            <span className=\"annotate\">Нажимая войти, вы соглашаетесь на обработку, хранение, передачу ваших персональных данных.\n                <br/>\n                <Link href=\"https://google.com\" target=\"_blank\">Регламент</Link> и <Link href=\"https://google.com\"\n                                                                                         target=\"_blank\">политика конфиденциальности</Link></span>\n                    </Div>\n                    <Div className=\"restorePassword\">\n                        <span>Забыли данные учетной записи?</span>\n                        <Link\n                            href=\"https://google.com\"\n                            target=\"_blank\"\n                            className=\"restoreLink\">Восстановить</Link>\n                    </Div>\n                    <Div>\n                        <Button level=\"tertiary\" className=\"getInButton\"\n                                onClick={this.buttonClick}>\n                            Войти\n                        </Button>\n                    </Div>\n                </div>\n            </Panel>\n        )\n    }\n\n}\n\nAuth.propTypes = {\n    id: PropTypes.string.isRequired,\n    fetchedUser: PropTypes.shape({\n        photo_200: PropTypes.string,\n        first_name: PropTypes.string,\n        last_name: PropTypes.string,\n        city: PropTypes.shape({\n            title: PropTypes.string,\n        }),\n    }),\n    profile: PropTypes.any.isRequired,\n    setView: PropTypes.func.isRequired,\n    setPanel: PropTypes.func.isRequired,\n    getProfile: PropTypes.func.isRequired,\n    setSpinner: PropTypes.func\n};\n\nexport default Auth;","import {Div, Panel, Button} from '@vkontakte/vkui';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/choose_diary.css\"\n\nclass ChooseDiary extends React.Component {\n    constructor(props) {\n        super(props);\n        this.d = \"\"\n    }\n\n    choose = (diary) => {\n        this.props.setPanel(\"auth\");\n        this.props.setDiary(diary)\n    };\n\n    render() {\n        return (\n            <Panel id={this.props.id}>\n                {/*<PanelHeader noShadow={true}></PanelHeader>*/}\n                <Div className=\"chooseDiaryScreen\">\n                        <span className=\"chooseDiaryScreenTitle\">\n                            Выберите ваш дневник\n                        </span>\n                    <div className=\"chooseDiaryScreenDiaryDiaries\">\n                        <Button level=\"tertiary\" className=\"chooseDiaryScreenDiaryContainer\"\n                                onClick={() => {\n                                    this.d = \"mosru\";\n                                    this.choose(this.d);\n                                }}>\n                            <div className=\"chooseDiaryScreenDiaryContainerIcon\"\n                                 style={{backgroundColor: \"#ff3000\"}}></div>\n                            <span className=\"chooseDiaryScreenDiaryContainerTitle\">МЭШ (mos.ru)</span>\n                            <div className=\"chooseDiaryScreenDiaryContainerChecker\">\n                            </div>\n                        </Button>\n                        <Button level=\"tertiary\" className=\"chooseDiaryScreenDiaryContainer\"\n                                onClick={() => {\n                                    this.d = \"mosregru\";\n                                    this.choose(this.d);\n                                }}>\n                            <div className=\"chooseDiaryScreenDiaryContainerIcon\"\n                                 style={{backgroundColor: \"#ffa000\"}}></div>\n                            <span className=\"chooseDiaryScreenDiaryContainerTitle\">mosreg.ru</span>\n                            <div className=\"chooseDiaryScreenDiaryContainerChecker\">\n                            </div>\n                        </Button>\n                        <Button level=\"tertiary\" className=\"chooseDiaryScreenDiaryContainer\"\n                                onClick={() => {\n                                    this.d = \"netschool\";\n                                    this.choose(this.d);\n                                }}>\n                            <div className=\"chooseDiaryScreenDiaryContainerIcon\"\n                                 style={{backgroundColor: \"#ffff00\"}}></div>\n                            <span className=\"chooseDiaryScreenDiaryContainerTitle\">netschool</span>\n                            <div className=\"chooseDiaryScreenDiaryContainerChecker\">\n                            </div>\n                        </Button>\n                        <Button level=\"tertiary\" className=\"chooseDiaryScreenDiaryContainer\"\n                                onClick={() => {\n                                    this.d = \"dnevnikru\";\n                                    this.choose(this.d);\n                                }}>\n                            <div className=\"chooseDiaryScreenDiaryContainerIcon\"\n                                 style={{backgroundColor: \"#30ff00\"}}></div>\n                            <span className=\"chooseDiaryScreenDiaryContainerTitle\">dnevnick.ru</span>\n                            <div className=\"chooseDiaryScreenDiaryContainerChecker\">\n                            </div>\n                        </Button>\n                        <Button level=\"tertiary\" className=\"chooseDiaryScreenDiaryContainer\"\n                                onClick={() => {\n                                    this.d = \"edutatar\";\n                                    this.choose(this.d);\n                                }}>\n                            <div className=\"chooseDiaryScreenDiaryContainerIcon\"\n                                 style={{backgroundColor: \"#0080ff\"}}></div>\n                            <span className=\"chooseDiaryScreenDiaryContainerTitle\">edutatar</span>\n                            <div className=\"chooseDiaryScreenDiaryContainerChecker\">\n                            </div>\n                        </Button>\n                    </div>\n                    <Button level=\"tertiary\" className=\"getInButton\" style={{visibility: \"hidden\"}}>\n                        Войти\n                    </Button>\n                </Div>\n            </Panel>\n        )\n    }\n\n}\n\nChooseDiary.propTypes = {\n    id: PropTypes.string.isRequired,\n    setPanel: PropTypes.func.isRequired,\n    setDiary: PropTypes.func.isRequired,\n};\n\nexport default ChooseDiary;","export function setPanel(panel) {\n    return {\n        type: \"SET_PANEL\",\n        value: panel\n    }\n}","const axios = require('axios');\nlet baseUrl = \"https://bklet.ml/\";\n\nexport function doAuthorize(login, password, diary) {\n    return dispatch => {\n        dispatch({\n            type: \"DO_AUTHORIZATION_REQUEST\",\n            data: {\n                id: null,\n                secret: null,\n            },\n        });\n\n        auth(login, password, diary, dispatch)\n    }\n}\nfunction auth(login, password, diary, dispatcher) {\n    let methodUrl = \"api/auth/\";\n    // let json ={\n    //     diary : diary,\n    //     login : login,\n    //     password : password\n    // };\n    let json = {\n        diary: \"mosru\",\n        login: \"zzoorm@gmail.com\",\n        password: \"YaLol123\"\n    };\n\n    axios.post(baseUrl + methodUrl, json)\n        .then((response) => {\n            console.log(\"resp\", response.data);\n            dispatcher({\n                type: \"DO_AUTHORIZATION_SUCCESS\",\n                data: {\n                    id: response.data.id,\n                    secret: response.data.secret,\n                },\n            })\n        })\n        .catch(error => {\n            console.log(\"auth error\", error)\n        });\n}\n\nexport function setDiary(diary) {\n    return {\n        type: \"SET_DIARY\",\n        data: diary\n    }\n}","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {Div} from '@vkontakte/vkui';\nimport \"./accountUserContainer.css\"\n\nimport LevelCircle from \"./levelCircle\"\n\nvar fill_color;\nvar outline_color;\n\nfunction setCirclesColor(num) {\n    if (num === \"1\") {\n        fill_color = \"rgb(255 214 0)\";\n        outline_color = \"rgba(255, 214, 0, 0.5)\"\n    } else if (num === \"2\") {\n        fill_color = \"rgb(180 180 180)\";\n        outline_color = \"rgba(180, 180, 180, 0.5)\"\n    } else if (num ===\"3\") {\n        fill_color = \"rgb(255 186 86)\";\n        outline_color = \"rgba(255, 186, 86, 0.5)\"\n    }\n}\n\nconst AccountUserContainer = props => (\n    <div className=\"accountUserContainer\">\n        {setCirclesColor(props.number)}\n        <div className=\"accountUserNumeration\">{props.number}</div>\n        <Div className=\"accountUserInfo\">\n            <span className=\"accountUserName\">{props.name}</span>\n            <LevelCircle color={fill_color} outline_color={outline_color} val={props.level}/>\n        </Div>\n    </div>\n);\n\nAccountUserContainer.propTypes = {\n    number: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    level: PropTypes.string.isRequired\n};\n\nexport default AccountUserContainer;","import React from 'react';\nimport { View, ScreenSpinner} from '@vkontakte/vkui';\nimport Auth from '../panels/auth'\nimport ChooseDiary from '../panels/choose_diary'\nimport \"./styles/Authorization.css\"\nimport {setPanel} from \"../redux/actions/PanelAction\";\nimport {setView} from \"../redux/actions/ViewAction\";\nimport {connect} from 'react-redux'\nimport {doAuthorize, setDiary} from \"../redux/actions/profileAction\";\n\n\nclass AuthorizationView extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            popout: null\n        }\n    }\n\n    viewScreenSpinner = async (switcher) => {\n        this.setState({popout: (switcher ? <ScreenSpinner/> : null)});\n    };\n\n    render() {\n        return (\n            <View popout={this.state.popout} activePanel={this.props.activePanel}>\n                <ChooseDiary id=\"choose_diary\"\n                             setDiary={this.props.setDiaryAction}\n                             setPanel={this.props.setPanelAction}\n                />\n                <Auth id=\"auth\"\n                      diary={this.props.diary}\n                      fetchedUser={this.props.fetchedUser}\n                      setSpinner={this.viewScreenSpinner}\n                      setView={this.props.setViewAction}\n                      setPanel={this.props.setPanelAction}\n                      profile={this.props.profile}\n                      getProfile={this.props.getProfileAction}\n                />\n            </View>\n        )\n    }\n}\n\n\nconst mapStateToProps = store => {\n    console.log(\"Auth View\", store);\n    return {\n        activePanel: store.activePanel,\n        diary: store.diary,\n        fetchedUser: store.fetchedUser,\n        profile: store.profile,\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setDiaryAction: diary => dispatch(setDiary(diary)),\n        getProfileAction: (login, password, diary) => {\n            dispatch(doAuthorize(login, password, diary));\n        },\n        setViewAction: view => dispatch(setView(view)),\n        setPanelAction: panel => dispatch(setPanel(panel)),\n    }\n};\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(AuthorizationView);","export function setView(view) {\n    return {\n        type: \"SET_VIEW\",\n        value: view\n    }\n}","import React from 'react';\nimport PropTypes from \"prop-types\";\n\nvar default_stroke_color = \"#A8ADAF\";\nvar active_stroke_color = \"#5690FF\";\n\nconst AccountIcon = props => (\n    <svg width={props.size} height={props.size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M20 21H4C4 21 4 15 11.7419 15C19.4839 15 20 21 20 21Z\" stroke={props.selected ? active_stroke_color : default_stroke_color} stroke-width=\"1.5\"/>\n        <circle cx=\"12\" cy=\"8\" r=\"4.25\" stroke={props.selected ? active_stroke_color : default_stroke_color} stroke-width=\"1.5\"/>\n    </svg>\n\n);\n\nAccountIcon.propTypes = {\n    size: PropTypes.string.isRequired,\n    selected: PropTypes.bool.isRequired,\n    stroke_color: PropTypes.string,\n};\n\nexport default AccountIcon;","import React from 'react';\nimport PropTypes from \"prop-types\";\n\nvar default_stroke_color = \"#A8ADAF\";\nvar active_stroke_color = \"#5690FF\";\n\nconst MarksIcon = props => (\n    <svg width={props.size} height={props.size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 16.6944 7.30558 20.5 12 20.5C16.6944 20.5 20.5 16.6944 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12Z\" fill={props.selected ? active_stroke_color : default_stroke_color}/>\n        <path d=\"M9 16.5C9 16.5 14.5 18 14.5 14.5C14.5 11 10 12 10 12V8H14.5\" stroke={props.selected ? active_stroke_color : default_stroke_color} stroke-width=\"1.5\"/>\n    </svg>\n\n);\n\nMarksIcon.propTypes = {\n    size: PropTypes.string.isRequired,\n    selected: PropTypes.bool.isRequired,\n    stroke_color: PropTypes.string,\n};\n\nexport default MarksIcon;","import React from 'react';\nimport PropTypes from \"prop-types\";\n\nvar default_stroke_color = \"#A8ADAF\";\nvar active_stroke_color = \"#5690FF\";\n\nconst ScheduleIcon = props => (\n    <svg width={props.size} height={props.size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M4.75 6C4.75 4.20507 6.20507 2.75 8 2.75H16C17.7949 2.75 19.25 4.20507 19.25 6V21.25H4.75V6Z\" stroke={props.selected ? active_stroke_color : default_stroke_color} stroke-width=\"1.5\"/>\n        <rect x=\"7\" y=\"6\" width=\"10\" height=\"1.5\" fill={props.selected ? active_stroke_color : default_stroke_color}/>\n        <rect x=\"7\" y=\"11\" width=\"10\" height=\"1.5\" fill={props.selected ? active_stroke_color : default_stroke_color}/>\n        <rect x=\"7\" y=\"16\" width=\"10\" height=\"1.5\" fill={props.selected ? active_stroke_color : default_stroke_color}/>\n    </svg>\n\n\n);\n\nScheduleIcon.propTypes = {\n    size: PropTypes.string.isRequired,\n    selected: PropTypes.bool.isRequired,\n    stroke_color: PropTypes.string,\n};\n\nexport default ScheduleIcon;","import React from 'react';\nimport PropTypes from \"prop-types\";\n\nvar default_stroke_color = \"#A8ADAF\";\nvar active_stroke_color = \"#5690FF\";\n\nconst PlusIcon = props => (\n    <svg width={props.size} height={props.size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        {(active_stroke_color = (props.stroke_color ? props.stroke_color : \"#5690FF\"))}\n        <path d=\"M4 7.5L12 3L20 7.5V16.5L12 21L4 16.5V7.5Z\" stroke={props.selected ? active_stroke_color : default_stroke_color} stroke-width=\"1.5\"/>\n        <path d=\"M12 7V12M12 17V12M12 12H7H17\" stroke={props.selected ? active_stroke_color : default_stroke_color} stroke-width=\"1.5\"/>\n    </svg>\n);\n\nPlusIcon.propTypes = {\n    size: PropTypes.string.isRequired,\n    selected: PropTypes.bool.isRequired,\n    stroke_color: PropTypes.string,\n};\n\nexport default PlusIcon;","import React from 'react';\nimport PropTypes from \"prop-types\";\n\nvar default_stroke_color = \"#A8ADAF\";\nvar active_stroke_color = \"#5690FF\";\n\nconst SettingsIcon = props => (\n    <svg width={props.size} height={props.size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M12.0051 15.86C9.88505 15.86 8.14504 14.14 8.14504 12C8.14504 9.88003 9.86505 8.14002 12.0051 8.14002C14.1251 8.14002 15.8651 9.86003 15.8651 12C15.8651 14.12 14.1251 15.86 12.0051 15.86ZM12.0051 9.56004C10.6651 9.56004 9.56506 10.66 9.56506 12C9.56506 13.34 10.6651 14.44 12.0051 14.44C13.3451 14.44 14.445 13.34 14.445 12C14.445 10.66 13.3451 9.56004 12.0051 9.56004ZM12.0051 21.2H11.9051C11.2051 21.2 10.6051 21.12 10.5651 21.12C10.2451 21.08 10.005 20.84 9.94504 20.52L9.74504 19.08C9.30504 18.94 8.88506 18.76 8.48506 18.54L7.34504 19.4C7.08504 19.6 6.74506 19.58 6.48506 19.4C6.46506 19.38 5.98506 19 5.48506 18.52L5.40505 18.44C4.90505 17.94 4.54505 17.46 4.52505 17.44C4.32505 17.18 4.32505 16.84 4.52505 16.58L5.40505 15.42C5.18505 15.02 5.02506 14.58 4.88506 14.14L3.48506 13.94C3.16506 13.9 2.92506 13.64 2.88506 13.32C2.88506 13.3 2.80505 12.68 2.80505 11.98V11.88C2.80505 11.18 2.88506 10.58 2.88506 10.54C2.92506 10.22 3.16506 9.98002 3.48506 9.92002L4.92505 9.72002C5.06505 9.28002 5.24506 8.86004 5.46506 8.46004L4.60505 7.32002C4.40505 7.06002 4.42505 6.72004 4.60505 6.46004C4.62505 6.44004 5.00506 5.96004 5.48506 5.46004L5.56506 5.38003C6.06506 4.88003 6.54506 4.52003 6.56506 4.50003C6.82506 4.30003 7.16505 4.30003 7.42505 4.50003L8.58506 5.38003C8.98506 5.16003 9.42506 5.00004 9.86506 4.86004L10.0651 3.46004C10.1051 3.14004 10.3651 2.90004 10.6851 2.86004C10.7051 2.86004 11.325 2.78003 12.025 2.78003H12.125C12.825 2.78003 13.4251 2.86004 13.4651 2.86004C13.7851 2.90004 14.0251 3.14004 14.0851 3.46004L14.2851 4.90003C14.7251 5.04003 15.145 5.22002 15.545 5.44002L16.6851 4.58003C16.9451 4.38003 17.285 4.40003 17.545 4.58003C17.565 4.60003 18.045 4.98004 18.545 5.46004L18.625 5.54002C19.125 6.04002 19.4851 6.52002 19.5051 6.54002C19.7051 6.80002 19.7051 7.14003 19.5051 7.40003L18.625 8.56004C18.845 8.96004 19.005 9.40002 19.145 9.84002L20.545 10.04C20.865 10.08 21.105 10.34 21.145 10.66C21.145 10.68 21.225 11.3 21.225 12V12.1C21.225 12.8 21.145 13.4 21.145 13.44C21.105 13.76 20.865 14 20.545 14.06L19.1051 14.26C18.9651 14.7 18.7851 15.12 18.5651 15.52L19.425 16.66C19.625 16.92 19.605 17.26 19.425 17.52C19.405 17.54 19.025 18.02 18.545 18.52L18.4651 18.6C17.9651 19.1 17.4851 19.46 17.4651 19.48C17.2051 19.68 16.8651 19.68 16.6051 19.48L15.445 18.6C15.045 18.82 14.6051 18.98 14.1651 19.12L13.9651 20.52C13.9251 20.84 13.665 21.08 13.345 21.12C13.305 21.12 12.7051 21.2 12.0051 21.2ZM11.2851 19.76C11.4651 19.78 11.6851 19.78 11.9051 19.78H12.0051C12.2251 19.78 12.445 19.78 12.625 19.76L12.8051 18.44C12.8451 18.14 13.065 17.92 13.345 17.84C13.965 17.7 14.5651 17.46 15.1051 17.12C15.2651 17.02 15.465 17 15.645 17.04C15.745 17.06 15.845 17.12 15.925 17.18L16.9851 17.98C17.1251 17.86 17.285 17.72 17.445 17.56L17.525 17.48C17.685 17.32 17.825 17.16 17.945 17.02L17.145 15.96C16.965 15.72 16.9651 15.4 17.1051 15.16C17.4451 14.64 17.685 14.06 17.825 13.46C17.885 13.16 18.125 12.92 18.425 12.88L19.7651 12.7C19.7851 12.52 19.7851 12.3 19.7851 12.08V11.98C19.7851 11.76 19.7851 11.54 19.7651 11.36L18.445 11.18C18.165 11.14 17.9251 10.92 17.8651 10.64C17.7251 10.02 17.4851 9.44003 17.1651 8.90003C17.1251 8.86003 17.1051 8.80002 17.0851 8.74002C17.0051 8.52002 17.0451 8.26003 17.1851 8.08003L18.0051 7.00003C17.8851 6.86003 17.7451 6.70002 17.5851 6.54002L17.5051 6.46004C17.3451 6.30004 17.185 6.16002 17.045 6.04002L15.9851 6.84002C15.7251 7.02002 15.385 7.02002 15.145 6.84002C14.625 6.52002 14.045 6.28002 13.445 6.12002C13.165 6.06002 12.9451 5.82002 12.9051 5.52002L12.725 4.18003C12.545 4.16003 12.3251 4.16004 12.1051 4.16004H12.0051C11.7851 4.16004 11.5651 4.16003 11.3851 4.18003L11.2051 5.50003C11.1651 5.82003 10.9251 6.06003 10.6051 6.10003C10.0051 6.24003 9.42505 6.48003 8.90505 6.80003C8.74505 6.90003 8.54506 6.92003 8.36506 6.88003C8.26506 6.86003 8.16506 6.80002 8.08506 6.74002L7.04504 5.94002C6.90504 6.06002 6.74506 6.20004 6.58506 6.36004L6.50505 6.44002C6.34505 6.60002 6.20506 6.76003 6.08506 6.90003L6.88506 7.96004C7.06506 8.20004 7.06505 8.50004 6.92505 8.76004C6.90505 8.78004 6.90506 8.80002 6.88506 8.82002C6.56506 9.34002 6.32506 9.92002 6.18506 10.52C6.12506 10.8 5.88506 11.02 5.58506 11.06L4.24504 11.24C4.22504 11.42 4.22505 11.64 4.22505 11.86V11.96C4.22505 12.18 4.22504 12.4 4.24504 12.58L5.56506 12.76C5.88506 12.8 6.12506 13.04 6.16506 13.36V13.38C6.30506 13.98 6.54506 14.54 6.86506 15.06C6.96506 15.24 7.00505 15.46 6.92505 15.66C6.90505 15.74 6.84506 15.82 6.78506 15.9L6.00505 16.94C6.12505 17.08 6.26505 17.24 6.42505 17.4L6.50505 17.48C6.66505 17.64 6.82506 17.78 6.96506 17.9L8.02505 17.1C8.28505 16.9 8.66505 16.92 8.90505 17.12C9.42505 17.44 9.98506 17.66 10.5651 17.8C10.8451 17.86 11.0651 18.1 11.1051 18.4L11.2851 19.76Z\" fill={props.selected ? active_stroke_color : default_stroke_color}/>\n    </svg>\n);\n\nSettingsIcon.propTypes = {\n    size: PropTypes.string.isRequired,\n    selected: PropTypes.bool.isRequired,\n    stroke_color: PropTypes.string,\n};\n\nexport default SettingsIcon;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport \"./levelCircle.css\"\n\nconst LevelCircle = props => (\n    <div className=\"levelCircleContainer\" style={{backgroundColor: props.color, boxShadow: `0 0 0 4px ${props.outline_color}`}}>\n        <span>{props.val}</span>\n    </div>\n);\n\nLevelCircle.propTypes = {\n    color: PropTypes.string.isRequired,\n    outline_color: PropTypes.bool.isRequired,\n    val: PropTypes.any.isRequired\n};\n\nexport default LevelCircle;","import {Div, Group, Button, Panel, PanelHeader, InfoRow, Progress} from '@vkontakte/vkui';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/account.css\"\n\nimport AccountUserContainer from \"../custom_components/accountUserContainer\"\n\nconst Account = ({ id }) => (\n    <Panel id={id}>\n        <PanelHeader\n                     noShadow={true}\n                     left={<Div style={{fontWeight: 'bold', fontSize: '20px'}}><span>Аккаунт</span></Div>}>\n        </PanelHeader>\n        <Div className=\"studentInfoContainer\">\n            <div id=\"studentInfo\">\n                <span id=\"studentName\">\n                    Иван Пешехонов\n                </span>\n                <span id=\"studentGrade\">\n                    11 класс\n                </span>\n            </div>\n            <div/>\n        </Div>\n        <Div className=\"accountProgress\">\n            <div style={{display: 'flex', flexDirection: 'row', justifyContent: 'space-between'}}>\n                <span>Успеваемость</span>\n            </div>\n            <InfoRow title=\"Уровень\" id=\"progressBar\">\n                <Progress value={90} />\n            </InfoRow>\n        </Div>\n        <Div className=\"marksBlocksTitle\">\n            ЗАДАЧИ\n        </Div>\n        <Div className=\"marksBlocksTitle\">\n            ТОП КЛАССА\n        </Div>\n        <Div className=\"userTopElement\">\n            <AccountUserContainer number=\"1\" name=\"Наташа Мазнова\" level=\"20\"/>\n        </Div>\n        <Div className=\"userTopElement\">\n            <AccountUserContainer number=\"2\" name=\"Катя Стрёмная\" level=\"20\"/>\n        </Div>\n        <Div className=\"userTopElement\">\n            <AccountUserContainer number=\"3\" name=\"Иван Пешехонов\" level=\"20\"/>\n        </Div>\n        <Div className=\"userTopElement\">\n            <span id=\"overPlace\">Ты находишься на 6 месте</span>\n        </Div>\n        <Div className=\"marksBlocksTitle\">\n            ВАЖНЫЕ УВЕДОМЛЕНИЯ\n        </Div>\n        <Group className=\"lastNotificationsContainer\">\n            <span className=\"inversedTitle\">\n                ПОСЛЕДНИЕ СОБЫТИЯ\n            </span>\n            <div className=\"notification notificationTop\">\n                Володя Ржавый получил 5 за контрольную по уроку алгебра. Единственный в классе!\n            </div>\n            <div className=\"notification\">\n                Ирина Шикина достигла 10 уровня\n            </div>\n            <div className=\"notification\">\n                Твой класс получил рекордные 26 оценок за неделю. Из них 15 пятёрок!\n            </div>\n            <div className=\"notification notificationBottom\">\n                <Button level=\"tertiary\" style={{margin: 0, padding: 0}}>\n                    <span style={{fontSize: \"15px\", fontWeight: \"700\", color: \"#fff\"}}>\n                        Подробнее\n                    </span>\n                </Button>\n            </div>\n        </Group>\n    </Panel>\n);\n\nAccount.propTypes = {\n    id: PropTypes.string.isRequired,\n};\n\nexport default Account;","import React from 'react';\nimport { View } from '@vkontakte/vkui';\nimport Account from '../panels/account'\nimport {connect} from \"react-redux\";\n\n\nclass AccountView extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <View activePanel={(this.props.activePanel === \"auth\" ? \"account\" : this.props.activePanel)}>\n                <Account id=\"account\"/>\n            </View>\n        )\n    }\n}\n\nconst mapStateToProps = store => {\n    console.log(\"Account View\", store);\n    return {\n        activePanel: store.activePanel,\n        profile: store.profile\n    }\n};\n\nexport default connect(mapStateToProps)(AccountView)","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport \"./mark.css\"\n\nfunction defineColor(val) {\n    let colors = [];\n\n    if (val === \"5\" || val === \"Зачёт\" || val === \"Зч\") {\n        colors[1] = \"rgb(114 222 32)\";\n        colors[0] = \"rgb(28 179 54)\";\n    } else if (val === \"4\") {\n        colors[0] = \"rgb(0 225 157)\";\n        colors[1] = \"rgb(2 205 132)\";\n    } else if (val === \"3\") {\n        colors[0] = \"rgb(255 81 47)\";\n        colors[1] = \"rgb(240 152 25)\";\n    } else if (val === \"2\" || val === \"Незачёт\" || val === \"Нзч\") {\n        colors[0] = \"rgb(255 75 43)\";\n        colors[1] = \"rgb(255 65 108)\";\n    }\n    return colors;\n} //TODO add 10 system support\n\nconst Mark = props => (\n    <div className=\"markContainer\" style={{\n        width: (props.val === \"Незачёт\" || props.val === \"Зачёт\" ? \"68px\" : `${props.size}px `),\n        height: (props.val === \"Незачёт\" || props.val === \"Зачёт\" ? \"22px\" : `${props.size}px `),\n        background: (props.is_routine ? \"rgb(86 144 255)\"\n            : `linear-gradient(90deg, ${defineColor(props.val)[0]}, ${defineColor(props.val)[1]})`),\n        fontSize: (props.fontSize ? `${props.fontSize}px` : \"14px\"),\n        borderRadius: (props.val === \"Незачёт\" || props.val === \"Зачёт\" ? \"11px\" : \"50%\")\n    }}>\n        <span>{props.val}</span>\n        {(props.weight && props.weight > 1 ?\n            <div className=\"markWeight\">\n                {props.weight}\n            </div>\n            : null)}\n    </div>\n);\n\nMark.propTypes = {\n    size: PropTypes.string.isRequired,\n    val: PropTypes.string.isRequired,\n    is_routine: PropTypes.bool.isRequired,\n    weight: PropTypes.string,\n    fontSize: PropTypes.string\n};\n\nexport default Mark;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport \"./customSpinner.css\"\nimport Icon44Spinner from '@vkontakte/icons/dist/44/spinner';\n\nconst CustomSpinner = props => (\n    <div className=\"customSpinnerContainer\" style={{backgroundColor: (props.isInverse ? \"#5690ff\" : \"#ffffff\")}}>\n        <div className=\"customSpinnerRotator\" style={{color: (props.isInverse ? \"#ffffff\" :\"#5690ff\" )}}>\n            <Icon44Spinner/>\n        </div>\n    </div>\n);\n\nCustomSpinner.propTypes = {\n    isInverse: PropTypes.bool.isRequired\n};\n\nexport default CustomSpinner;","import {\n    Tabs,\n    Div,\n    Panel,\n    PanelHeader,\n    TabsItem,\n    HorizontalScroll,\n} from '@vkontakte/vkui';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/marks.css\"\n\nimport Mark from \"../custom_components/mark\"\nimport CustomSpinner from \"../custom_components/customSpinner\";\n\nclass Marks extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.marksData = this.props.appData.marks;\n        this.lastMarksData = this.props.appData.lastMarks;\n        this.tabs = [];\n        this.tabsItems = [];\n        let flag = this.props.appData.marks.data.length === 0;\n\n        this.state = {\n            activeTab: \"1\",\n            ready: !flag,\n            error: false,\n            errorLastMarks: false,\n        };\n\n        if (flag)\n            this.loadData();\n        else\n            this.startRender();\n    }\n\n    loadData = async () => {\n        this.props.getMarks(this.props.profile.id, this.props.profile.secret);\n        this.props.getLastMarks(this.props.profile.id, this.props.profile.secret);\n\n        let id = setInterval(() => {\n            if (this.props.appData.error) {\n                clearInterval(id);\n                this.setState({error: true, ready: true});\n            }\n            if (!this.state.error && this.props.appData.marks.data.length !== 0) {\n                this.marksData = this.props.appData.marks;\n                clearInterval(id);\n                this.startRender();\n            }\n        }, 200);\n        let id2 = setInterval(() => {\n            if (this.props.appData.errorLastMarks) {\n                clearInterval(id);\n                this.setState({errorLastMarks: true, ready: true});\n            }\n            if (this.props.appData.lastMarks.data.length !== 0 && !this.state.errorLastMarks) {\n                this.lastMarksData = this.props.appData.lastMarks;\n                clearInterval(id2);\n                this.startRender();\n            }\n        }, 200);\n    };\n\n    startRender = () => {\n        let periods = this.marksData.data[0].periods.length;\n        for (let i = 0; i < periods; i++) {\n            this.tabs.push(this.drawTab(i));\n        }\n\n        this.setState({\n            ready: true,\n        });\n    };\n\n    drawTabsItem = () => {\n        if (this.marksData.data[0]) {\n            let periods = this.marksData.data[0].periods.length;\n            this.tabsItems = [];\n            for (let i = 0; i < periods; i++) {\n                this.tabsItems.push(\n                    <TabsItem\n                        onClick={() => this.setState({activeTab: `${i + 1}`})}\n                        selected={this.state.activeTab === `${i + 1}`}\n                    >\n                        {i + 1}\n                    </TabsItem>\n                );\n            }\n            return this.tabsItems;\n        }\n    };\n\n    drawSpinner = () => {\n        return (\n            <CustomSpinner isInverse={true}/>\n        );\n    };\n\n    drawTab = (currentTab) => {\n        let subjectsFields = [];\n\n        let generateSubject = (subject, currentPeriod) => {\n            let period = subject.periods[currentPeriod];\n            let marks = [];\n            let marksModal = [];\n            let avg = 0;\n            period.marks.forEach(mark => {\n                avg += mark.value * mark.weight;\n                marks.push(\n                    <div>\n                        <Mark size=\"16\" val={mark.value} is_routine={true} fontSize=\"12\"/>\n                    </div>\n                );\n                marksModal.push(\n                    <div className=\"modalMarkMarksInfo\">\n                        <div className=\"modalMarkMarksInfoLeft\">\n                            <Mark size=\"22\" is_routine={false} val={mark.value} fontSize=\"14\"\n                                  weight={mark.weight.toString()}/>\n                        </div>\n                        <div className=\"modalMarkMarksInfoContainer\">\n                            <div className=\"modalMarkMarksInfoForm\">\n                                {mark.form}\n                            </div>\n                            <div className=\"modalMarkMarksInfoName\">\n                                {mark.name}\n                            </div>\n                            <div className=\"modalMarkMarksInfoDate\">\n                                14 никогдабря\n                            </div>\n                        </div>\n                    </div>\n                );\n            });\n            avg /= marks.length;\n            avg = avg.toFixed(2);\n            let modal = (\n                <div>\n                    <div className=\"modalMarkTitle\">\n                        Сведения о предмете\n                    </div>\n                    <div className=\"modalMarkSubjectInfo\">\n                        <div className=\"modalMarkSubjectInfoLeft\">\n                            {avg}\n                        </div>\n                        <div className=\"modalMarkSubjectInfoText\">\n                            Средний балл\n                        </div>\n                    </div>\n                    <div className=\"modalMarkSubjectInfo\">\n                        <div className=\"modalMarkSubjectInfoLeft\">\n                            {subject.year_mark ?\n                                <Mark size=\"22\" val={subject.year_mark.toString()} is_routine={false} fontSize=\"14\"/>\n                                : \"-\"}\n                        </div>\n                        <div className=\"modalMarkSubjectInfoText\">\n                            Итоговая оценка\n                        </div>\n                    </div>\n                    <div className=\"modalMarkTitle\">\n                        Оценки\n                    </div>\n                    {marksModal}\n                </div>\n            );\n            return (\n                <div className=\"allMarksContainer\" onClick={() => this.props.openModal(modal, subject.name)}>\n                    <div className=\"subjectRow\">\n                        <span className=\"subject\">\n                            {subject.name}\n                        </span>\n                        <span className=\"avg\">\n                            {isNaN(avg) ? null : avg}\n                        </span>\n                    </div>\n                    <div className=\"marksRow\">\n                        {marks}\n                    </div>\n                    <div className=\"advicesRow\">\n                        <div className=\"adviceContainer\">\n                            Получите 1 пятерку\n                        </div>\n                    </div>\n                </div>\n            );\n        };\n\n        let generateSubjectsFields = (currentPeriod) => {\n            this.marksData.data.forEach(subject => {\n                if (subject.periods.length !== 0)\n                    subjectsFields.push(generateSubject(subject, currentPeriod));\n            })\n        };\n\n        generateSubjectsFields(currentTab);\n\n        let drawLastMarks = () => {\n            console.log(\"lastmarks\", this.lastMarksData.data);\n            if (this.state.errorLastMarks) {\n                return (\n                    <p className=\"errorLastMarks\">Не удалось загрузить последние оценки из-за непредвиденной ошибки.</p>\n                )\n            } else {\n                if (this.lastMarksData.data.length !== 0 && this.lastMarksData.data.lessons.length !== 0) {\n                    return (\n                        <div>\n                            <Div className=\"marksBlocksTitle\" style={{paddingTop: \"0\"}}>\n                                ПОСЛЕДНИЕ ОЦЕНКИ\n                            </Div>\n                            <HorizontalScroll className=\"lastMarksContainer\">\n                                <Div className=\"lastMarkContainer\">\n                                    <div className=\"lastMarkVal\">\n                                        <Mark size=\"36\" val=\"5\" is_routine={false} fontSize=\"20\"/>\n                                    </div>\n                                    <div className=\"lastMarkSubject\">Математика</div>\n                                    <div className=\"lastMarkDate\">Сегодня</div>\n                                </Div>\n                            </HorizontalScroll>\n                        </div>\n                    );\n                } else {\n                    return null;\n                }\n            }\n        };\n\n        return (\n            <div id={currentTab}>\n                {drawLastMarks()}\n                <Div className=\"marksBlocksTitle\">\n                    ВСЕ ОЦЕНКИ\n                </Div>\n                {subjectsFields}\n            </div>\n        );\n    };\n\n    drawResultTab = () => {\n        let subjectFields = [];\n\n        let drawSubjectField = (subject) => {\n            let periods = subject.periods.length;\n            let marks = [];\n            for (let i = 0; i < periods; i++) {\n                marks.push(subject.periods[i].final_mark);\n            }\n            let renderedMarks = [];\n            marks.forEach(mark => {\n                if (mark)\n                    renderedMarks.push(\n                        <div className=\"resultMarksContainerMark\">\n                            <Mark size=\"24\" val={mark} is_routine={true} fontSize=\"12\"/>\n                        </div>\n                    )\n            });\n\n            return (\n                <Div className=\"resultMarksContainer\">\n                    <span className=\"resultMarksContainerSubject\">{subject.name}</span>\n                    <div className=\"resultMarksContainerMarks\">\n                        {renderedMarks}\n                        <div className=\"resultMarksContainerResultedMark\">\n                            <Mark size=\"24\" val={subject.year_mark} is_routine={false} fontSize=\"12\"/>\n                        </div>\n                    </div>\n                </Div>\n            );\n        };\n\n        this.marksData.data.forEach(subject => {\n            if (subject.periods.length !== 0)\n                subjectFields.push(drawSubjectField(subject));\n        });\n\n        return (\n            <div>\n                {subjectFields}\n            </div>\n        )\n    };\n\n    render() {\n        return (\n            <Panel id={this.props.id}>\n                <PanelHeader\n                    noShadow={true}\n                >\n                    Оценки\n                </PanelHeader>\n                {this.state.error ?\n                    <p className=\"marksScreenError\">Непредвиденная ошибка. Пожалуйста, попробуйте позже.</p>\n                    :\n                    <div className=\"marksScreen\">\n                        <Div style={{paddingTop: \"13px\", paddingBottom: \"13px\",}}>\n                            <Tabs theme=\"header\" type=\"buttons\" className=\"marksTabs\">\n                                {this.drawTabsItem()}\n                                <TabsItem\n                                    onClick={() => this.setState({activeTab: 'result'})}\n                                    selected={this.state.activeTab === 'result'}\n                                >\n                                    Итоговые\n                                </TabsItem>\n                            </Tabs>\n                        </Div>\n                        {this.state.ready ? this.tabs[this.state.activeTab - 1] : this.drawSpinner()}\n                        {this.state.activeTab === 'result' ? this.drawResultTab() : null}\n                    </div>\n                }\n            </Panel>\n        )\n    }\n\n}\n\nMarks.propTypes = {\n    id: PropTypes.string.isRequired,\n    getMarks: PropTypes.func.isRequired,\n    getLastMarks: PropTypes.func.isRequired,\n    profile: PropTypes.any.isRequired,\n    appData: PropTypes.any.isRequired,\n    openModal: PropTypes.func.isRequired,\n    closeModal: PropTypes.func.isRequired,\n};\n\nexport default Marks;","export function scheduleGetDates() {\n    let today = new Date(2019, 4, 13);\n    let dayOfWeek = today.getDay();\n    let monday = null;\n\n    if (dayOfWeek > 0){\n        let shift = dayOfWeek - 1;\n        monday = new Date(today.getFullYear(), today.getMonth(), today.getDate() - shift)\n    } else\n        monday = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 1);\n\n    let dates = [];\n\n    for (let i = 0; i < 7; i++) {\n        let date = new Date(monday.getFullYear(), monday.getMonth(), monday.getDate() + i);\n\n        dates.push(date.getDate());\n    }\n\n    console.log(\"tot\", today);\n    console.log(\"mom\", monday);\n\n    dates.push(monday);\n    dates.push(new Date(monday.getFullYear(), monday.getMonth(), monday.getDate() + 6));\n\n    return dates;\n}\n\nexport function setCorrectYear(str){\n    let correctYear = str.slice(8);\n    str = str.slice(0, 6);\n    str = str + correctYear;\n    return str;\n}\n\nexport function getRusMonthName(monthNum) {\n    switch (monthNum) {\n        case 0:\n            return \"Январь\";\n        case 1:\n            return \"Февраль\";\n        case 2:\n            return \"Март\";\n        case 3:\n            return \"Апрель\";\n        case 4:\n            return \"Май\";\n        case 5:\n            return \"Июнь\";\n        case 6:\n            return \"Июль\";\n        case 7:\n            return \"Август\";\n        case 8:\n            return \"Сентябрь\";\n        case 9:\n            return \"Октябрь\";\n        case 10:\n            return \"Ноябрь\";\n        case 11:\n            return \"Декабрь\";\n\n    }\n}\n\nexport function getStartDateForLastMarks(dueDate) {\n    let startDate = new Date(dueDate.getFullYear(), dueDate.getMonth(), dueDate.getDate() - 7);\n    return startDate;\n}","import {getStartDateForLastMarks, setCorrectYear} from \"../../utils/utils\"\n\nconst axios = require('axios');\nlet baseUrl = \"https://bklet.ml/\";\n\nexport function getJournal(id, secret, start, end) {\n    return dispatch => {\n        dispatch({\n            type: \"GET_JOURNAL_REQUEST\",\n            data: {\n                data: {\n                    days: []\n                }\n            },\n        });\n\n        getSchedule(id, secret, start, end, dispatch);\n    }\n}\n\nfunction getSchedule(id, secret, start, end, dispatcher) {\n    let methodUrl = \"api/diary/journal/dates/\";\n\n    // let queries = `?id=${id}&secret=${secret}&start=${setCorrectYear(start.toLocaleDateString(\"ru-RU\"))}&end=${setCorrectYear(end.toLocaleDateString(\"ru-RU\"))}`;\n    let queries = `?id=0&secret=${secret}&start=${setCorrectYear(start.toLocaleDateString(\"ru-RU\"))}&end=${setCorrectYear(end.toLocaleDateString(\"ru-RU\"))}`;\n\n    console.log(\"q\", queries);\n\n    axios.get(baseUrl + methodUrl + queries)\n        .then((response) => {\n            console.log(\"resp\", response.data);\n            dispatcher({\n                type: \"GET_JOURNAL_SUCCESS\",\n                data: response.data\n            })\n        })\n        .catch(error => {\n            console.log(\"schedule error\", error);\n            dispatcher({\n                type: \"GET_JOURNAL_FAIL\",\n                data: error\n            })\n        });\n}\n\nexport function getMarks(id, secret) {\n    return dispatch => {\n        dispatch({\n            type: \"GET_MARKS_REQUEST\",\n            data: {\n                data: []\n            },\n        });\n\n        getAndAggregateMarks(id, secret, dispatch)\n    }\n}\n\nfunction getAndAggregateMarks(id, secret, dispatcher) {\n    let methodUrl = \"api/diary/marks/all/\";\n    let startDate = new Date(2018, 9, 3);\n    let endDate = new Date();\n\n    // let queries = `?id=${id}&secret=${secret}&start=${setCorrectYear(startDate.toLocaleDateString(\"ru-RU\"))}&end=${setCorrectYear(endDate.toLocaleDateString(\"ru-RU\"))}`;\n    let queries = `?id=0&secret=${secret}&start=${setCorrectYear(startDate.toLocaleDateString(\"ru-RU\"))}&end=${setCorrectYear(endDate.toLocaleDateString(\"ru-RU\"))}`;\n\n    console.log(baseUrl + methodUrl + queries);\n\n    axios.get(baseUrl + methodUrl + queries)\n        .then((response) => {\n            console.log(\"resp\", response.data);\n            dispatcher({\n                type: \"GET_MARKS_SUCCESS\",\n                data: response.data\n            })\n        })\n        .catch(error => {\n            console.log(\"marks error\", error)\n            dispatcher({\n                type: \"GET_MARKS_FAIL\",\n                data: error\n            })\n        });\n}\n\nexport function getLastMarks(id, secret) {\n\n    return dispatch => {\n        dispatch({\n            type: \"GET_LAST_MARKS_REQUEST\",\n            data: {\n                data: []\n            },\n        });\n\n        getLMarks(id, secret, dispatch);\n    }\n}\n\nfunction getLMarks(id, secret, dispatcher) {\n    let methodUrl = \"api/diary/marks/dates/\";\n    let endDate = new Date(2019, 3, 15);\n    let startDate = getStartDateForLastMarks(endDate);\n\n    // let queries = `?id=${id}&secret=${secret}&start=${setCorrectYear(startDate.toLocaleDateString(\"ru-RU\"))}&end=${setCorrectYear(endDate.toLocaleDateString(\"ru-RU\"))}`;\n    let queries = `?id=0&secret=${secret}&start=${setCorrectYear(startDate.toLocaleDateString(\"ru-RU\"))}&end=${setCorrectYear(endDate.toLocaleDateString(\"ru-RU\"))}`;\n\n    console.log(\"start\", startDate, startDate.toLocaleDateString(\"ru-RU\"));\n    console.log(\"end\", endDate, endDate.toLocaleDateString(\"ru-RU\"));\n    console.log(\"error here\", baseUrl + methodUrl + queries);\n\n    axios.get(baseUrl + methodUrl + queries)\n        .then((response) => {\n            console.log(\"last marks resp\", response.data);\n            dispatcher({\n                type: \"GET_LAST_MARKS_SUCCESS\",\n                data: response.data\n            })\n        })\n        .catch(error => {\n            console.log(\"last marks error\", error);\n            dispatcher({\n                type: \"GET_LAST_MARKS_FAIL\",\n                data: error\n            })\n        });\n}","import React from 'react';\nimport {View, ModalRoot, ModalPageHeader, IS_PLATFORM_ANDROID, HeaderButton, ModalPage} from '@vkontakte/vkui';\nimport Marks from '../panels/marks'\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\nimport \"./styles/Marks.css\"\n\nimport {connect} from \"react-redux\";\nimport {getLastMarks, getMarks} from \"../redux/actions/AppLogicAction\";\n\nclass MarksView extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            modalMarks: null,\n        };\n        this.closeModal = () => {\n            this.setState({modalMarks: null})\n        };\n    }\n\n    setModalMark = (modal, name) => {\n        this.setState({\n            modalMarks:\n                <ModalRoot activeModal=\"modalMark\">\n                    <ModalPage\n                        id=\"modalMark\"\n                        onClose={this.closeModal}\n                        settlingHeight={50}\n                        header={\n                            <ModalPageHeader\n                                left={IS_PLATFORM_ANDROID &&\n                                <HeaderButton onClick={this.closeModal}><Icon24Cancel style={{color:\"#999999\"}}/></HeaderButton>}\n                            >\n                                {name}\n                            </ModalPageHeader>\n                        }>\n                        {modal}\n                    </ModalPage>\n                </ModalRoot>\n        })\n    };\n\n    render() {\n        return (\n            <View activePanel={this.props.activePanel} modal={this.state.modalMarks}>\n                <Marks id=\"marks\"\n                       profile={this.props.profile}\n                       appData={this.props.appLogic}\n                       getMarks={this.props.getMarksAction}\n                       getLastMarks={this.props.getLastMarksAction}\n                       openModal={this.setModalMark}\n                       closeModal={this.closeModal}\n                />\n            </View>\n        )\n    }\n}\n\nconst mapStateToProps = store => {\n    console.log(\"Marks View\", store);\n    return {\n        activePanel: store.activePanel,\n        profile: store.profile,\n        appLogic: store.appLogic,\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        getMarksAction: (userId, secret) => {\n            dispatch(getMarks(userId, secret))\n        },\n        getLastMarksAction: (userId, secret) => {\n            dispatch(getLastMarks(userId, secret))\n        }\n    }\n};\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(MarksView);","import {Div, Button, Panel, PanelHeader, FixedLayout, Gallery,} from '@vkontakte/vkui';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/schedule.css\"\nimport Mark from \"../custom_components/mark\"\nimport CustomSpinner from \"../custom_components/customSpinner\"\nimport {scheduleGetDates, getRusMonthName} from \"../utils/utils\"\n\nclass Schedule extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.dayDates = scheduleGetDates();\n        this.scheduleData = this.props.appData.journal;\n        let flag = this.props.appData.journal.data.days.length === 0;\n\n        this.state = {\n            currentDay: (this.props.currentDay ? this.props.currentDay === 0 ? 6 : this.props.currentDay : 1),\n            month: getRusMonthName(new Date().getMonth()),\n            weekDuration: (!flag ? this.scheduleData.data.days.length : 5),\n            ready: !flag,\n            heights: [],\n            error: false\n        };\n\n        if (flag)\n            this.loadData();\n    }\n\n    loadData = async () => {\n        this.props.getJournal(this.props.profile.id, this.props.profile.secret, this.dayDates[7], this.dayDates[8]);\n        let journal = this.props.appData.journal;\n\n        let id = setInterval(() => {\n            if (this.props.appData.error) {\n                clearInterval(id);\n                this.setState({error: true, ready: true});\n            }\n            if (this.props.appData.journal.length !== 0 && !this.state.error) {\n                this.scheduleData = this.props.appData.journal;\n                clearInterval(id);\n                this.setState({\n                    ready: true,\n                    weekDuration: (this.scheduleData.data.days.length > 5 ? 6 : 5) // if holidays, length is equal to 0\n                });\n            }\n        }, 200);\n\n    };\n\n    drawSpinner = () => {\n        return (\n            <CustomSpinner isInverse={false}/>\n        );\n    };\n\n    drawTopBar = () => { //FIXME\n        return (\n            <FixedLayout className=\"scheduleWeekTopBarContainer\">\n                <Div className=\"scheduleWeekTopBar\">\n                    <div className=\"scheduleWeekDay\">\n                        <span>ПН</span>\n                        <Button level=\"tertiary\" style={{margin: 0, padding: 0, color: \"#fff\"}}\n                                onClick={() => this.setState({currentDay: 1})}>\n                            <div\n                                className={`scheduleWeekDayDate ${this.state.currentDay === 1 ? 'scheduleWeekDaySelected' : null}`}>\n                                {this.dayDates[0]}\n                            </div>\n                        </Button>\n                    </div>\n                    <div className=\"scheduleWeekDay\">\n                        <span>ВТ</span>\n                        <Button level=\"tertiary\" style={{margin: 0, padding: 0, color: \"#fff\"}}\n                                onClick={() => this.setState({currentDay: 2})}>\n                            <div\n                                className={`scheduleWeekDayDate ${this.state.currentDay === 2 ? 'scheduleWeekDaySelected' : null}`}>\n                                {this.dayDates[1]}\n                            </div>\n                        </Button>\n                    </div>\n                    <div className=\"scheduleWeekDay\">\n                        <span>СР</span>\n                        <Button level=\"tertiary\" style={{margin: 0, padding: 0, color: \"#fff\"}}\n                                onClick={() => this.setState({currentDay: 3})}>\n                            <div\n                                className={`scheduleWeekDayDate ${this.state.currentDay === 3 ? 'scheduleWeekDaySelected' : null}`}>\n                                {this.dayDates[2]}\n                            </div>\n                        </Button>\n                    </div>\n                    <div className=\"scheduleWeekDay\">\n                        <span>ЧТ</span>\n                        <Button level=\"tertiary\" style={{margin: 0, padding: 0, color: \"#fff\"}}\n                                onClick={() => this.setState({currentDay: 4})}>\n                            <div\n                                className={`scheduleWeekDayDate ${this.state.currentDay === 4 ? 'scheduleWeekDaySelected' : null}`}>\n                                {this.dayDates[3]}\n                            </div>\n                        </Button>\n                    </div>\n                    <div className=\"scheduleWeekDay\">\n                        <span>ПТ</span>\n                        <Button level=\"tertiary\" style={{margin: 0, padding: 0, color: \"#fff\"}}\n                                onClick={() => this.setState({currentDay: 5})}>\n                            <div\n                                className={`scheduleWeekDayDate ${this.state.currentDay === 5 ? 'scheduleWeekDaySelected' : null}`}>\n                                {this.dayDates[4]}\n                            </div>\n                        </Button>\n                    </div>\n                    {(\n                        this.state.weekDuration === 6 ?\n                            <div className=\"scheduleWeekDay\">\n                                <span>СБ</span>\n                                <Button level=\"tertiary\" style={{margin: 0, padding: 0, color: \"#fff\"}}\n                                        onClick={() => this.setState({currentDay: 6})}>\n                                    <div\n                                        className={`scheduleWeekDayDate ${this.state.currentDay === 6 ? 'scheduleWeekDaySelected' : null}`}>\n                                        {this.dayDates[5]}\n                                    </div>\n                                </Button>\n                            </div>\n                            :\n                            null\n                    )}\n                </Div>\n            </FixedLayout>\n        );\n    };\n\n    generateScheduleTale = (day) => {\n        let generateSubjectTale = (subject) => {\n            let marks = [];\n            let homework = null;\n            let modalMarksPresentation = [];\n            if (subject) {\n                if (subject.marks) {\n                    console.log(\"subject\", subject.marks);\n                    subject.marks.forEach(mark => {\n                        marks.push( //Append weight here\n                            <Mark size=\"24\" val={mark.score.toString()} is_routine={false} fontSize=\"14\"\n                                  weight={mark.weight.toString()}/>\n                        );\n                        modalMarksPresentation.push(\n                            <div className=\"modalScheduleInfoRow\">\n                                <div className=\"modalScheduleInfoRowLeft\">\n                                    <Mark size=\"22\" val={mark.score.toString()} is_routine={false} fontSize=\"14\"\n                                          weight={mark.weight.toString()}/>\n                                </div>\n                                <div className=\"modalScheduleInfoRowText\">\n                                </div>\n                            </div>\n                        );\n                    });\n                }\n                if (subject.assignments) {\n                    subject.assignments.forEach(assignment => {\n                        try {\n                            homework = assignment.text\n                        } catch (e) {\n\n                        }\n                    });\n                }\n            }\n            console.log(\"building modal\");\n            let modal = (\n                subject.label.title ?\n                    <div>\n                        {subject.marks ?\n                            <div>\n                                <div className=\"modalScheduleTitle\">\n                                    Сведения о предмете\n                                </div>\n                                {modalMarksPresentation}\n                            </div>\n                            : null}\n                        {homework ?\n                            <div>\n                                <div className=\"modalScheduleTitle\">\n                                    Домашнее задание\n                                </div>\n                                <div className=\"modalScheduleInfoRow\">\n                                    <div className=\"modalScheduleInfoRowLeft\">\n                                        -\n                                    </div>\n                                    <div className=\"modalScheduleInfoRowText\">\n                                        {homework}\n                                    </div>\n                                </div>\n                            </div>\n                            : null}\n                        {subject.room ?\n                            <div>\n                                <div className=\"modalScheduleTitle\">\n                                    Кабинет\n                                </div>\n                                <div className=\"modalScheduleInfoRow\">\n                                    <div className=\"modalScheduleInfoRowLeft\">\n                                        -\n                                    </div>\n                                    <div className=\"modalScheduleInfoRowText\">\n                                        {subject.room}\n                                    </div>\n                                </div>\n                            </div>\n                            : null}\n                        <div>\n                            <div className=\"modalScheduleTitle\">\n                                Тема урока\n                            </div>\n                            <div className=\"modalScheduleInfoRow\">\n                                <div className=\"modalScheduleInfoRowLeft\">\n                                    -\n                                </div>\n                                <div className=\"modalScheduleInfoRowText\">\n                                    {subject.label.title}\n                                </div>\n                            </div>\n                        </div>\n                        {(subject.label.module ?\n                            <div>\n                                <div className=\"modalScheduleTitle\">\n                                    Модуль\n                                </div>\n                                <div className=\"modalScheduleInfoRow\">\n                                    <div className=\"modalScheduleInfoRowLeft\">\n                                        -\n                                    </div>\n                                    <div className=\"modalScheduleInfoRowText\">\n                                        {subject.label.module}\n                                    </div>\n                                </div>\n                            </div>\n                            : null)}\n                    </div>\n                    : null\n            );\n\n            return (\n                <div className=\"scheduleSubjectTale\" onClick={() => this.props.openModal(modal, subject.name)}>\n                    <div className=\"scheduleSubjectTaleNumber\">\n                        {subject.number}\n                    </div>\n                    <div className=\"scheduleSubjectTaleInfo\">\n                        <span className=\"scheduleSubjectTaleSubjectName\">\n                            {subject.name}\n                        </span>\n                        <span className=\"scheduleSubjectTaleHomework\">\n                            {homework}\n                        </span>\n                        <span className=\"scheduleSubjectTaleTimetable\">\n                            {subject.time[0]} - {subject.time[1]}\n                        </span>\n                    </div>\n                    <div className=\"scheduleSubjectTaleMarks\">\n                        {marks}\n                    </div>\n                </div>\n            )\n        };\n\n        let subjectTales = [];\n\n        let subjects = day.subjects;\n        subjects.forEach((subject) => {\n            let sbj = generateSubjectTale(subject);\n            // console.log(\"sbj\", sbj);\n            subjectTales.push(sbj)\n        });\n\n        subjectTales.push(<div className=\"scheduleSubjectLastChild\"></div>);\n\n        return (\n            <div className=\"scheduleTale\">\n                {subjectTales}\n            </div>\n        );\n    };\n    generateEmptyTale = () => {\n        return (\n            <div className=\"scheduleTale\">\n                <p>Сегодня нет занятий</p>\n            </div>\n        )\n    };\n    generateErrorSchedule = () => {\n        return (\n            <div className=\"scheduleTale\">\n                <p className=\"scheduleTaleError\">Непредвиденная ошибка. Пожалуйста, попробуйте позже.</p>\n            </div>\n        )\n    };\n\n    generateSchedule = () => {\n        let days = this.scheduleData.data.days;\n        let tales = [];\n\n        if (this.state.error) {\n            for (let i = 0; i < 5; i++) {\n                tales.push(this.generateErrorSchedule());\n            }\n        } else {\n            days.forEach((day) => {\n                tales.push(this.generateScheduleTale(day));\n            });\n\n            if (tales.length === 0) {\n                for (let i = 0; i < 5; i++) {\n                    tales.push(this.generateEmptyTale());\n                }\n            }\n        }\n\n        tales.push(<div></div>);\n        return tales\n    };\n\n    drawShedule = () => {\n        return (\n            <Gallery\n                slideWidth=\"100%\"\n                className=\"scheduleSliderContainer\"\n                slideIndex={this.state.currentDay > 0 ? this.state.currentDay - 1 : this.state.currentDay}\n                onChange={slideIndex => {\n                    this.setState({currentDay: (slideIndex + 1)});\n                }}\n                onEnd={(this.state.currentDay > this.state.weekDuration ? this.setState({currentDay: this.state.weekDuration}) : null)}\n            >\n                {this.generateSchedule()}\n            </Gallery>\n        );\n    };\n\n    render() {\n        return (\n            <Panel id={this.props.id} style={{backgroundColor: \"rgb(86, 144, 255)\"}}>\n                <PanelHeader\n                    noShadow>\n                    <span className=\"scheduleHeaderMonth\">{this.state.month}</span>\n                </PanelHeader>\n                {this.drawTopBar()}\n                {\n                    (this.state.ready ? this.drawShedule() : this.drawSpinner())\n                }\n            </Panel>\n        )\n    }\n}\n\nSchedule.propTypes = {\n    id: PropTypes.string.isRequired,\n    currentDay: PropTypes.number,\n    profile: PropTypes.any.isRequired,\n    getJournal: PropTypes.func.isRequired,\n    appData: PropTypes.any.isRequired,\n    openModal: PropTypes.func.isRequired,\n};\n\nexport default Schedule;","import React from 'react';\nimport {HeaderButton, IS_PLATFORM_ANDROID, ModalPage, ModalPageHeader, ModalRoot, View} from '@vkontakte/vkui';\nimport Schedule from '../panels/schedule'\nimport {connect} from \"react-redux\";\nimport {getJournal} from \"../redux/actions/AppLogicAction\";\nimport \"./styles/Schedule.css\"\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\n\nclass ScheduleView extends React.Component {\n    constructor(props) {\n        super(props);\n        this.currentDay = new Date().getDay();\n\n        this.state = {\n            modalSchedule: \"modalSchedule\",\n        };\n        this.closeModal = () => {\n            this.setState({modalSchedule: null})\n        };\n    }\n\n    setModalSchedule = (modal, name) => {\n        console.log(\"here\");\n        this.setState({\n            modalSchedule:\n                <ModalRoot activeModal=\"modalSchedule\">\n                    <ModalPage\n                        id=\"modalSchedule\"\n                        onClose={this.closeModal}\n                        settlingHeight={50}\n                        header={\n                            <ModalPageHeader\n                                left={IS_PLATFORM_ANDROID &&\n                                <HeaderButton onClick={this.closeModal}><Icon24Cancel style={{color:\"#999999\"}}/></HeaderButton>}\n                            >\n                                {name}\n                            </ModalPageHeader>\n                        }>\n                        {modal}\n                    </ModalPage>\n                </ModalRoot>\n        })\n    };\n\n    render() {\n        return (\n            <View activePanel={this.props.activePanel} modal={this.state.modalSchedule}>\n                <Schedule id=\"schedule\"\n                          currentDay={this.currentDay}\n                          profile={this.props.profile}\n                          getJournal={this.props.getJournalAction}\n                          appData={this.props.appLogic}\n                          openModal={this.setModalSchedule}\n                />\n            </View>\n        )\n    }\n}\n\nconst mapStateToProps = store => {\n    console.log(\"Schedule View\", store);\n    return {\n        activePanel: store.activePanel,\n        profile: store.profile,\n        appLogic: store.appLogic,\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        getJournalAction: (journal, userId, secret, start, end) => {\n            dispatch(getJournal(journal, userId, secret, start, end))\n        }\n    }\n};\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ScheduleView);","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport \"./inviteUserContainer.css\"\n\nconst InviteUserContainer = props => (\n    <div className=\"inviteUserContainer\" style={{background:`linear-gradient(90deg, ${props.inputColor[0]}, ${props.inputColor[1]})`, boxShadow: `0 0 8px 0 ${props.shadowColor}`}}>\n        <div>{props.is_invited ? \"+\" : \"-\"}</div>\n    </div>\n);\n\nInviteUserContainer.propTypes = {\n    is_invited: PropTypes.bool,\n    inputColor: PropTypes.array.isRequired,\n    shadowColor: PropTypes.string.isRequired,\n};\n\nexport default InviteUserContainer;","import {Div, Button, Panel, PanelHeader, FixedLayout} from '@vkontakte/vkui';\nimport connect from '@vkontakte/vkui-connect';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/plus.css\"\n\nimport InviteUserContainer from \"../custom_components/inviteUserContainer\"\nimport PlusIcon from \"../custom_components/icon-pack/PlusIcon\"\n\n\nclass Plus extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            currentDay: (this.props.currentDay ? this.props.currentDay : 1),\n        };\n\n        this.appId = 0;\n        this.action = \"pay-to-group\";\n        this.groupId = 0;\n    }\n\n    doPay = () => {\n        let json = {\n            app_id: this.appId,\n            action: this.action,\n            params: {\n                action: this.action,\n                amount: 1,\n                description: \"Buying subscription\",\n                data: {},\n                group_id: this.groupId\n            }\n        };\n\n        let response = connect.send(\"VKWebAppOpenPayForm\",\n            JSON.stringify(json))\n    };\n\n    render() {\n        return (\n            <Panel id={this.props.id}>\n                <PanelHeader\n                    noShadow={true}\n                    left={<Div style={{fontWeight: 'bold', fontSize: '20px'}}><span>Booklet Plus</span></Div>}>\n                </PanelHeader>\n                <FixedLayout style={{width: \"100%\"}}>\n                    <Div className=\"plusBlueBack\">\n                        <span>Расширь возможности своего дневника</span>\n                        <PlusIcon selected={true} size=\"42\" stroke_color={\"#ffffff\"}/>\n                    </Div>\n                </FixedLayout>\n                <div style={{padding: \"0 16px 0 16px\", marginBottom: \"8px\"}}>\n                    <Button level=\"tertiary\" className=\"plusVkContainer\">\n                        Бот для ВКонтакте\n                    </Button>\n                </div>\n                <div style={{padding: \"0 16px 0 16px\", marginBottom: \"8px\"}}>\n                    <Button level=\"tertiary\" className=\"plusTelegramContainer\">\n                        Бот для Телеграм\n                    </Button>\n                </div>\n                <div style={{padding: \"0 16px 0 16px\", marginBottom: \"8px\"}}>\n                    <Button level=\"tertiary\" className=\"plusAliceContainer\">\n                        Навык для Алисы\n                    </Button>\n                </div>\n                <div className=\"plusOfferContainer\">\n                    <Div className=\"plusOfferInfo\">\n                        <span className=\"plusOfferTitle\">\n                            Бесплатный доступ к уведомлениям\n                        </span>\n                        <span className=\"plusOfferText\">\n                            Пригласите пятерых друзей и получите звездюлей\n                        </span>\n                        <div className=\"plusOfferAdditional\">\n                            <InviteUserContainer inputColor={[\"rgb(21 237 237)\", \"rgb(2 156 245)\"]}\n                                                 shadowColor=\"rgb(17 221 239)\"/>\n                            <InviteUserContainer inputColor={[\"rgb(32 217 110)\", \"rgb(39 174 96)\"]}\n                                                 shadowColor=\"rgb(32 217 110)\"/>\n                            <InviteUserContainer inputColor={[\"rgb(255 223 64)\", \"rgb(255 131 89)\"]}\n                                                 shadowColor=\"rgb(255 203 70)\"/>\n                            <InviteUserContainer inputColor={[\"rgb(255 124 110)\", \"rgb(245 49 127)\"]}\n                                                 shadowColor=\"rgb(250 89 118)\"/>\n                            <InviteUserContainer inputColor={[\"rgb(255 99 222)\", \"rgb(177 34 229)\"]}\n                                                 shadowColor=\"rgb(232 80 225)\"/>\n                        </div>\n                    </Div>\n                    <Button level=\"tertiary\" className=\"plusButton\"\n                            style={{background: \"linear-gradient(rgb(77 229 101), rgb(74 195 122))\"}}>\n                        Пригласить друзей\n                    </Button>\n                </div>\n                <div className=\"plusOfferContainer\">\n                    <Div className=\"plusOfferInfo\">\n                        <span className=\"plusOfferTitle\">\n                            Уведомления\n                        </span>\n                        <span className=\"plusOfferText\">\n                            — Новые оценки\n                        </span>\n                        <span className=\"plusOfferText\">\n                            — Текущий/следующий урок\n                        </span>\n                        <span className=\"plusOfferText\">\n                            — События в классе\n                        </span>\n                        <span className=\"plusOfferText\">\n                            — Отчётность за день\n                        </span>\n                        <div className=\"plusOfferAdditional\">\n                            <span className=\"plusOfferText\">\n                                149 рублей за год — как шаверма в центре Москвы\n                            </span>\n                        </div>\n                    </Div>\n                    <Button level=\"tertiary\" className=\"plusButton\">\n                        Купить — 149 руб.\n                    </Button>\n                </div>\n            </Panel>\n        );\n    }\n}\n\n\nPlus.propTypes = {\n    id: PropTypes.string.isRequired,\n};\n\nexport default Plus;","import React from 'react';\nimport {View} from '@vkontakte/vkui';\nimport Plus from \"../panels/plus\";\nimport {connect} from \"react-redux\";\n\nclass PlusView extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <View activePanel={this.props.activePanel}>\n                <Plus  id=\"plus\"/>\n            </View>\n        )\n    }\n}\n\nconst mapStateToProps = store => {\n    console.log(\"Plus View\", store);\n    return {\n        activePanel: store.activePanel,\n        profile: store.profile,\n    }\n};\n\nexport default connect(mapStateToProps)(PlusView)","import React from 'react';\n\nconst VKSettingsIcon = props => (\n    <svg width=\"29\" height=\"29\" viewBox=\"0 0 29 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M0 6.5C0 3.18629 2.68629 0.5 6 0.5H23C26.3137 0.5 29 3.18629 29 6.5V23.5C29 26.8137 26.3137 29.5 23 29.5H6C2.68629 29.5 0 26.8137 0 23.5V6.5Z\" fill=\"#5181B8\"/>\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M23.564 10.6771C23.6961 10.2868 23.564 10 22.9354 10H20.8568C20.3283 10 20.0846 10.2478 19.9525 10.521C19.9525 10.521 18.8954 12.8043 17.398 14.2875C16.9135 14.7169 16.6933 14.8535 16.429 14.8535C16.2969 14.8535 16.1057 14.7169 16.1057 14.3266V10.6771C16.1057 10.2087 15.9523 10 15.5118 10H12.2454C11.9152 10 11.7165 10.2174 11.7165 10.4234C11.7165 10.8674 12.4652 10.9698 12.5424 12.2189V14.9316C12.5424 15.5263 12.4212 15.6341 12.1569 15.6341C11.4523 15.6341 9.73818 13.3406 8.72157 10.7162C8.52234 10.2061 8.32251 10 7.79128 10H5.71267C5.11878 10 5 10.2478 5 10.521C5 11.0089 5.70469 13.4288 8.28117 16.6294C9.99881 18.8152 12.4189 20 14.621 20C15.9423 20 16.1057 19.7368 16.1057 19.2836V17.6316C16.1057 17.1053 16.2309 17.0002 16.6493 17.0002C16.9576 17.0002 17.4861 17.1368 18.7193 18.1907C20.1287 19.4397 20.361 20 21.1538 20H23.2324C23.8263 20 24.1232 19.7368 23.9519 19.2175C23.7644 18.6999 23.0915 17.949 22.1987 17.0588C21.7142 16.5514 20.9875 16.0049 20.7673 15.7317C20.459 15.3804 20.5471 15.2243 20.7673 14.912C20.7673 14.912 23.2998 11.7505 23.564 10.6771Z\" fill=\"white\"/>\n    </svg>\n\n);\n\nexport default VKSettingsIcon;","import React from 'react';\n\nconst AdvancesIcon = props => (\n    <svg width=\"29\" height=\"29\" viewBox=\"0 0 29 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M0 6.5C0 3.18629 2.68629 0.5 6 0.5H23C26.3137 0.5 29 3.18629 29 6.5V23.5C29 26.8137 26.3137 29.5 23 29.5H6C2.68629 29.5 0 26.8137 0 23.5V6.5Z\" fill=\"#007AFF\"/>\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M18.6667 18.915V21C18.6667 23.2091 16.8012 25 14.5 25C12.1989 25 10.3334 23.2091 10.3334 21V18.915C10.3334 18.7197 10.2613 18.5067 10.0911 18.2262C9.98181 18.046 9.83877 17.848 9.62296 17.5739L9.55036 17.483L9.55021 17.4828C9.40604 17.3024 9.0915 16.9089 8.97536 16.7583C7.79842 15.2322 7.20837 13.8699 7.20837 12C7.20837 8.13401 10.473 5 14.5 5C18.5271 5 21.7917 8.13401 21.7917 12C21.7917 13.9108 21.1936 15.3248 20.0267 16.848C19.903 17.0094 19.591 17.3987 19.4062 17.6292L19.4062 17.6292C19.3339 17.7195 19.281 17.7854 19.2666 17.8039C19.0308 18.105 18.8843 18.3185 18.7891 18.5039C18.7029 18.6717 18.6667 18.8013 18.6667 18.915ZM16.6289 18.4393C16.682 18.1627 16.7808 17.8913 16.9207 17.6191C17.0851 17.2991 17.2942 16.9943 17.6013 16.6022C17.6223 16.5752 17.6902 16.4905 17.7779 16.381L17.778 16.381C17.9655 16.1469 18.2437 15.7996 18.3484 15.663C19.274 14.4548 19.7084 13.4279 19.7084 12C19.7084 9.23858 17.3765 7 14.5 7C11.6236 7 9.29171 9.23858 9.29171 12C9.29171 13.3785 9.71531 14.3566 10.6497 15.5682C10.75 15.6983 11.0334 16.0529 11.1864 16.2444L11.2849 16.3679C11.5466 16.7003 11.7318 16.9566 11.8914 17.2196C12.1399 17.6291 12.3048 18.0283 12.3763 18.4423C13.0254 18.8163 13.7271 19 14.5 19C15.275 19 15.9783 18.8153 16.6289 18.4393ZM16.5834 21V20.6624C15.9246 20.8869 15.2285 21 14.5 21C13.7716 21 13.0755 20.8869 12.4167 20.6624V21C12.4167 22.1046 13.3494 23 14.5 23C15.6506 23 16.5834 22.1046 16.5834 21Z\" fill=\"white\"/>\n    </svg>\n);\n\nexport default AdvancesIcon;","import React from 'react';\n\nconst NewMarksIcon = props => (\n    <svg width=\"29\" height=\"29\" viewBox=\"0 0 29 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M0 6.5C0 3.18629 2.68629 0.5 6 0.5H23C26.3137 0.5 29 3.18629 29 6.5V23.5C29 26.8137 26.3137 29.5 23 29.5H6C2.68629 29.5 0 26.8137 0 23.5V6.5Z\" fill=\"#007AFF\"/>\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9.5 15C9.5 11.28 12.53 8.25 16.25 8.25C19.97 8.25 23 11.28 23 15C23 18.72 19.97 21.75 16.25 21.75C12.53 21.75 9.5 18.72 9.5 15ZM9.5075 10.26C7.73 11.1 6.5 12.9075 6.5 15C6.5 17.0925 7.73 18.9 9.5075 19.74V21.36C6.89 20.43 5 17.9325 5 15C5 12.0675 6.89 9.57 9.5075 8.64V10.26ZM16.25 20.25C13.355 20.25 11 17.895 11 15C11 12.105 13.355 9.75 16.25 9.75C19.145 9.75 21.5 12.105 21.5 15C21.5 17.895 19.145 20.25 16.25 20.25ZM14.5178 12L14.124 15.0244L15.3098 15.2805C15.4809 15.0745 15.7404 14.9715 16.0885 14.9715C16.7021 14.9715 17.0089 15.2873 17.0089 15.9187C17.0089 16.6016 16.7581 16.9431 16.2567 16.9431C16.0354 16.9431 15.857 16.8794 15.7213 16.752C15.5856 16.6247 15.5104 16.4526 15.4956 16.2358H14.0001C13.9971 16.5718 14.0959 16.874 14.2965 17.1423C14.4971 17.4079 14.7744 17.6179 15.1284 17.7724C15.4823 17.9241 15.8614 18 16.2655 18C16.7198 18 17.1136 17.9173 17.4469 17.752C17.7802 17.5867 18.0384 17.3509 18.2212 17.0447C18.4071 16.7358 18.5 16.3916 18.5 16.0122C18.5 15.3835 18.3274 14.8957 17.9823 14.5488C17.6401 14.1992 17.149 14.0244 16.5089 14.0244C16.3437 14.0244 16.1741 14.0461 16 14.0894C15.8289 14.1328 15.6903 14.1829 15.5841 14.2398L15.7301 13.065H18.2832V12H14.5178Z\" fill=\"white\"/>\n    </svg>\n);\n\nexport default NewMarksIcon","import React from 'react';\n\nconst GetOutIcon = props => (\n    <svg width=\"29\" height=\"29\" viewBox=\"0 0 29 29\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M0 6C0 2.68629 2.68629 0 6 0H23C26.3137 0 29 2.68629 29 6V23C29 26.3137 26.3137 29 23 29H6C2.68629 29 0 26.3137 0 23V6Z\" fill=\"#FF3B30\"/>\n        <path d=\"M20.2854 7H12.8568C11.91 7 11.1425 7.76751 11.1425 8.71428V12.1429C11.1425 12.4585 11.3983 12.7143 11.7139 12.7143C12.0295 12.7143 12.2854 12.4585 12.2854 12.1429V8.71428C12.2854 8.39868 12.5412 8.14285 12.8568 8.14285H20.2854C20.601 8.14285 20.8568 8.39868 20.8568 8.71428V21.2857C20.8568 21.6013 20.601 21.8572 20.2854 21.8572H12.8568C12.5412 21.8572 12.2853 21.6013 12.2853 21.2857V17.8571C12.2853 17.5415 12.0295 17.2857 11.7139 17.2857C11.3983 17.2857 11.1425 17.5415 11.1425 17.8571V21.2857C11.1425 22.2325 11.91 23 12.8567 23H20.2853C21.2321 23 21.9996 22.2325 21.9996 21.2857V8.71428C21.9996 7.76751 21.2321 7 20.2854 7Z\" fill=\"white\"/>\n        <path d=\"M17.4282 14.4139H7.95055L9.83228 12.5322C10.0515 12.3052 10.0452 11.9435 9.81821 11.7242C9.59676 11.5104 9.2457 11.5104 9.02429 11.7242L6.16712 14.5814C6.11405 14.6345 6.0721 14.6976 6.04371 14.7671C5.98592 14.9069 5.98592 15.0639 6.04371 15.2037C6.07224 15.2734 6.11439 15.3367 6.16769 15.3899L9.02482 18.2471C9.24406 18.4741 9.6058 18.4804 9.83281 18.2611C10.0598 18.0419 10.0661 17.6802 9.84688 17.4531C9.84229 17.4484 9.8376 17.4437 9.83281 17.4391L7.95055 15.5568H17.4283C17.7439 15.5568 17.9997 15.301 17.9997 14.9854C17.9997 14.6697 17.7438 14.4139 17.4282 14.4139Z\" fill=\"white\"/>\n    </svg>\n);\n\nexport default GetOutIcon;","import {Panel, PanelHeader, Button, Switch, Tooltip} from '@vkontakte/vkui';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/settings.css\"\nimport VKSettingsIcon from \"../custom_components/icon-pack/VKSettingsIcon\"\nimport AdvancesIcon from \"../custom_components/icon-pack/AdvancesIcon\"\nimport NewMarksIcon from \"../custom_components/icon-pack/NewMarksIcon\"\nimport Mark from \"../custom_components/mark\"\nimport GetOutIcon from \"../custom_components/icon-pack/GetOutIcon\"\n\n\nclass Settings extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            tooltip: false,\n        };\n    }\n\n    render() {\n        return (\n            <Panel id={this.props.id}>\n                <PanelHeader noShadow>\n                    Настройки\n                </PanelHeader>\n                <div className=\"groupSettingsContainer\">\n                    <div className=\"settingsTitleContainer\">\n                        <span className=\"settingsTitle\">\n                            Ссылки\n                        </span>\n                    </div>\n                    <Button level=\"tertiary\" className=\"settingsSettingContainer\">\n                        <VKSettingsIcon/>\n                        <div className=\"settingsSettingInfo\">\n                            <span className=\"settingsSettingTitle\" style={{color: \"#5181b8\", fontWeight: \"bold\"}}>\n                                Группа ВК\n                            </span>\n                            <span className=\"settingsSettingSwitch\">\n                        </span>\n                        </div>\n                    </Button>\n                </div>\n                <div className=\"groupSettingsContainer\">\n                    <div className=\"settingsTitleContainer\">\n                        <span className=\"settingsTitle\">\n                            Дневник\n                        </span>\n                    </div>\n                    <Button level=\"tertiary\" className=\"settingsSettingContainer\" onClick={this.props.chooseMark}>\n                        <div style={{width: \"24px\"}}>\n                            <Mark size=\"28\" val={this.props.expectedMark.toString()} is_routine={false}/>\n                        </div>\n                        <div className=\"settingsSettingInfo\">\n                        <span className=\"settingsSettingTitle\">\n                            Желаемая оценка\n                        </span>\n                        </div>\n                    </Button>\n                    <div className=\"settingsSettingContainer\" style={{paddingRight: \"-16px\"}}>\n                        <AdvancesIcon/>\n                        <div className=\"settingsSettingInfo\">\n                        <span className=\"settingsSettingTitle\">\n                            Уведомления\n                        </span>\n                            <span>\n                            <Switch className=\"settingsSettingSwitcher\"/>\n                        </span>\n                        </div>\n                    </div>\n                    <div className=\"settingsSettingContainer\" style={{paddingRight: \"-16px\"}}\n                         onClick={() => this.setState({tooltip: true})}>\n                        <NewMarksIcon/>\n                        <div className=\"settingsSettingInfo\">\n                        <span className=\"settingsSettingTitle\">\n                            Тёмная тема\n                        </span>\n                            <span>\n                            <Tooltip\n                                text=\"Потом добавлю, отъебись.\"\n                                isShown={this.state.tooltip}\n                                onClose={() => this.setState({tooltip: false})}\n                                offsetX={-5}\n                            >\n                                <Switch className=\"settingsSettingSwitcher\" disabled/>\n                            </Tooltip>\n                        </span>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"groupSettingsContainer\">\n                    <Button level=\"tertiary\" className=\"settingsSettingContainer\" style={{marginTop: \"35px\"}}>\n                        <GetOutIcon/>\n                        <div className=\"settingsSettingInfo\">\n                        <span className=\"settingsSettingTitle\" style={{color: \"#ff4939\", fontWeight: \"bold\"}}>\n                            Выйти\n                        </span>\n                        </div>\n                    </Button>\n                </div>\n            </Panel>\n        )\n    }\n}\n\nSettings.propTypes = {\n    id: PropTypes.string.isRequired,\n    expectedMark: PropTypes.number.isRequired,\n    chooseMark: PropTypes.func.isRequired,\n};\n\nexport default Settings;","import React from 'react';\nimport {View, ActionSheet, ActionSheetItem, platform, IOS} from '@vkontakte/vkui';\nimport Settings from '../panels/settings'\nimport {connect} from \"react-redux\";\nimport {setMark} from \"../redux/actions/expectedMarkAction\";\nimport Mark from \"../custom_components/mark\"\nimport \"./styles/Settings.css\"\n\nclass SettingsView extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            popout: null,\n        };\n\n        const osname = platform();\n\n        this.choise =\n            <ActionSheet\n                onClose={() => this.setState({popout: null})}\n                title=\"Выбери желаемую оценку\"\n            >\n                <ActionSheetItem autoclose onClick={() => {\n                    this.props.setMarkAction(5)\n                }}>\n                    <div className=\"markChooseLabelContainer\">\n                        <div className=\"markChooseMarkContainer\">\n                            <Mark size=\"28\" val=\"5\" is_routine={false}/>\n                        </div>\n                        <span className=\"markChooseLabel\">Всегда стремись к лучшему :)</span>\n                    </div>\n                </ActionSheetItem>\n                <ActionSheetItem autoclose onClick={() => {\n                    this.props.setMarkAction(4)\n                }}>\n                    <div className=\"markChooseLabelContainer\">\n                        <div className=\"markChooseMarkContainer\">\n                            <Mark size=\"28\" val=\"4\" is_routine={false}/>\n                        </div>\n                        <span className=\"markChooseLabel\">Адекватно оценивай свои возможности ;)</span>\n                    </div>\n                </ActionSheetItem>\n                <ActionSheetItem autoclose onClick={() => {\n                    this.props.setMarkAction(3)\n                }}>\n                    <div className=\"markChooseLabelContainer\">\n                        <div className=\"markChooseMarkContainer\">\n                            <Mark size=\"28\" val=\"3\" is_routine={false}/>\n                        </div>\n                        <span className=\"markChooseLabel\">Ёбаный инвалид, ты безнадёжен :(</span> /*Никогда не отчаивайся*/\n                    </div>\n                </ActionSheetItem>\n                {osname === IOS && <ActionSheetItem autoclose theme=\"cancel\">Cancel</ActionSheetItem>}\n            </ActionSheet>\n        ;\n    }\n\n    chooseMark = () => {\n        this.setState({popout: this.choise})\n    };\n\n    render() {\n        return (\n            <View activePanel={this.props.activePanel} popout={this.state.popout}>\n                <Settings id=\"settings\"\n                          expectedMark={this.props.expectedMark}\n                          chooseMark={this.chooseMark}/>\n            </View>\n        )\n    }\n}\n\nconst mapStateToProps = store => {\n    console.log(\"Settings View\", store);\n    return {\n        activePanel: store.activePanel,\n        profile: store.profile,\n        expectedMark: store.expectedMark\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setMarkAction: mark => dispatch(setMark(mark)),\n    }\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(SettingsView);","export function setMark(mark) {\n    return {\n        type: \"SET_MARK\",\n        value: mark\n    }\n}","import React from \"react\";\nimport { Epic, Tabbar, TabbarItem } from '@vkontakte/vkui';\nimport \"./styles/BottomBar.css\"\n\nimport AccountIcon from \"../custom_components/icon-pack/AccountIcon\"\nimport MarksIcon from \"../custom_components/icon-pack/MarksIcon\"\nimport ScheduleIcon from \"../custom_components/icon-pack/ScheduleIcon\"\nimport PlusIcon from \"../custom_components/icon-pack/PlusIcon\"\nimport SettingsIcon from \"../custom_components/icon-pack/SettingsIcon\"\n\n\nimport AccountView from \"./AccountView\";\nimport MarksView from \"./MarksView\";\nimport ScheduleView from \"./ScheduleView\";\nimport PlusView from \"./PlusView\";\nimport SettingsView from \"./SettingsView\";\nimport {setPanel} from \"../redux/actions/PanelAction\";\nimport {connect} from \"react-redux\";\n\n\nclass BottomBar extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            activeStory: 'Account',\n        };\n        this.onStoryChange = this.onStoryChange.bind(this);\n    }\n\n    onStoryChange(e) {\n        switch (e.currentTarget.dataset.story) {\n            case \"Account\":\n                this.props.setPanelAction(\"account\");\n                break;\n            case \"Marks\":\n                this.props.setPanelAction(\"marks\");\n                break;\n            case \"Schedule\":\n                this.props.setPanelAction(\"schedule\");\n                break;\n            case \"Plus\":\n                this.props.setPanelAction(\"plus\");\n                break;\n            case \"Settings\":\n                this.props.setPanelAction(\"settings\");\n                break;\n        }\n        this.setState({activeStory: e.currentTarget.dataset.story})\n    }\n\n    render() {\n        return (\n            <Epic className=\"bottomBarItself\" activeStory={this.state.activeStory} tabbar={\n                <Tabbar>\n                    <TabbarItem\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'Account'}\n                        data-story=\"Account\">\n                        <AccountIcon size=\"24\" selected={this.state.activeStory === 'Account'}/></TabbarItem>\n                    <TabbarItem\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'Marks'}\n                        data-story=\"Marks\">\n                        <MarksIcon size=\"24\" selected={this.state.activeStory === 'Marks'}/>\n                    </TabbarItem>\n                    <TabbarItem\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'Schedule'}\n                        data-story=\"Schedule\"\n                    ><ScheduleIcon size=\"24\" selected={this.state.activeStory === 'Schedule'}/></TabbarItem>\n                    <TabbarItem\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'Plus'}\n                        data-story=\"Plus\"\n                    ><PlusIcon size=\"24\" selected={this.state.activeStory === 'Plus'}/></TabbarItem>\n                    <TabbarItem\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'Settings'}\n                        data-story=\"Settings\"\n                    ><SettingsIcon size=\"24\" selected={this.state.activeStory === 'Settings'}/></TabbarItem>\n                </Tabbar>\n            }>\n                <AccountView id=\"Account\" >\n                </AccountView>\n                <MarksView id=\"Marks\" activePanel={this.props.activePanel}\n                           userId={this.props.userId}\n                           userSecret={this.props.userSecret}>\n                </MarksView>\n                <ScheduleView id=\"Schedule\" activePanel={this.props.activePanel}\n                              userId={this.props.userId}\n                              userSecret={this.props.userSecret}>\n                </ScheduleView>\n                <PlusView id=\"Plus\">\n                </PlusView>\n                <SettingsView id=\"Settings\">\n                </SettingsView>\n            </Epic>\n        )\n    }\n}\n\nconst mapStateToProps = store => {\n    console.log(\"BottomBar\", store);\n    return {\n        activePanel: store.activePanel,\n        profile: store.profile,\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setPanelAction: panel => dispatch(setPanel(panel)),\n    }\n};\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(BottomBar);","import React from 'react';\nimport VKconnect from '@vkontakte/vkui-connect';\nimport {Root} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport {connect} from 'react-redux'\n\nimport AuthorizationView from \"./views/AuthorizationView\"\nimport BottomBar from \"./views/BottomBar\"\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        VKconnect.subscribe((e) => {\n            switch (e.detail.type) {\n                case 'VKWebAppGetUserInfoResult':\n                    this.setState({fetchedUser: e.detail.data});\n                    break;\n                default:\n                    console.log(e.detail.type);\n            }\n        });\n        VKconnect.send('VKWebAppGetUserInfo', {});\n    }\n\n    render() {\n        return (\n            <Root activeView={this.props.activeView}>\n                <AuthorizationView\n                    id=\"AuthorizationView\"\n                >\n                </AuthorizationView>\n                <BottomBar id=\"MainView\"/>\n            </Root>\n        );\n    }\n}\n\nconst mapStateToProps = store => {\n    console.log(\"App\", store);\n    return {\n        activeView: store.activeView,\n        activePanel: store.activePanel,\n        userId: store.userId,\n        userSecret: store.userSecret,\n    }\n};\n\nexport default connect(mapStateToProps)(App)\n","const activeView = (state = \"AuthorizationView\", action) => {\n    switch (action.type) {\n        case \"SET_VIEW\":\n            return action.value;\n\n        default:\n            return state;\n    }\n};\n\nexport default activeView;","const activePanel = (state = \"choose_diary\", action) => {\n    switch (action.type) {\n        case \"SET_PANEL\":\n            return action.value;\n\n        default:\n            return state;\n    }\n};\n\nexport default activePanel","const fetchedUser = (state = null, action) => {\n    switch (action.type) {\n        default:\n            return state;\n    }\n};\n\nexport default fetchedUser;","const expectedMark = (state = 5, action) => {\n    switch (action.type) {\n        case \"SET_MARK\":\n            return action.value;\n        default:\n            return state;\n    }\n};\n\nexport default expectedMark;","const initialState = {\n    journal: {\n        data: {\n            days: []\n        }\n    },\n    marks: {\n        data : []\n    },\n    lastMarks: {\n        data : []\n    },\n    isFetching: false,\n    error: false,\n    errorLastMarks: false,\n};\n\nfunction appLogic(state = initialState, action) {\n    switch (action.type) {\n        case \"GET_JOURNAL_REQUEST\":\n            return {\n                ...state,\n                journal: action.data,\n                isFetching: true,\n                error: false,\n            };\n        case \"GET_JOURNAL_SUCCESS\":\n            return {\n                ...state,\n                journal: action.data,\n                isFetching: false,\n                error: false,\n            };\n        case \"GET_JOURNAL_FAIL\":\n            return {\n                ...state,\n                isFetching: false,\n                error: true,\n            };\n        case \"GET_MARKS_REQUEST\":\n            return {\n                ...state,\n                marks: action.data,\n                isFetching: true,\n                error: false,\n            };\n        case \"GET_MARKS_SUCCESS\":\n            return {\n                ...state,\n                marks: action.data,\n                isFetching: false,\n                error: false,\n            };\n        case \"GET_MARKS_FAIL\":\n            return {\n                ...state,\n                isFetching: false,\n                error: true,\n            };\n        case \"GET_LAST_MARKS_REQUEST\":\n            return {\n                ...state,\n                lastMarks: action.data,\n                isFetching: true,\n                errorLastMarks: false,\n            };\n        case \"GET_LAST_MARKS_SUCCESS\":\n            return {\n                ...state,\n                lastMarks: action.data,\n                isFetching: false,\n                errorLastMarks: false,\n            };\n        case \"GET_LAST_MARKS_FAIL\":\n            return {\n                ...state,\n                isFetching: false,\n                errorLastMarks: true,\n            };\n        default:\n            return state\n    }\n}\n\nexport default appLogic;","const initialState = {\n    id: null,\n    secret: null,\n    diary: null,\n    isFetching: false,\n};\n\nfunction profile(state = initialState, action) {\n    switch (action.type) {\n        case \"DO_AUTHORIZATION_REQUEST\":\n            return {\n                ...state,\n                id: action.data.id,\n                secret: action.data.secret,\n                isFetching: true\n            };\n\n        case \"DO_AUTHORIZATION_SUCCESS\":\n            return {\n                ...state,\n                id: action.data.id,\n                secret: action.data.secret,\n                isFetching: false\n            };\n        case \"DO_AUTHORIZATION_FAIL\":\n        //TODO append fail case\n        case \"SET_DIARY\":\n            return {\n                ...state,\n                diary: action.data,\n                isFetching: false\n            };\n\n        default:\n            return state\n    }\n}\n\nexport default profile;","import {combineReducers} from \"redux\"\n\nimport activeView from \"./activeViewR\"\nimport activePanel from \"./activePanelR\"\nimport fetchedUser from \"./fetchedUserR\"\nimport expectedMark from \"./expectedMarkR\"\nimport appLogic from \"./appLogicR\"\nimport profile from \"./profileR\"\n\nexport const rootReducer = combineReducers({\n    activeView: activeView,\n    activePanel: activePanel,\n    fetchedUser: fetchedUser,\n    expectedMark: expectedMark,\n    appLogic: appLogic,\n    profile: profile,\n});","import { createStore, applyMiddleware } from \"redux\";\nimport { rootReducer } from \"../reducers/main\"\nimport thunk from 'redux-thunk'\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\n\nexport default store;","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nfunction registerValidSW(swUrl) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the old content will have been purged and\n\t\t\t\t\t\t\t// the fresh content will have been added to the cache.\n\t\t\t\t\t\t\t// It's the perfect time to display a \"New content is\n\t\t\t\t\t\t\t// available; please refresh.\" message in your web app.\n\t\t\t\t\t\t\tconsole.log('New content is available; please refresh.');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\tresponse.headers.get('content-type').indexOf('javascript') === -1\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.');\n\t\t});\n}\n\nconst isLocalhost = Boolean(window.location.hostname === 'localhost' ||\n\t// [::1] is the IPv6 localhost address.\n\twindow.location.hostname === '[::1]' ||\n\t// 127.0.0.1/8 is considered localhost for IPv4.\n\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));\n\nexport default function register() {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Lets check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t'worker. To learn more, visit https://goo.gl/SC7cgQ'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not local host. Just register service worker\n\t\t\t\tregisterValidSW(swUrl);\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\nimport store from \"./redux/store/main\";\nimport {Provider} from \"react-redux\"\nimport registerServiceWorker from './sw';\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT \n\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>\n    , document.getElementById('root'));\n\nregisterServiceWorker();"],"sourceRoot":""}