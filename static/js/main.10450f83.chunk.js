(window.webpackJsonpjulista_vk=window.webpackJsonpjulista_vk||[]).push([[0],{147:function(e,t,a){e.exports=a(236)},191:function(e,t,a){},192:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},226:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},234:function(e,t,a){},235:function(e,t,a){},236:function(e,t,a){"use strict";a.r(t);a(148),a(173);var n=a(0),r=a.n(n),l=a(21),o=a.n(l),c=a(32),s=a.n(c),i=a(12),u=a(13),d=a(15),p=a(14),m=a(16),h=a(3),f=(a(187),a(18)),g=a(29),v=a.n(g),E=a(41),C=a(111),S=a.n(C),y=(a(191),function(e){return r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M12 19.2C9.5 19.2 7.29 17.92 6 16C6.03 14 10 12.9 12 12.9C14 12.9 17.97 14 18 16C16.71 17.92 14.5 19.2 12 19.2ZM12 5C12.7956 5 13.5587 5.31607 14.1213 5.87868C14.6839 6.44129 15 7.20435 15 8C15 8.79565 14.6839 9.55871 14.1213 10.1213C13.5587 10.6839 12.7956 11 12 11C11.2044 11 10.4413 10.6839 9.87868 10.1213C9.31607 9.55871 9 8.79565 9 8C9 7.20435 9.31607 6.44129 9.87868 5.87868C10.4413 5.31607 11.2044 5 12 5ZM12 2C10.6868 2 9.38642 2.25866 8.17317 2.7612C6.95991 3.26375 5.85752 4.00035 4.92893 4.92893C3.05357 6.8043 2 9.34784 2 12C2 14.6522 3.05357 17.1957 4.92893 19.0711C5.85752 19.9997 6.95991 20.7362 8.17317 21.2388C9.38642 21.7413 10.6868 22 12 22C14.6522 22 17.1957 20.9464 19.0711 19.0711C20.9464 17.1957 22 14.6522 22 12C22 6.47 17.5 2 12 2Z",fill:"#5690FF"}))}),w=function(e){return r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M12 17C12.5304 17 13.0391 16.7893 13.4142 16.4142C13.7893 16.0391 14 15.5304 14 15C14 13.89 13.1 13 12 13C11.4696 13 10.9609 13.2107 10.5858 13.5858C10.2107 13.9609 10 14.4696 10 15C10 15.5304 10.2107 16.0391 10.5858 16.4142C10.9609 16.7893 11.4696 17 12 17ZM18 8C18.5304 8 19.0391 8.21071 19.4142 8.58579C19.7893 8.96086 20 9.46957 20 10V20C20 20.5304 19.7893 21.0391 19.4142 21.4142C19.0391 21.7893 18.5304 22 18 22H6C5.46957 22 4.96086 21.7893 4.58579 21.4142C4.21071 21.0391 4 20.5304 4 20V10C4 8.89 4.9 8 6 8H7V6C7 4.67392 7.52678 3.40215 8.46447 2.46447C9.40215 1.52678 10.6739 1 12 1C12.6566 1 13.3068 1.12933 13.9134 1.3806C14.52 1.63188 15.0712 2.00017 15.5355 2.46447C15.9998 2.92876 16.3681 3.47995 16.6194 4.08658C16.8707 4.69321 17 5.34339 17 6V8H18ZM12 3C11.2044 3 10.4413 3.31607 9.87868 3.87868C9.31607 4.44129 9 5.20435 9 6V8H15V6C15 5.20435 14.6839 4.44129 14.1213 3.87868C13.5587 3.31607 12.7956 3 12 3Z",fill:"#5690FF"}))},k=(a(192),function(e){function t(){document.getElementById("".concat(e.id,"-i")).focus(),document.getElementById(e.id).style.marginTop="-28px",document.getElementById(e.id).style.color="#5690ff"}return r.a.createElement("div",{className:"customInputContainer"},r.a.createElement("span",{id:e.id,className:"customInputTip",onClick:t},e.placeholder),r.a.createElement("input",{id:"".concat(e.id,"-i"),type:e.type,className:"customInput",onFocus:t,onBlur:function(){document.getElementById(e.id).style.color="#757575",""===document.getElementById("".concat(e.id,"-i")).value&&(document.getElementById(e.id).style.marginTop="0")},autoComplete:"off"}))}),b=a(47),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).btnBack=function(){a.props.setPanel("choose_diary")},a.buttonClick=function(){var e=document.getElementById("loginInput-i").value,t=document.getElementById("passInput-i").value;try{document.getElementById("inviteCodeInput-i").value}catch(r){}try{a.school=document.getElementById("schoolSelect").value}catch(r){a.school=""}if(0!==e.trim().length&&0!==t.trim().length){a.props.setSpinner(!0),console.log("per data",e,t,a.props.profile.diary,a.region,a.province,a.city,a.school),a.props.getProfile(e,t,a.props.profile.diary,a.region,a.province,a.city,a.school);var n=setInterval((function(){a.props.profile.error?(clearInterval(n),a.props.setSpinner(!1),a.props.profile.id instanceof Error?a.props.openError():"netschool"!==a.props.profile.diary?a.props.openUnsupported():a.props.openIncorrect(),a.setState({error:!0})):a.props.profile.secret&&(clearInterval(n),a.props.setSpinner(!1),null===a.props.profile.student?a.props.setPanel("choose_student"):a.props.setView("MainView","schedule"))}),200)}},a.drawRegionsSelector=function(){var e=[];b.get("https://bklet.ml/api/auth/get_data").then((function(t){t.data.data.forEach((function(t){e.push(r.a.createElement("option",{value:t.id},t.name))})),a.setState({regions:r.a.createElement(h.x,{id:"regionSelect",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0448 \u0440\u0435\u0433\u0438\u043e\u043d",onChange:function(){a.region=document.getElementById("regionSelect").value,a.setState({provinces:r.a.createElement(h.A,{size:"medium"})}),a.drawProvincesSelector()}},e)})}))},a.drawProvincesSelector=function(){var e=[];b.get("https://bklet.ml/api/auth/get_data/?region="+a.region).then((function(t){t.data.data.forEach((function(t){e.push(r.a.createElement("option",{value:t.id},t.name))})),a.setState({provinces:r.a.createElement(h.x,{id:"provinceSelect",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0448 \u0440\u0430\u0439\u043e\u043d",onChange:function(){a.province=document.getElementById("provinceSelect").value,a.setState({cities:r.a.createElement(h.A,{size:"medium"})}),a.drawCitiesSelector()}},e)})}))},a.drawCitiesSelector=function(){var e=[];b.get("https://bklet.ml/api/auth/get_data/?region=".concat(a.region,"&province=").concat(a.province)).then((function(t){t.data.data.forEach((function(t){e.push(r.a.createElement("option",{value:t.id},t.name))})),console.log("lalalala",e),a.setState({cities:r.a.createElement(h.x,{id:"citySelect",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0448 \u0433\u043e\u0440\u043e\u0434",onChange:function(){a.city=document.getElementById("citySelect").value,a.setState({schools:r.a.createElement(h.A,{size:"medium"})}),a.drawSchoolsSelector()}},e)})}))},a.drawSchoolsSelector=function(){var e=[];b.get("https://bklet.ml/api/auth/get_data/?region=".concat(a.region,"&province=").concat(a.province,"&city=").concat(a.city)).then((function(t){t.data.data.forEach((function(t){var a=t.name.replace("\u041c\u0411\u041e\u0423 ","");a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace("\u041d\u041e\u0423 ","")).replace("\u0427\u041e\u0423 ","")).replace("\u0413\u041a\u041e\u0423\u041a\u041e ","")).replace("\u0413\u041a\u0423 ","")).replace("\u0413\u0411\u0423\u041a\u041e ","")).replace("\u0413\u041a\u0423\u041a\u041e ","")).replace("\u0410\u041d\u041e ","")).replace("\u0421\u041e\u0428","\u0428\u043a\u043e\u043b\u0430")).replace('"\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u043e\u0431\u0449\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0448\u043a\u043e\u043b\u0430',"\u0428\u043a\u043e\u043b\u0430").replace('"',""),e.push(r.a.createElement("option",{value:t.id},a))})),console.log("lalalala",e),a.setState({schools:r.a.createElement(h.x,{id:"schoolSelect",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u0448\u043a\u043e\u043b\u0443",onChange:function(){a.school=document.getElementById("schoolSelect").value}},e)})}))},a.state={error:!1,schools:null,provinces:null,cities:null,ready:!1,netschoolSelector:"netschool"===a.props.profile.diary?r.a.createElement(h.A,{size:"medium"}):null,regions:r.a.createElement(h.A,{size:"medium"})},a.region=null,a.province=null,a.city=null,a.school="",a.drawRegionsSelector(),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.s,{id:this.props.id},r.a.createElement(h.t,{left:r.a.createElement(S.a,{onClick:this.btnBack})},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),r.a.createElement("div",{className:"authGroup"},r.a.createElement(h.f,{className:"welcome"},"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c,"),r.a.createElement(h.f,{className:"large_tip"},"\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0434\u0430\u043d\u043d\u044b\u0445 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430 \u0432\u0430\u0448\u0435\u0433\u043e \u0434\u043d\u0435\u0432\u043d\u0438\u043a\u0430"),r.a.createElement(h.f,{className:"inputContainer"},r.a.createElement("div",{className:"inputIcon"},r.a.createElement(y,null)),r.a.createElement("div",{className:"inputInput"},r.a.createElement(k,{id:"loginInput",type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d"}))),r.a.createElement(h.f,{className:"inputContainer"},r.a.createElement("div",{className:"inputIcon"},r.a.createElement(w,null)),r.a.createElement("div",{className:"inputInput"},r.a.createElement(k,{id:"passInput",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}))),"netschool"===this.props.profile.diary?r.a.createElement(h.f,null,this.state.regions):null,this.state.provinces?r.a.createElement(h.f,null,this.state.provinces):null,this.state.cities?r.a.createElement(h.f,null,this.state.cities):null,this.state.schools?r.a.createElement(h.f,null,this.state.schools):null,r.a.createElement(h.f,null,r.a.createElement("div",{className:"annotate"},"\u041d\u0430\u0436\u0438\u043c\u0430\u044f \u0432\u043e\u0439\u0442\u0438, \u0432\u044b \u0441\u043e\u0433\u043b\u0430\u0448\u0430\u0435\u0442\u0435\u0441\u044c \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443, \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435, \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0443 \u0432\u0430\u0448\u0438\u0445 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445.",r.a.createElement("br",null),r.a.createElement(h.o,{href:"https://docs.google.com/document/d/1BjSTb_bgwHermREHdZlcwTDf6WowADiHIrjcDSC24OI",target:"_blank"},"\u0420\u0435\u0433\u043b\u0430\u043c\u0435\u043d\u0442")," \u0438 ",r.a.createElement(h.o,{href:"https://docs.google.com/document/d/1Pt5dvKHB8404oGnpd8rVi7yVmsjM5P0hIPBV9FnrQuQ",target:"_blank"},"\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"))),r.a.createElement(h.f,null,r.a.createElement(h.e,{level:"tertiary",className:"getInButton",onClick:this.buttonClick},"\u0412\u043e\u0439\u0442\u0438"))))}}]),t}(r.a.Component),N=(a(217),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).choose=function(e){a.props.setPanel("auth"),a.props.setDiary(e)},a.d="",a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(h.s,{id:this.props.id},r.a.createElement(h.f,{className:"chooseDiaryScreen"},r.a.createElement("div",{className:"chooseDiaryScreenTitle"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0448 \u0434\u043d\u0435\u0432\u043d\u0438\u043a"),r.a.createElement("div",{className:"chooseDiaryScreenDiaryDiaries"},r.a.createElement(h.e,{level:"tertiary",className:"chooseDiaryScreenDiaryContainer",onClick:function(){e.d="mosru",e.choose(e.d)}},r.a.createElement("div",{className:"chooseDiaryScreenDiaryContainerTitle"},"\u0414\u043d\u0435\u0432\u043d\u0438\u043a \u041c\u042d\u0428 (mos.ru)"),r.a.createElement("div",{className:"chooseDiaryScreenDiaryContainerChecker"})),r.a.createElement(h.e,{level:"tertiary",className:"chooseDiaryScreenDiaryContainer",onClick:function(){e.d="mosregru",e.choose(e.d)}},r.a.createElement("div",{className:"chooseDiaryScreenDiaryContainerTitle"},"\u0428\u043a\u043e\u043b\u044c\u043d\u044b\u0439 \u043f\u043e\u0440\u0442\u0430\u043b \u041c\u041e"),r.a.createElement("div",{className:"chooseDiaryScreenDiaryContainerChecker"})),r.a.createElement(h.e,{level:"tertiary",className:"chooseDiaryScreenDiaryContainer",onClick:function(){e.d="netschool",e.choose(e.d)}},r.a.createElement("div",{className:"chooseDiaryScreenDiaryContainerTitle"},"\u0421\u0435\u0442\u0435\u0432\u043e\u0439 \u0413\u043e\u0440\u043e\u0434"),r.a.createElement("div",{className:"chooseDiaryScreenDiaryContainerChecker"})),r.a.createElement(h.e,{level:"tertiary",className:"chooseDiaryScreenDiaryContainer",onClick:function(){e.d="edutatar",e.choose(e.d)}},r.a.createElement("div",{className:"chooseDiaryScreenDiaryContainerTitle"},"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0440\u0435\u0441\u043f. \u0422\u0430\u0442\u0430\u0440\u0441\u0442\u0430\u043d"),r.a.createElement("div",{className:"chooseDiaryScreenDiaryContainerChecker"}))),r.a.createElement(h.e,{level:"tertiary",className:"getInButton",style:{visibility:"hidden"}},"\u0412\u043e\u0439\u0442\u0438")))}}]),t}(r.a.Component)),I=(a(218),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).choose=function(e){a.props.setStudent(e),a.props.setView("MainView"),a.props.setPanel("schedule")},a.drawStudents=function(){a.props.profile.students.forEach((function(e){a.students.push(r.a.createElement(h.e,{level:"tertiary",className:"chooseStudentScreenStudentContainer",onClick:function(){a.d=e,a.choose(a.d)}},r.a.createElement("div",{className:"chooseStudentScreenStudentName"},e.name),r.a.createElement("div",{className:"chooseStudentScreenStudentGrade"},e.class," \u043a\u043b\u0430\u0441\u0441")))}))},a.d="",a.students=[],a.drawStudents(),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.s,{id:this.props.id},r.a.createElement(h.f,{className:"chooseStudentScreen"},r.a.createElement("span",{className:"chooseStudentTitle"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0447\u0435\u043d\u0438\u043a\u0430"),r.a.createElement("div",{className:"chooseStudentScreenStudents"},this.students)))}}]),t}(r.a.Component)),O=(a(219),a(20)),M=a(47),j="https://bklet.ml/";function T(e,t,a,n,r,l,o){return function(c){c({type:"DO_AUTHORIZATION_REQUEST",data:{id:null,secret:null,students:[],student:null}}),function(e,t,a,n,r,l,o,c){var s={diary:a,login:e,password:t,region:r,province:l,city:o,school:c};console.log(j+"api/auth/",s),M.post(j+"api/auth/",s).then((function(e){console.log("resp",e.data);var t=[];if(e.data.students.list.forEach((function(e){t.push(e)})),e.data.status){var r={id:e.data.id,secret:e.data.secret,students:t,diary:a,student:1===t.length?t[0]:null};localStorage.setItem("userData",JSON.stringify(r)),O.a.send("VKWebAppStorageSet",{key:"userData",value:JSON.stringify(r)}).then((function(e){return console.log("VK Storage Set Success",e)})).catch((function(e){console.log("VK Storage Set Fail",e),localStorage.setItem("userData",JSON.stringify(r))})),function(e,t){var a=window.location.search.slice(1).split("&").map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}})).reduce((function(e,t){return e[t.key]=decodeURIComponent(t.value),e}),{});a.id=e,a.secret=t,console.log("bind data",a),M.post(j+"api/auth/bind_account/vk/",a).then((function(e){console.log("bind result",e)})).catch((function(e){console.log("bind fail",e)}))}(e.data.id,e.data.secret),window.ga("diaryTracker.set",{diary:a}),window.ga("diaryTracker.send",{hitType:"event",eventCategory:"Sign in",eventAction:"click",eventLabel:a}),n({type:"DO_AUTHORIZATION_SUCCESS",data:{id:e.data.id,secret:e.data.secret,students:t,student:1===t.length?t[0]:null}})}else n({type:"DO_AUTHORIZATION_FAIL",data:e.data})})).catch((function(e){console.log("auth error",e),n({type:"DO_AUTHORIZATION_FAIL",data:e})}))}(e,t,a,c,n,r,l,o)}}function L(e){return{type:"SET_PANEL",value:e}}function A(e){return{type:"SET_VIEW",value:e}}var _,x,V=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).viewScreenSpinner=function(){var e=Object(E.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({popout:t?r.a.createElement(h.w,null):null});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.callIncorrect=function(){a.setState({popout:r.a.createElement(h.d,{actionsLayout:"vertical",actions:[{title:"\u041e\u041a",autoclose:!0,style:"cancel"}],onClose:function(){return a.setState({popout:null})}},r.a.createElement("h2",null,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),r.a.createElement("p",null,"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"))})},a.callError=function(){a.setState({popout:r.a.createElement(h.d,{actionsLayout:"vertical",actions:[{title:"\u041e\u041a",autoclose:!0,style:"cancel"}],onClose:function(){return a.setState({popout:null})}},r.a.createElement("h2",null,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),r.a.createElement("p",null,"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0435\u0440\u0435\u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."))})},a.callUnsupported=function(){a.setState({popout:r.a.createElement(h.d,{actionsLayout:"vertical",actions:[{title:"\u041e\u041a",autoclose:!0,style:"cancel"}],onClose:function(){return a.setState({popout:null})}},r.a.createElement("h2",null,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),r.a.createElement("p",null,"\u041e\u043f\u0441, \u0432\u043e\u0439\u0442\u0438 \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c. \u0412\u043f\u043e\u043b\u043d\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0447\u0442\u043e \u0432\u0430\u0448\u0430 \u0448\u043a\u043e\u043b\u0430 \u0435\u0449\u0451 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043d\u0430\u0448\u0438\u043c \u0434\u043d\u0435\u0432\u043d\u0438\u043a\u043e\u043c. \u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u0432\u0430\u043c \u043f\u0440\u0438\u0451\u0434\u0442\u0441\u044f \u043f\u043e\u0434\u043e\u0436\u0434\u0430\u0442\u044c, \u043f\u043e\u043a\u0430 \u043c\u044b \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0432\u0430\u0448\u0443 \u0448\u043a\u043e\u043b\u0443. \u041e\u0431 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f\u0445 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u043c\u044b \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u0432 \u043d\u0430\u0448\u0435\u0439 \u0433\u0440\u0443\u043f\u043f\u0435 \u0432 \u0412\u041a."))})},a.netschoolSaving=function(e,t){a.setState({netschoolData:{login:e,password:t}})},a.state={popout:null},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.H,{popout:this.state.popout,activePanel:"settings"===this.props.activePanel?"choose_diary":this.props.activePanel},r.a.createElement(N,{id:"choose_diary",setDiary:this.props.setDiaryAction,setPanel:this.props.setPanelAction}),r.a.createElement(D,{id:"auth",diary:this.props.diary,fetchedUser:this.props.fetchedUser,setSpinner:this.viewScreenSpinner,setPanel:this.props.setPanelAction,setView:this.props.setViewAction,profile:this.props.profile,getProfile:this.props.getProfileAction,openError:this.callError,openIncorrect:this.callIncorrect,netschoolSave:this.netschoolSaving,openUnsupported:this.callUnsupported}),r.a.createElement(I,{id:"choose_student",profile:this.props.profile,setStudent:this.props.setStudentAction,setView:this.props.setViewAction,setPanel:this.props.setPanelAction}))}}]),t}(r.a.Component),F=Object(f.b)((function(e){return console.log("Auth View",e),{activePanel:e.activePanel,diary:e.diary,fetchedUser:e.fetchedUser,profile:e.profile}}),(function(e){return{setDiaryAction:function(t){return e(function(e){return{type:"SET_DIARY",data:e}}(t))},getProfileAction:function(t,a,n,r,l,o,c){e(T(t,a,n,r,l,o,c))},setPanelAction:function(t){return e(L(t))},setViewAction:function(t){return e(A(t))},setStudentAction:function(t){return e(function(e){return{type:"SET_STUDENT",data:e}}(t))}}}))(V),P=a(49),R=(a(220),function(e){return r.a.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 16.6944 7.30558 20.5 12 20.5C16.6944 20.5 20.5 16.6944 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12Z",fill:e.selected?"#5690FF":"#A8ADAF"}),r.a.createElement("path",{d:"M9 16.5C9 16.5 14.5 18 14.5 14.5C14.5 11 10 12 10 12V8H14.5",stroke:e.selected?"#5690FF":"#A8ADAF","stroke-width":"1.5"}))}),B=function(e){return r.a.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M4.75 6C4.75 4.20507 6.20507 2.75 8 2.75H16C17.7949 2.75 19.25 4.20507 19.25 6V21.25H4.75V6Z",stroke:e.selected?"#5690FF":"#A8ADAF","stroke-width":"1.5"}),r.a.createElement("rect",{x:"7",y:"6",width:"10",height:"1.5",fill:e.selected?"#5690FF":"#A8ADAF"}),r.a.createElement("rect",{x:"7",y:"11",width:"10",height:"1.5",fill:e.selected?"#5690FF":"#A8ADAF"}),r.a.createElement("rect",{x:"7",y:"16",width:"10",height:"1.5",fill:e.selected?"#5690FF":"#A8ADAF"}))},H=function(e){return r.a.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M12.0051 15.86C9.88505 15.86 8.14504 14.14 8.14504 12C8.14504 9.88003 9.86505 8.14002 12.0051 8.14002C14.1251 8.14002 15.8651 9.86003 15.8651 12C15.8651 14.12 14.1251 15.86 12.0051 15.86ZM12.0051 9.56004C10.6651 9.56004 9.56506 10.66 9.56506 12C9.56506 13.34 10.6651 14.44 12.0051 14.44C13.3451 14.44 14.445 13.34 14.445 12C14.445 10.66 13.3451 9.56004 12.0051 9.56004ZM12.0051 21.2H11.9051C11.2051 21.2 10.6051 21.12 10.5651 21.12C10.2451 21.08 10.005 20.84 9.94504 20.52L9.74504 19.08C9.30504 18.94 8.88506 18.76 8.48506 18.54L7.34504 19.4C7.08504 19.6 6.74506 19.58 6.48506 19.4C6.46506 19.38 5.98506 19 5.48506 18.52L5.40505 18.44C4.90505 17.94 4.54505 17.46 4.52505 17.44C4.32505 17.18 4.32505 16.84 4.52505 16.58L5.40505 15.42C5.18505 15.02 5.02506 14.58 4.88506 14.14L3.48506 13.94C3.16506 13.9 2.92506 13.64 2.88506 13.32C2.88506 13.3 2.80505 12.68 2.80505 11.98V11.88C2.80505 11.18 2.88506 10.58 2.88506 10.54C2.92506 10.22 3.16506 9.98002 3.48506 9.92002L4.92505 9.72002C5.06505 9.28002 5.24506 8.86004 5.46506 8.46004L4.60505 7.32002C4.40505 7.06002 4.42505 6.72004 4.60505 6.46004C4.62505 6.44004 5.00506 5.96004 5.48506 5.46004L5.56506 5.38003C6.06506 4.88003 6.54506 4.52003 6.56506 4.50003C6.82506 4.30003 7.16505 4.30003 7.42505 4.50003L8.58506 5.38003C8.98506 5.16003 9.42506 5.00004 9.86506 4.86004L10.0651 3.46004C10.1051 3.14004 10.3651 2.90004 10.6851 2.86004C10.7051 2.86004 11.325 2.78003 12.025 2.78003H12.125C12.825 2.78003 13.4251 2.86004 13.4651 2.86004C13.7851 2.90004 14.0251 3.14004 14.0851 3.46004L14.2851 4.90003C14.7251 5.04003 15.145 5.22002 15.545 5.44002L16.6851 4.58003C16.9451 4.38003 17.285 4.40003 17.545 4.58003C17.565 4.60003 18.045 4.98004 18.545 5.46004L18.625 5.54002C19.125 6.04002 19.4851 6.52002 19.5051 6.54002C19.7051 6.80002 19.7051 7.14003 19.5051 7.40003L18.625 8.56004C18.845 8.96004 19.005 9.40002 19.145 9.84002L20.545 10.04C20.865 10.08 21.105 10.34 21.145 10.66C21.145 10.68 21.225 11.3 21.225 12V12.1C21.225 12.8 21.145 13.4 21.145 13.44C21.105 13.76 20.865 14 20.545 14.06L19.1051 14.26C18.9651 14.7 18.7851 15.12 18.5651 15.52L19.425 16.66C19.625 16.92 19.605 17.26 19.425 17.52C19.405 17.54 19.025 18.02 18.545 18.52L18.4651 18.6C17.9651 19.1 17.4851 19.46 17.4651 19.48C17.2051 19.68 16.8651 19.68 16.6051 19.48L15.445 18.6C15.045 18.82 14.6051 18.98 14.1651 19.12L13.9651 20.52C13.9251 20.84 13.665 21.08 13.345 21.12C13.305 21.12 12.7051 21.2 12.0051 21.2ZM11.2851 19.76C11.4651 19.78 11.6851 19.78 11.9051 19.78H12.0051C12.2251 19.78 12.445 19.78 12.625 19.76L12.8051 18.44C12.8451 18.14 13.065 17.92 13.345 17.84C13.965 17.7 14.5651 17.46 15.1051 17.12C15.2651 17.02 15.465 17 15.645 17.04C15.745 17.06 15.845 17.12 15.925 17.18L16.9851 17.98C17.1251 17.86 17.285 17.72 17.445 17.56L17.525 17.48C17.685 17.32 17.825 17.16 17.945 17.02L17.145 15.96C16.965 15.72 16.9651 15.4 17.1051 15.16C17.4451 14.64 17.685 14.06 17.825 13.46C17.885 13.16 18.125 12.92 18.425 12.88L19.7651 12.7C19.7851 12.52 19.7851 12.3 19.7851 12.08V11.98C19.7851 11.76 19.7851 11.54 19.7651 11.36L18.445 11.18C18.165 11.14 17.9251 10.92 17.8651 10.64C17.7251 10.02 17.4851 9.44003 17.1651 8.90003C17.1251 8.86003 17.1051 8.80002 17.0851 8.74002C17.0051 8.52002 17.0451 8.26003 17.1851 8.08003L18.0051 7.00003C17.8851 6.86003 17.7451 6.70002 17.5851 6.54002L17.5051 6.46004C17.3451 6.30004 17.185 6.16002 17.045 6.04002L15.9851 6.84002C15.7251 7.02002 15.385 7.02002 15.145 6.84002C14.625 6.52002 14.045 6.28002 13.445 6.12002C13.165 6.06002 12.9451 5.82002 12.9051 5.52002L12.725 4.18003C12.545 4.16003 12.3251 4.16004 12.1051 4.16004H12.0051C11.7851 4.16004 11.5651 4.16003 11.3851 4.18003L11.2051 5.50003C11.1651 5.82003 10.9251 6.06003 10.6051 6.10003C10.0051 6.24003 9.42505 6.48003 8.90505 6.80003C8.74505 6.90003 8.54506 6.92003 8.36506 6.88003C8.26506 6.86003 8.16506 6.80002 8.08506 6.74002L7.04504 5.94002C6.90504 6.06002 6.74506 6.20004 6.58506 6.36004L6.50505 6.44002C6.34505 6.60002 6.20506 6.76003 6.08506 6.90003L6.88506 7.96004C7.06506 8.20004 7.06505 8.50004 6.92505 8.76004C6.90505 8.78004 6.90506 8.80002 6.88506 8.82002C6.56506 9.34002 6.32506 9.92002 6.18506 10.52C6.12506 10.8 5.88506 11.02 5.58506 11.06L4.24504 11.24C4.22504 11.42 4.22505 11.64 4.22505 11.86V11.96C4.22505 12.18 4.22504 12.4 4.24504 12.58L5.56506 12.76C5.88506 12.8 6.12506 13.04 6.16506 13.36V13.38C6.30506 13.98 6.54506 14.54 6.86506 15.06C6.96506 15.24 7.00505 15.46 6.92505 15.66C6.90505 15.74 6.84506 15.82 6.78506 15.9L6.00505 16.94C6.12505 17.08 6.26505 17.24 6.42505 17.4L6.50505 17.48C6.66505 17.64 6.82506 17.78 6.96506 17.9L8.02505 17.1C8.28505 16.9 8.66505 16.92 8.90505 17.12C9.42505 17.44 9.98506 17.66 10.5651 17.8C10.8451 17.86 11.0651 18.1 11.1051 18.4L11.2851 19.76Z",fill:e.selected?"#5690FF":"#A8ADAF"}))},U=(a(221),a(222),a(223),function(e){return r.a.createElement("div",{className:"levelCircleContainer",style:{backgroundColor:e.color,boxShadow:"0 0 0 4px ".concat(e.outline_color)}},r.a.createElement("span",null,e.val))});var W=function(e){return r.a.createElement("div",{className:"accountUserContainer"},void("1"===(t=e.number)?(_="rgb(255 214 0)",x="rgba(255, 214, 0, 0.5)"):"2"===t?(_="rgb(180 180 180)",x="rgba(180, 180, 180, 0.5)"):"3"===t&&(_="rgb(255 186 86)",x="rgba(255, 186, 86, 0.5)")),r.a.createElement("div",{className:"accountUserNumeration"},e.number),r.a.createElement(h.f,{className:"accountUserInfo"},r.a.createElement("span",{className:"accountUserName"},e.name),r.a.createElement(U,{color:_,outline_color:x,val:e.level})));var t},Z=function(e){var t=e.id;return r.a.createElement(h.s,{id:t},r.a.createElement(h.t,{noShadow:!0,left:r.a.createElement(h.f,{style:{fontWeight:"bold",fontSize:"20px"}},r.a.createElement("span",null,"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"))}),r.a.createElement("div",{className:"accountStudentInfo"},r.a.createElement(h.f,{className:"studentInfoContainer"},r.a.createElement("div",{id:"studentInfo"},r.a.createElement("span",{id:"studentName"},"\u0418\u0432\u0430\u043d \u041f\u0435\u0448\u0435\u0445\u043e\u043d\u043e\u0432"),r.a.createElement("span",{id:"studentGrade"},"11 \u043a\u043b\u0430\u0441\u0441")),r.a.createElement("div",null)),r.a.createElement(h.f,{className:"accountProgress"},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},r.a.createElement("span",null,"\u0423\u0441\u043f\u0435\u0432\u0430\u0435\u043c\u043e\u0441\u0442\u044c")),r.a.createElement(h.n,{title:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c",id:"progressBar"},r.a.createElement(h.u,{value:90})))),r.a.createElement("div",{className:"accountTasks"},r.a.createElement(h.f,{className:"accountBlockTitle"},"\u0417\u0410\u0414\u0410\u0427\u0418")),r.a.createElement("div",{className:"accountGradeTop"},r.a.createElement(h.f,{style:{fontSize:"14px"}},"\u0422\u043e\u043f \u043a\u043b\u0430\u0441\u0441\u0430"),r.a.createElement(h.f,{className:"userTopElement"},r.a.createElement(W,{number:"1",name:"\u041d\u0430\u0442\u0430\u0448\u0430 \u041c\u0430\u0437\u043d\u043e\u0432\u0430",level:"20"})),r.a.createElement(h.f,{className:"userTopElement"},r.a.createElement(W,{number:"2",name:"\u041a\u0430\u0442\u044f \u0421\u0442\u0440\u0451\u043c\u043d\u0430\u044f",level:"20"})),r.a.createElement(h.f,{className:"userTopElement"},r.a.createElement(W,{number:"3",name:"\u0418\u0432\u0430\u043d \u041f\u0435\u0448\u0435\u0445\u043e\u043d\u043e\u0432",level:"20"})),r.a.createElement(h.f,{className:"userTopElement"},r.a.createElement("span",{id:"overPlace"},"\u0422\u044b \u043d\u0430\u0445\u043e\u0434\u0438\u0448\u044c\u0441\u044f \u043d\u0430 6 \u043c\u0435\u0441\u0442\u0435"))),r.a.createElement("div",{className:"accountImportantantNotifications"},r.a.createElement(h.f,{className:"accountBlockTitle"},"\u0412\u0410\u0416\u041d\u042b\u0415 \u0423\u0412\u0415\u0414\u041e\u041c\u041b\u0415\u041d\u0418\u042f")),r.a.createElement(h.j,{className:"lastNotificationsContainer"},r.a.createElement("span",{className:"inversedTitle"},"\u041f\u041e\u0421\u041b\u0415\u0414\u041d\u0418\u0415 \u0421\u041e\u0411\u042b\u0422\u0418\u042f"),r.a.createElement("div",{className:"notification notificationTop"},"\u0412\u043e\u043b\u043e\u0434\u044f \u0420\u0436\u0430\u0432\u044b\u0439 \u043f\u043e\u043b\u0443\u0447\u0438\u043b 5 \u0437\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0443\u044e \u043f\u043e \u0443\u0440\u043e\u043a\u0443 \u0430\u043b\u0433\u0435\u0431\u0440\u0430. \u0415\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0432 \u043a\u043b\u0430\u0441\u0441\u0435!"),r.a.createElement("div",{className:"notification"},"\u0418\u0440\u0438\u043d\u0430 \u0428\u0438\u043a\u0438\u043d\u0430 \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u0430 10 \u0443\u0440\u043e\u0432\u043d\u044f"),r.a.createElement("div",{className:"notification"},"\u0422\u0432\u043e\u0439 \u043a\u043b\u0430\u0441\u0441 \u043f\u043e\u043b\u0443\u0447\u0438\u043b \u0440\u0435\u043a\u043e\u0440\u0434\u043d\u044b\u0435 26 \u043e\u0446\u0435\u043d\u043e\u043a \u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e. \u0418\u0437 \u043d\u0438\u0445 15 \u043f\u044f\u0442\u0451\u0440\u043e\u043a!"),r.a.createElement("div",{className:"notification notificationBottom"},r.a.createElement(h.e,{level:"tertiary",style:{margin:0,padding:0}},r.a.createElement("span",{style:{fontSize:"15px",fontWeight:"700",color:"#fff"}},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")))))},z=function(e){function t(e){return Object(i.a)(this,t),Object(d.a)(this,Object(p.a)(t).call(this,e))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.H,{activePanel:"auth"===this.props.activePanel?"account":this.props.activePanel},r.a.createElement(Z,{id:"account"}))}}]),t}(r.a.Component),G=Object(f.b)((function(e){return console.log("Account View",e),{activePanel:e.activePanel,profile:e.profile}}))(z);a(224),a(225);function K(e){var t=[];return"5"===e||"\u0437\u0430\u0447\u0451\u0442"===e.toLowerCase()||"\u0417\u0447"===e?(t[1]="#1cb336",t[0]="#72de20"):"4"===e?(t[0]="#02cd84",t[1]="#00e19d"):"3"===e?(t[0]="#ff512f",t[1]="#f09819"):"2"!==e&&"\u043d\u0435\u0437\u0430\u0447\u0451\u0442"!==e.toLowerCase()&&"\u041d\u0437\u0447"!==e||(t[0]="#ff4b2b",t[1]="#ff416c"),t}String.prototype.capitalize=function(){return this.replace(/(?:^|\s)\S/g,(function(e){return e.toUpperCase()}))};var J=function(e){var t=!1,a=e.val.toLowerCase();return e.short?("\u0437\u0430\u0447\u0451\u0442"===a&&(a="\u0417\u0447"),"\u043d\u0435\u0437\u0430\u0447\u0451\u0442"===a&&(a="\u041d\u0437\u0447")):a=a.capitalize(),"\u0417\u0430\u0447\u0451\u0442"!==a&&"\u041d\u0435\u0437\u0430\u0447\u0451\u0442"!==a||(t=!0),r.a.createElement("div",{className:"markContainer",style:{width:t?"68px":"".concat(e.size,"px "),height:t?"22px":"".concat(e.size,"px "),background:e.is_routine?"#5690ff":"linear-gradient(90deg, ".concat(K(e.val)[0],", ").concat(K(e.val)[1],")"),fontSize:e.fontSize?"".concat(e.fontSize,"px"):"14px",borderRadius:t?"11px":"50%",border:e.is_border?"2px solid #f6f6f6":"0px"}},r.a.createElement("div",null,a),e.weight&&e.weight>1?r.a.createElement("div",{className:"markWeight"},e.weight):null)},Y=(a(226),a(51)),Q=a.n(Y),q=function(e){return r.a.createElement("div",{className:"customSpinnerContainer",style:{backgroundColor:e.isInverse?"#5690ff":"#ffffff"}},r.a.createElement("div",{className:"customSpinnerRotator",style:{color:e.isInverse?"#ffffff":"#5690ff"}},r.a.createElement(Q.a,null)))},X=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).loadData=Object(E.a)(v.a.mark((function e(){var t,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.props.getMarks(a.props.profile.id,a.props.profile.secret,a.props.profile.student.id),a.props.getLastMarks(a.props.profile.id,a.props.profile.secret,a.props.profile.student.id),t=setInterval((function(){a.props.appData.error&&(clearInterval(t),a.setState({error:!0,ready:!0})),a.state.error||0===a.props.appData.marks.data.length||(a.marksData=a.props.appData.marks,clearInterval(t),a.startRender())}),200),n=setInterval((function(){a.props.appData.errorLastMarks&&(clearInterval(n),a.setState({errorLastMarks:!0,ready:!0}))}),200);case 4:case"end":return e.stop()}}),e)}))),a.startRender=function(){for(var e=a.marksData.data[0].periods.length,t=0;t<e;t++)a.tabs.push(a.drawTab(t));a.setState({ready:!0})},a.drawTabsItem=function(){if(a.marksData.data[0]){var e=a.marksData.data[0].periods.length;a.tabsItems=[];for(var t=function(e){a.tabsItems.push(r.a.createElement(h.F,{onClick:function(){return a.setState({activeTab:"".concat(e+1)})},selected:a.state.activeTab==="".concat(e+1)},e+1))},n=0;n<e;n++)t(n);return a.tabsItems}},a.drawSpinner=function(){return r.a.createElement(q,{isInverse:!0})},a.drawTab=function(e){var t,n=[];t=e,a.marksData.data.forEach((function(e){0!==e.periods.length&&n.push(function(e,t){var n=e.periods[t],l=[],o=[],c=0;n.marks.forEach((function(e){c+=e.value*(e.weight?e.weight:1),l.push(r.a.createElement("div",null,r.a.createElement(J,{size:"16",val:e.value.toString(),is_routine:!0,fontSize:"12"}))),o.push(r.a.createElement("div",{className:"modalMarkMarksInfo"},r.a.createElement("div",{className:"modalMarkMarksInfoLeft"},r.a.createElement(J,{size:"22",is_routine:!1,val:e.value.toString(),fontSize:"14",weight:e.weight?e.weight.toString():"1"})),r.a.createElement("div",{className:"modalMarkMarksInfoContainer"},r.a.createElement("div",{className:"modalMarkMarksInfoForm"},e.form?e.form:null),r.a.createElement("div",{className:"modalMarkMarksInfoName"},e.name?e.name:null),r.a.createElement("div",{className:"modalMarkMarksInfoDate"},e.date?e.date:null))))})),c=(c/=l.length).toFixed(2);var s=r.a.createElement("div",null,r.a.createElement("div",{className:"modalMarkTitle"},"\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0435"),r.a.createElement("div",{className:"modalMarkSubjectInfo"},r.a.createElement("div",{className:"modalMarkSubjectInfoLeft"},isNaN(c)?"0.00":c),r.a.createElement("div",{className:"modalMarkSubjectInfoText"},"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0431\u0430\u043b\u043b")),r.a.createElement("div",{className:"modalMarkSubjectInfo"},r.a.createElement("div",{className:"modalMarkSubjectInfoLeft"},e.year_mark?r.a.createElement(J,{size:"22",val:n.final_mark.toString(),is_routine:!1,fontSize:"14"}):"-"),r.a.createElement("div",{className:"modalMarkSubjectInfoText"},"\u0418\u0442\u043e\u0433\u043e\u0432\u0430\u044f \u043e\u0446\u0435\u043d\u043a\u0430")),r.a.createElement("div",{className:"modalMarkTitle"},"\u041e\u0446\u0435\u043d\u043a\u0438"),o,r.a.createElement("div",{className:"modalEmptyElement"}));return r.a.createElement("div",{className:"allMarksContainer",onClick:function(){return a.props.openModal(s,e.name)}},r.a.createElement("div",{className:"subjectRow"},r.a.createElement("div",{className:"subject"},e.name),r.a.createElement("div",{className:"avg"},isNaN(c)?null:c)),r.a.createElement("div",{className:"marksRow"},l))}(e,t))}));return r.a.createElement("div",{id:e},r.a.createElement(h.f,{className:"marksBlocksTitle"},"\u0412\u0421\u0415 \u041e\u0426\u0415\u041d\u041a\u0418"),n)},a.drawResultTab=function(){var e=[];return a.marksData.data.forEach((function(t){0!==t.periods.length&&e.push(function(e){for(var t=e.periods.length,a=[],n=0;n<t;n++)a.push(e.periods[n].final_mark);var l=[];return a.forEach((function(e){e&&l.push(r.a.createElement("div",{className:"resultMarksContainerMark"},r.a.createElement(J,{size:"24",val:e.toString(),is_routine:!0,fontSize:"12",short:!0})))})),r.a.createElement(h.f,{className:"resultMarksContainer"},r.a.createElement("div",{className:"resultMarksContainerSubject"},e.name),r.a.createElement("div",{className:"resultMarksContainerMarks"},l,r.a.createElement("div",{className:"resultMarksContainerResultedMark"},e.year_mark?r.a.createElement(J,{size:"24",val:e.year_mark.toString(),is_routine:!1,fontSize:"12",short:!0}):null)))}(t))})),r.a.createElement("div",null,e)},a.marksData=a.props.appData.marks,a.lastMarksData=a.props.appData.lastMarks,a.tabs=[],a.tabsItems=[];var n=0===a.props.appData.marks.data.length;return a.state={activeTab:"1",ready:!n,error:!1,errorLastMarks:!1},n?a.loadData():a.startRender(),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(h.s,{id:this.props.id},r.a.createElement(h.t,{noShadow:!0},"\u041e\u0446\u0435\u043d\u043a\u0438"),this.state.error?r.a.createElement("p",{className:"marksScreenError"},"\u041d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435."):r.a.createElement("div",{className:"marksScreen"},r.a.createElement(h.f,null,r.a.createElement(h.E,{theme:"header",type:"buttons",className:"marksTabs"},this.drawTabsItem(),r.a.createElement(h.F,{onClick:function(){return e.setState({activeTab:"result"})},selected:"result"===this.state.activeTab},"\u0418\u0442\u043e\u0433\u043e\u0432\u044b\u0435"))),this.state.ready?this.tabs[this.state.activeTab-1]:this.drawSpinner(),"result"===this.state.activeTab?this.drawResultTab():null))}}]),t}(r.a.Component),$=a(52),ee=a.n($);a(227);function te(e){var t=e.slice(8);return e=e.slice(0,6),e+=t}function ae(e){switch(e){case 0:return"\u042f\u043d\u0432\u0430\u0440\u044c";case 1:return"\u0424\u0435\u0432\u0440\u0430\u043b\u044c";case 2:return"\u041c\u0430\u0440\u0442";case 3:return"\u0410\u043f\u0440\u0435\u043b\u044c";case 4:return"\u041c\u0430\u0439";case 5:return"\u0418\u044e\u043d\u044c";case 6:return"\u0418\u044e\u043b\u044c";case 7:return"\u0410\u0432\u0433\u0443\u0441\u0442";case 8:return"\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c";case 9:return"\u041e\u043a\u0442\u044f\u0431\u0440\u044c";case 10:return"\u041d\u043e\u044f\u0431\u0440\u044c";case 11:return"\u0414\u0435\u043a\u0430\u0431\u0440\u044c"}}var ne=a(47),re="https://bklet.ml/",le=1e4,oe=2500;function ce(e,t,a,n,r){return function(l){l({type:"GET_JOURNAL_REQUEST",data:{data:[]}}),function(e,t,a,n,r,l){var o,c="?student_id=".concat(r,"&id=").concat(e,"&secret=").concat(t,"&start=").concat(te(a.toLocaleDateString("ru-RU")),"&end=").concat(te(n.toLocaleDateString("ru-RU")));console.log("schedule request",re+"api/diary/journal/dates/"+c);var s=setTimeout((function(){console.log("schedule error"),clearInterval(o),l({type:"GET_JOURNAL_FAIL",data:Error("end timeout")})}),le);o=setInterval((function(){ne.get(re+"api/diary/journal/dates/"+c).then((function(e){console.log("resp",e.data),null!==!e.data.data&&e.data.error_msg||(clearTimeout(s),clearInterval(o),l({type:"GET_JOURNAL_SUCCESS",data:e.data}))}))}),oe)}(e,t,a,n,r,l)}}function se(e,t,a){return console.log("STUDENT ID",a),function(n){n({type:"GET_MARKS_REQUEST",data:{data:[]}}),function(e,t,a,n){var r,l="?student_id=".concat(a,"&id=").concat(e,"&secret=").concat(t);console.log(re+"api/diary/marks/all/"+l);var o=setTimeout((function(){console.log("marks error"),clearInterval(r),n({type:"GET_MARKS_FAIL",data:Error("end timeout")})}),le);r=setInterval((function(){ne.get(re+"api/diary/marks/all/"+l).then((function(e){console.log("marks resp",e.data),null!==!e.data.data&&e.data.error||(clearTimeout(o),clearInterval(r),n({type:"GET_MARKS_SUCCESS",data:e.data}))}))}),oe)}(e,t,a,n)}}function ie(e,t,a){return function(n){n({type:"GET_LAST_MARKS_REQUEST",data:{data:[]}}),function(e,t,a,n){var r,l=new Date,o=(s=l,new Date(s.getFullYear(),s.getMonth(),s.getDate()-7)),c="?student_id=".concat(a,"&id=").concat(e,"&secret=").concat(t,"&start=").concat(te(o.toLocaleDateString("ru-RU")),"&end=").concat(te(l.toLocaleDateString("ru-RU")));var s;console.log("start",o,o.toLocaleDateString("ru-RU")),console.log("end",l,l.toLocaleDateString("ru-RU")),console.log("error here",re+"api/diary/marks/dates/"+c);var i=setTimeout((function(){console.log("marks error"),clearInterval(r),n({type:"GET_LAST_MARKS_FAIL",data:Error("end timeout")})}),le);r=setInterval((function(){ne.get(re+"api/diary/marks/dates/"+c).then((function(e){console.log("last marks resp",e.data),e.data.error?n({type:"GET_LAST_MARKS_FAIL",data:e.data.error}):(clearTimeout(i),clearInterval(r),n({type:"GET_LAST_MARKS_SUCCESS",data:e.data}))}))}),oe)}(e,t,a,n)}}var ue=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).setModalMark=function(e,t){console.log("platform",a.props.platform),a.setState({modalMarks:r.a.createElement(h.r,{activeModal:"modalMark"},r.a.createElement(h.p,{id:"modalMark",onClose:a.closeModal,settlingHeight:50,dynamicContentHeight:!0,header:r.a.createElement(h.q,{left:a.props.platform===h.a&&r.a.createElement(h.k,{onClick:a.closeModal},r.a.createElement(ee.a,{style:{color:"#999999"}}))},t)},e))})},a.state={modalMarks:null},a.closeModal=function(){a.setState({modalMarks:null})},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.H,{activePanel:this.props.activePanel,modal:this.state.modalMarks},r.a.createElement(X,{id:"marks",profile:this.props.profile,appData:this.props.appLogic,getMarks:this.props.getMarksAction,getLastMarks:this.props.getLastMarksAction,openModal:this.setModalMark,closeModal:this.closeModal}))}}]),t}(r.a.Component);Object(h.I)(ue);var de=Object(f.b)((function(e){return console.log("Marks View",e),{activePanel:e.activePanel,profile:e.profile,appLogic:e.appLogic}}),(function(e){return{getMarksAction:function(t,a,n){e(se(t,a,n))},getLastMarksAction:function(t,a,n){e(ie(t,a,n))}}}))(ue),pe=(a(228),a(229),function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(p.a)(t).call(this))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return console.log("selected day",this.props.selectedDay,this.props.weekDuration),this.day=this.props.selectedDay<=this.props.weekDuration-1?this.props.selectedDay:this.props.weekDuration-1,r.a.createElement(h.f,{className:"scheduleWeekTopBar"},r.a.createElement("div",{className:"scheduleWeekDay"},r.a.createElement("span",null,"\u041f\u041d"),r.a.createElement(h.e,{level:"tertiary",style:{margin:0,padding:0,color:"#fff"},onClick:function(){return e.props.clickFunc(0)}},r.a.createElement("div",{className:"scheduleWeekDayDate ".concat(0===this.day?"scheduleWeekDaySelected":null)},this.props.dates[0]))),r.a.createElement("div",{className:"scheduleWeekDay"},r.a.createElement("span",null,"\u0412\u0422"),r.a.createElement(h.e,{level:"tertiary",style:{margin:0,padding:0,color:"#fff"},onClick:function(){return e.props.clickFunc(1)}},r.a.createElement("div",{className:"scheduleWeekDayDate ".concat(1===this.day?"scheduleWeekDaySelected":null)},this.props.dates[1]))),r.a.createElement("div",{className:"scheduleWeekDay"},r.a.createElement("span",null,"\u0421\u0420"),r.a.createElement(h.e,{level:"tertiary",style:{margin:0,padding:0,color:"#fff"},onClick:function(){return e.props.clickFunc(2)}},r.a.createElement("div",{className:"scheduleWeekDayDate ".concat(2===this.day?"scheduleWeekDaySelected":null)},this.props.dates[2]))),r.a.createElement("div",{className:"scheduleWeekDay"},r.a.createElement("span",null,"\u0427\u0422"),r.a.createElement(h.e,{level:"tertiary",style:{margin:0,padding:0,color:"#fff"},onClick:function(){return e.props.clickFunc(3)}},r.a.createElement("div",{className:"scheduleWeekDayDate ".concat(3===this.day?"scheduleWeekDaySelected":null)},this.props.dates[3]))),r.a.createElement("div",{className:"scheduleWeekDay"},r.a.createElement("span",null,"\u041f\u0422"),r.a.createElement(h.e,{level:"tertiary",style:{margin:0,padding:0,color:"#fff"},onClick:function(){return e.props.clickFunc(4)}},r.a.createElement("div",{className:"scheduleWeekDayDate ".concat(4===this.day?"scheduleWeekDaySelected":null)},this.props.dates[4]))),6===this.props.weekDuration?r.a.createElement("div",{className:"scheduleWeekDay"},r.a.createElement("span",null,"\u0421\u0411"),r.a.createElement(h.e,{level:"tertiary",style:{margin:0,padding:0,color:"#fff"},onClick:function(){return e.props.clickFunc(5)}},r.a.createElement("div",{className:"scheduleWeekDayDate ".concat(5===this.day?"scheduleWeekDaySelected":null)},this.props.dates[5]))):null)}}]),t}(r.a.Component)),me=a(70),he=a.n(me),fe=function(e){return r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M5 3C3.89 3 3 3.89 3 5V19C3 20.11 3.89 21 5 21H19C20.11 21 21 20.11 21 19V5C21 3.89 20.11 3 19 3H5ZM5 5H19V19H5V5ZM7 7V9H17V7H7ZM7 11V13H17V11H7ZM7 15V17H14V15H7Z",fill:"#A8ADAF"}))},ge=function(e){return r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M12 11.5C11.337 11.5 10.7011 11.2366 10.2322 10.7678C9.76339 10.2989 9.5 9.66304 9.5 9C9.5 8.33696 9.76339 7.70107 10.2322 7.23223C10.7011 6.76339 11.337 6.5 12 6.5C12.663 6.5 13.2989 6.76339 13.7678 7.23223C14.2366 7.70107 14.5 8.33696 14.5 9C14.5 9.3283 14.4353 9.65339 14.3097 9.95671C14.1841 10.26 13.9999 10.5356 13.7678 10.7678C13.5356 10.9999 13.26 11.1841 12.9567 11.3097C12.6534 11.4353 12.3283 11.5 12 11.5ZM12 2C10.1435 2 8.36301 2.7375 7.05025 4.05025C5.7375 5.36301 5 7.14348 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 7.14348 18.2625 5.36301 16.9497 4.05025C15.637 2.7375 13.8565 2 12 2Z",fill:"#A8ADAF"}))},ve=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).loadData=Object(E.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("STUDENT",a.props.profile.student),a.props.getJournal(a.props.profile.id,a.props.profile.secret,a.dayDates[7],a.dayDates[8],a.props.profile.student.id),t=setInterval((function(){a.props.appData.error?(clearInterval(t),a.setState({error:!0}),a.setState({ready:!0})):0!==a.props.appData.journal.data.length&&(a.scheduleData=a.props.appData.journal,clearInterval(t),a.setState({ready:!0,weekDuration:a.props.appData.journal.data.days.length<5?5:a.props.appData.journal.data.days.length}))}),200);case 3:case"end":return e.stop()}}),e)}))),a.drawSpinner=function(){return r.a.createElement(q,{isInverse:!1})},a.drawTopBar=function(){return r.a.createElement(pe,{selectedDay:a.state.currentDay,weekDuration:0===a.state.weekDuration?5:a.state.weekDuration,dates:a.dayDates,clickFunc:function(e){a.setState({currentDay:e})}})},a.generateScheduleTale=function(e){var t=[];return e.subjects.forEach((function(e){var n=function(e){var t=[],n=null,l=[];e&&(e.marks&&e.marks.forEach((function(e){t.push(r.a.createElement("div",{style:{marginRight:"4px"}},r.a.createElement(J,{size:"24",val:e.score?e.score.toString():e.value.toString(),is_routine:!1,fontSize:"14",weight:e.weight?e.weight.toString():"1",is_border:!0}))),l.push(r.a.createElement("div",{className:"modalScheduleInfoRow"},r.a.createElement("div",{className:"modalScheduleInfoRowLeft"},r.a.createElement(J,{size:"22",val:e.score?e.score.toString():e.value.toString(),is_routine:!1,fontSize:"14",weight:e.weight?e.weight.toString():"1"})),r.a.createElement("div",{className:"modalScheduleInfoRowText"})))})),e.assignments&&e.assignments.forEach((function(e){try{n=e.text}catch(t){}})));var o=e.time?r.a.createElement("div",null,e.marks?r.a.createElement("div",null,r.a.createElement("div",{className:"modalScheduleTitle"},"\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0435"),l):null,n?r.a.createElement("div",null,r.a.createElement("div",{className:"modalScheduleTitle"},"\u0414\u043e\u043c\u0430\u0448\u043d\u0435\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435"),r.a.createElement("div",{className:"modalScheduleInfoRow"},r.a.createElement("div",{className:"modalScheduleInfoRowLeft"},r.a.createElement(fe,null)),r.a.createElement("div",{className:"modalScheduleInfoRowText"},n))):null,e.room?r.a.createElement("div",null,r.a.createElement("div",{className:"modalScheduleTitle"},"\u041a\u0430\u0431\u0438\u043d\u0435\u0442"),r.a.createElement("div",{className:"modalScheduleInfoRow"},r.a.createElement("div",{className:"modalScheduleInfoRowLeft"},r.a.createElement(ge,null)),r.a.createElement("div",{className:"modalScheduleInfoRowText"},e.room))):null,e.label?r.a.createElement("div",null,r.a.createElement("div",{className:"modalScheduleTitle"},"\u0422\u0435\u043c\u0430 \u0443\u0440\u043e\u043a\u0430"),r.a.createElement("div",{className:"modalScheduleInfoRow"},r.a.createElement("div",{className:"modalScheduleInfoRowLeft"},"-"),e.label.title,r.a.createElement("div",{className:"modalScheduleInfoRowText"}))):null,e.label&&e.label.module?r.a.createElement("div",null,r.a.createElement("div",{className:"modalScheduleTitle"},"\u041c\u043e\u0434\u0443\u043b\u044c"),r.a.createElement("div",{className:"modalScheduleInfoRow"},r.a.createElement("div",{className:"modalScheduleInfoRowLeft"},"-"),r.a.createElement("div",{className:"modalScheduleInfoRowText"},e.label.module))):null,r.a.createElement("div",{className:"modalEmptyElement"})):null;return r.a.createElement(h.f,{className:"scheduleSubjectTaleContainer",style:{paddingBottom:0}},r.a.createElement("div",{className:"scheduleSubjectTale",onClick:function(){return a.props.openModal(o,e.name)}},r.a.createElement("div",{className:"scheduleSubjectTaleNumber"},e.number),r.a.createElement("div",{className:"scheduleSubjectTaleInfo"},r.a.createElement("div",{className:"scheduleSubjectTaleSubjectName"},e.name),n?r.a.createElement("div",{className:"scheduleSubjectTaleHomework"},n):null,e.time?r.a.createElement("div",{className:"scheduleSubjectTaleTimetable"},e.time[0]," - ",e.time[1]):null),r.a.createElement("div",{className:"scheduleSubjectTaleMarks"},t.length>2?t.forEach((function(e,t){e.props.style.position="absolute",e.props.style.left=9*t})):null,t)))}(e);t.push(n)})),t.push(r.a.createElement("div",{className:"scheduleSubjectLastChild"})),r.a.createElement("div",{className:"scheduleTale"},t)},a.generateEmptyTale=function(){return r.a.createElement("div",{className:"scheduleTale"},r.a.createElement("p",{style:{textAlign:"center"}},"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u043d\u0435\u0442 \u0437\u0430\u043d\u044f\u0442\u0438\u0439"))},a.generateErrorSchedule=function(){return r.a.createElement("div",{className:"scheduleTale"},r.a.createElement("p",{className:"scheduleTaleError"},"\u041d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435."))},a.generateSchedule=function(){var e=a.scheduleData.data.days,t=[];if(a.state.error)for(var n=0;n<5;n++)t.push(a.generateErrorSchedule());else e.forEach((function(e){t.push(a.generateScheduleTale(e))}));if(0===t.length)for(var l=0;l<5;l++)t.push(a.generateEmptyTale());return t.push(r.a.createElement("div",{style:{width:"40px",display:"flex"}})),t},a.drawShedule=function(){try{0===a.state.currentDay?document.getElementById("scheduleWeekSwiperLeft").style.display="flex":document.getElementById("scheduleWeekSwiperLeft").style.display="none",a.state.currentDay>=(a.state.weekDuration<5?4:a.state.weekDuration-1)?document.getElementById("scheduleWeekSwiperRight").style.display="flex":document.getElementById("scheduleWeekSwiperRight").style.display="none",6===a.state.weekDuration&&(document.querySelector(".Gallery__slide:last-child").style.width="50px")}catch(e){}return r.a.createElement(h.i,{slideWidth:"100%",className:"scheduleSliderContainer",slideIndex:a.state.currentDay,onChange:function(e){a.setState({currentDay:e>=(a.state.weekDuration<5?5:a.state.weekDuration)?e-1:e})}},a.generateSchedule())},a.prevWeek=function(){var e=function(e){for(var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()-7),a=new Date(e.getFullYear(),e.getMonth(),e.getDate()-1),n=[],r=0;r<7;r++){var l=new Date(t.getFullYear(),t.getMonth(),t.getDate()+r);n.push(l.getDate())}return n.push(t),n.push(a),n}(a.dayDates[7]);a.props.getJournal(a.props.profile.id,a.props.profile.secret,e[7],e[8],a.props.profile.student.id),a.dayDates=e,a.setState({ready:!1,month:ae(a.dayDates[7].getMonth()),currentDay:a.state.weekDuration<5?a.state.weekDuration-1:4}),document.getElementById("scheduleWeekSwiperLeft").style.display="none";var t=setInterval((function(){a.props.appData.error?(clearInterval(t),a.setState({error:!0}),a.setState({ready:!0})):0!==a.props.appData.journal.data.length&&(a.scheduleData=a.props.appData.journal,clearInterval(t),a.setState({ready:!0,weekDuration:a.props.appData.journal.data.days.length<5?5:a.props.appData.journal.data.days.length}))}),200)},a.nextWeek=function(){var e=function(e){for(var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()+7),a=new Date(t.getFullYear(),t.getMonth(),t.getDate()+6),n=[],r=0;r<7;r++){var l=new Date(t.getFullYear(),t.getMonth(),t.getDate()+r);n.push(l.getDate())}return n.push(t),n.push(a),n}(a.dayDates[7]);a.props.getJournal(a.props.profile.id,a.props.profile.secret,e[7],e[8],a.props.profile.student.id),a.dayDates=e,a.setState({ready:!1,month:ae(a.dayDates[7].getMonth()),currentDay:0}),document.getElementById("scheduleWeekSwiperRight").style.display="none";var t=setInterval((function(){a.props.appData.error?(clearInterval(t),a.setState({error:!0}),a.setState({ready:!0})):0!==a.props.appData.journal.data.length&&(a.scheduleData=a.props.appData.journal,clearInterval(t),a.setState({ready:!0,weekDuration:a.props.appData.journal.data.days.length<5?5:a.props.appData.journal.data.days.length}))}),200)},a.dayDates=function(){var e=new Date,t=e.getDay(),a=null;if(t>0){var n=t-1;a=new Date(e.getFullYear(),e.getMonth(),e.getDate()-n)}else a=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1);for(var r=[],l=0;l<7;l++){var o=new Date(a.getFullYear(),a.getMonth(),a.getDate()+l);r.push(o.getDate())}return console.log("tot",e),console.log("mom",a),r.push(a),r.push(new Date(a.getFullYear(),a.getMonth(),a.getDate()+6)),r}(),a.scheduleData=a.props.appData.journal;var n=0===a.props.appData.journal.data.length;return a.state={currentDay:(new Date).getDay()<=6&&(new Date).getDay()>0?(new Date).getDay()-1:0,month:ae(a.dayDates[7].getMonth()),weekDuration:n?5:a.scheduleData.data.days.length,ready:!n,error:!1},n&&a.loadData(),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.s,{id:this.props.id,style:{backgroundColor:"#5690ff"}},r.a.createElement(h.t,{noShadow:!0},r.a.createElement("div",{className:"scheduleHeaderMonth"},this.state.month)),this.drawTopBar(),r.a.createElement("div",{id:"scheduleWeekSwiperLeft",onClick:this.prevWeek},r.a.createElement("div",{className:"up"}),r.a.createElement("div",{className:"down"}),r.a.createElement("div",{style:{transform:"scaleX(-1)"}},r.a.createElement(he.a,null))),r.a.createElement("div",{id:"scheduleWeekSwiperRight",onClick:this.nextWeek},r.a.createElement("div",{className:"up"}),r.a.createElement("div",{className:"down"}),r.a.createElement(he.a,null)),this.state.ready?this.drawShedule():this.drawSpinner())}}]),t}(r.a.Component),Ee=(a(230),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).setModalSchedule=function(e,t){console.log("here"),a.setState({modalSchedule:r.a.createElement(h.r,{activeModal:"modalSchedule"},r.a.createElement(h.p,{id:"modalSchedule",onClose:a.closeModal,settlingHeight:50,header:r.a.createElement(h.q,{left:a.props.platform===h.a&&r.a.createElement(h.k,{onClick:a.closeModal},r.a.createElement(ee.a,null))},t)},e))})},a.state={modalSchedule:"modalSchedule"},a.closeModal=function(){a.setState({modalSchedule:null})},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.H,{activePanel:"auth"===this.props.activePanel?"schedule":this.props.activePanel,modal:this.state.modalSchedule},r.a.createElement(ve,{id:"schedule",profile:this.props.profile,getJournal:this.props.getJournalAction,appData:this.props.appLogic,openModal:this.setModalSchedule}))}}]),t}(r.a.Component));Object(h.I)(Ee);var Ce=Object(f.b)((function(e){return console.log("Schedule View",e),{activePanel:e.activePanel,profile:e.profile,appLogic:e.appLogic}}),(function(e){return{getJournalAction:function(t,a,n,r,l){e(ce(t,a,n,r,l))}}}))(Ee),Se=(a(231),a(232),function(e){return r.a.createElement("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35.8224 30.415C36.3826 30.1174 36.75 29.54 36.75 28.875V13.125C36.75 12.46 36.3826 11.8826 35.8224 11.585L21.9974 3.81509C21.7176 3.6051 21.3674 3.5 21 3.5C20.6326 3.5 20.2824 3.6051 20.0026 3.81509L6.17755 11.585C5.61743 11.8826 5.25 12.46 5.25 13.125V28.875C5.25 29.54 5.61743 30.1174 6.17755 30.415L20.0026 38.1849C20.2824 38.3949 20.6326 38.5 21 38.5C21.2166 38.5 21.4272 38.4635 21.621 38.3904C21.7558 38.3396 21.8825 38.271 21.9974 38.1849L35.8224 30.415ZM33.25 14L21 7L8.75 14V28L21 35L33.25 28V14Z",fill:"white"}),r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M29.75 22.25H22.25V29.75H19.75V22.25H12.25V19.75H19.75V12.25H22.25V19.75H29.75V22.25Z",fill:"white"}))}),ye=function(e){return r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{filter:"url(#filter0_d)"},r.a.createElement("circle",{cx:"14",cy:"10",r:"10",fill:"white"})),r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.3786 6.89022C20.4713 6.58122 20.3786 6.35416 19.9376 6.35416H18.4793C18.1084 6.35416 17.9375 6.5503 17.8448 6.76659C17.8448 6.76659 17.1032 8.57425 16.0526 9.74845C15.7127 10.0883 15.5582 10.1965 15.3728 10.1965C15.2801 10.1965 15.1459 10.0883 15.1459 9.77936V6.89022C15.1459 6.51941 15.0383 6.35416 14.7293 6.35416H12.4376C12.2059 6.35416 12.0665 6.52626 12.0665 6.68936C12.0665 7.04088 12.5918 7.12194 12.6459 8.11076V10.2583C12.6459 10.7292 12.5609 10.8145 12.3755 10.8145C11.8811 10.8145 10.6785 8.99879 9.96527 6.92111C9.82549 6.51728 9.6853 6.35416 9.31259 6.35416H7.85425C7.43759 6.35416 7.35425 6.5503 7.35425 6.76659C7.35425 7.15286 7.84866 9.06866 9.65629 11.6025C10.8614 13.3328 12.5593 14.2708 14.1043 14.2708C15.0312 14.2708 15.1459 14.0625 15.1459 13.7036V12.3958C15.1459 11.9792 15.2337 11.896 15.5273 11.896C15.7436 11.896 16.1144 12.0041 16.9796 12.8384C17.9684 13.8272 18.1314 14.2708 18.6876 14.2708H20.1459C20.5626 14.2708 20.7709 14.0625 20.6507 13.6514C20.5192 13.2416 20.0471 12.6471 19.4207 11.9423C19.0808 11.5407 18.5709 11.1081 18.4164 10.8917C18.2001 10.6137 18.2619 10.49 18.4164 10.2429C18.4164 10.2429 20.1932 7.73995 20.3786 6.89022Z",fill:"url(#paint0_linear)"}),r.a.createElement("defs",null,r.a.createElement("filter",{id:"filter0_d",x:"0",y:"0",width:"28",height:"28",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},r.a.createElement("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),r.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.a.createElement("feOffset",{dy:"4"}),r.a.createElement("feGaussianBlur",{stdDeviation:"2"}),r.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),r.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),r.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),r.a.createElement("linearGradient",{id:"paint0_linear",x1:"14.0194",y1:"6.35416",x2:"14.0194",y2:"14.2708",gradientUnits:"userSpaceOnUse"},r.a.createElement("stop",{"stop-color":"#69A9E6"}),r.a.createElement("stop",{offset:"1","stop-color":"#3277B2"}))))},we=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).doPay=function(){var e={app_id:a.appId,action:a.action,params:{action:a.action,amount:1,description:"Buying subscription",data:{},group_id:a.groupId}};s.a.send("VKWebAppOpenPayForm",JSON.stringify(e))},a.state={currentDay:a.props.currentDay?a.props.currentDay:1},a.appId=0,a.action="pay-to-group",a.groupId=0,a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.s,{id:this.props.id},r.a.createElement(h.t,{noShadow:!0,left:r.a.createElement(h.f,{style:{fontWeight:"bold",fontSize:"20px"}},r.a.createElement("span",null,"Booklet Plus"))}),r.a.createElement(h.h,{style:{width:"100%"}},r.a.createElement(h.f,{className:"plusBlueBack"},r.a.createElement("span",null,"\u0420\u0430\u0441\u0448\u0438\u0440\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0441\u0432\u043e\u0435\u0433\u043e \u0434\u043d\u0435\u0432\u043d\u0438\u043a\u0430"),r.a.createElement(Se,null))),r.a.createElement("div",{style:{padding:"0 16px 0 16px",marginBottom:"8px"}},r.a.createElement(h.e,{level:"tertiary",className:"plusVkContainer"},r.a.createElement("div",{style:{height:"34px",display:"flex",alignItems:"end"}},r.a.createElement(ye,null)),r.a.createElement("div",{className:"plusBotTextContainer"},"\u0411\u043e\u0442 \u0434\u043b\u044f \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435"))))}}]),t}(r.a.Component),ke=function(e){function t(e){return Object(i.a)(this,t),Object(d.a)(this,Object(p.a)(t).call(this,e))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.H,{activePanel:this.props.activePanel},r.a.createElement(we,{id:"plus"}))}}]),t}(r.a.Component),be=Object(f.b)((function(e){return console.log("Plus View",e),{activePanel:e.activePanel,profile:e.profile}}))(ke),De=(a(233),function(e){return r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("rect",{width:"28",height:"28",rx:"14",fill:"#5181B8"}),r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.6787 10.5417C20.7761 10.2294 20.6787 10 20.2156 10H18.684C18.2945 10 18.115 10.1982 18.0176 10.4168C18.0176 10.4168 17.2387 12.2435 16.1354 13.43C15.7784 13.7735 15.6161 13.8828 15.4214 13.8828C15.3241 13.8828 15.1831 13.7735 15.1831 13.4613V10.5417C15.1831 10.167 15.0701 10 14.7456 10H12.3387C12.0954 10 11.949 10.1739 11.949 10.3387C11.949 10.694 12.5007 10.7759 12.5575 11.7751V13.9453C12.5575 14.4211 12.4682 14.5073 12.2735 14.5073C11.7543 14.5073 10.4913 12.6725 9.74221 10.5729C9.59541 10.1648 9.44817 10 9.05673 10H7.52513C7.08753 10 7 10.1982 7 10.4168C7 10.8071 7.51925 12.7431 9.41771 15.3035C10.6833 17.0521 12.4665 18 14.0892 18C15.0627 18 15.1832 17.7895 15.1832 17.4268V16.1053C15.1832 15.6842 15.2754 15.6002 15.5837 15.6002C15.8108 15.6002 16.2003 15.7095 17.109 16.5525C18.1474 17.5517 18.3186 18 18.9028 18H20.4344C20.872 18 21.0908 17.7895 20.9646 17.374C20.8264 16.9599 20.3306 16.3592 19.6727 15.647C19.3157 15.2411 18.7803 14.804 18.618 14.5853C18.3908 14.3043 18.4557 14.1794 18.618 13.9296C18.618 13.9296 20.484 11.4004 20.6787 10.5417Z",fill:"white"}))}),Ne=function(e){return r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("rect",{width:"28",height:"28",rx:"14",fill:"#5690FF"}),r.a.createElement("path",{d:"M17 17.75H10.25V12.875C10.25 11 11.75 9.5 13.625 9.5C15.5 9.5 17 11 17 12.875V17.75ZM18.5 17V12.875C18.5 10.5725 16.895 8.645 14.75 8.135V7.625C14.75 7.32663 14.6315 7.04048 14.4205 6.8295C14.2095 6.61853 13.9234 6.5 13.625 6.5C13.3266 6.5 13.0405 6.61853 12.8295 6.8295C12.6185 7.04048 12.5 7.32663 12.5 7.625V8.135C10.3475 8.645 8.75 10.5725 8.75 12.875V17L7.25 18.5V19.25H20V18.5L18.5 17ZM13.625 21.5C14.0228 21.5 14.4044 21.342 14.6857 21.0607C14.967 20.7794 15.125 20.3978 15.125 20H12.125C12.125 20.3978 12.283 20.7794 12.5643 21.0607C12.8456 21.342 13.2272 21.5 13.625 21.5Z",fill:"white"}))},Ie=function(e){return r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("rect",{width:"28",height:"28",rx:"14",fill:"#5690FF"}),r.a.createElement("path",{d:"M17.8334 8.72666L16.1467 10.02L16.7534 12.06L15 10.8533L13.2467 12.06L13.8534 10.02L12.1667 8.72666L14.2934 8.66666L15 6.66666L15.7067 8.66666L17.8334 8.72666ZM20.1667 13.3333L19.0734 14.1667L19.4667 15.4867L18.3334 14.7067L17.2 15.4867L17.5934 14.1667L16.5 13.3333L17.8734 13.3L18.3334 12L18.7934 13.3L20.1667 13.3333ZM18.6467 16.6333C19.2 16.58 19.7934 17.3667 19.44 17.8667C19.2267 18.1667 19 18.4467 18.72 18.7133C16.1134 21.3333 11.8934 21.3333 9.29338 18.7133C6.68671 16.1133 6.68671 11.8867 9.29338 9.28666C9.56005 9.01999 9.84005 8.77999 10.14 8.56666C10.64 8.21332 11.4267 8.80666 11.3734 9.35999C11.1934 11.2667 11.8334 13.2467 13.3 14.7067C14.76 16.1733 16.7334 16.8133 18.6467 16.6333ZM17.5534 17.98C15.6667 17.8733 13.8 17.0933 12.3534 15.6667C10.9067 14.2067 10.1334 12.3333 10.0267 10.4533C8.15338 12.5467 8.22671 15.76 10.2334 17.7733C12.2467 19.78 15.46 19.8533 17.5534 17.98Z",fill:"white"}))},Oe=function(e){return r.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0Z",fill:"#5690FF"}),r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 15L3 9.99999L4.41 8.58999L8 12.17L15.59 4.57999L17 5.99999L8 15Z",fill:"white"}))},Me=function(e){return r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("rect",{width:"28",height:"28",rx:"14",fill:"#FF4939"}),r.a.createElement("path",{d:"M14.1812 11.5556C12.3688 11.5556 10.7274 12.1111 9.46214 13L7 11V16H13.1553L10.6795 13.9889C11.6302 13.3444 12.8407 12.9444 14.1812 12.9444C16.6023 12.9444 18.661 14.2278 19.3791 16L21 15.5667C20.0493 13.2389 17.3615 11.5556 14.1812 11.5556Z",fill:"white"}))},je=a(71),Te=a.n(je),Le=a(47),Ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).signOut=function(){localStorage.removeItem("userData"),a.props.setView("AuthorizationView"),a.props.setPanel("choose_diary")},a.askForNotifications=function(){a.settings||(a.settings={});var e=window.location.search.slice(1).split("&").map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}})).reduce((function(e,t){return e[t.key]=decodeURIComponent(t.value),e}),{});a.settings.notifications?(a.settings.notifications=!1,a.setState({snackbar:r.a.createElement(h.z,{layout:"vertical",onClose:function(){return a.setState({snackbar:null})},before:r.a.createElement(Ne,null),duration:1500},"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u044b")})):(console.log("vk info",e,e.vk_are_notifications_enabled),0===e.vk_are_notifications_enabled&&O.a.send("VKWebAppAllowNotifications",{}).then((function(e){})),a.settings.notifications=!0,a.setState({snackbar:r.a.createElement(h.z,{layout:"vertical",onClose:function(){return a.setState({snackbar:null})},before:r.a.createElement(Ne,null),duration:1500},"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u044b")})),localStorage.setItem("appSettings",JSON.stringify(a.settings))},a.subscribeGroup=function(){var e=window.location.search.slice(1).split("&").map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}})).reduce((function(e,t){return e[t.key]=decodeURIComponent(t.value),e}),{});try{"none"!==e.vk_viewer_group_role||a.settings.isSubscribed?a.setState({snackbar:r.a.createElement(h.z,{layout:"vertical",onClose:function(){return a.setState({snackbar:null})},before:r.a.createElement(Oe,null),duration:1500},"\u0412\u044b \u0443\u0436\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043b\u0438\u0441\u044c =)")}):(O.a.send("VKWebAppJoinGroup",{group_id:171343913}),a.settings.isSubscribed=!0)}catch(t){}localStorage.setItem("appSettings",JSON.stringify(a.settings))},a.redButtonPush=function(){var e=window.location.search.slice(1).split("&").map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}})).reduce((function(e,t){return e[t.key]=decodeURIComponent(t.value),e}),{}),t={id:a.props.profile.id,secret:a.props.profile.secret,vk_user_id:e.vk_user_id};Le.post("https://bklet.ml/api/helps/dev_assist/",t).then((function(e){a.setState({snackbar:r.a.createElement(h.z,{layout:"vertical",onClose:function(){return a.setState({snackbar:null})},before:r.a.createElement(Te.a,{style:{color:"#ef464d"}}),duration:1500},"\u0412\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e, \u0441\u043a\u043e\u0440\u043e \u0432\u0441\u0451 \u0438\u0441\u043f\u0440\u0430\u0432\u0438\u043c")})}))},a.state={tooltip:!1,snackbar:null,ready:!1},a.settings=localStorage.getItem("appSettings")?JSON.parse(localStorage.getItem("appSettings")):null,a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(h.s,{id:this.props.id},r.a.createElement(h.t,{noShadow:!0},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),r.a.createElement("div",{className:"groupSettingsContainer"},r.a.createElement("div",{className:"settingsTitleContainer"},r.a.createElement("div",{className:"settingsTitle"},"\u0421\u0441\u044b\u043b\u043a\u0438")),r.a.createElement(h.e,{level:"tertiary",className:"settingsSettingContainer"},r.a.createElement(De,null),r.a.createElement("div",{className:"settingsSettingInfo"},r.a.createElement("div",{className:"settingsSettingTitle",style:{color:"#5181b8"}},r.a.createElement(h.o,{href:"vk://vk.com/bklet",target:"_blank"},"\u0413\u0440\u0443\u043f\u043f\u0430 \u0412\u041a")),r.a.createElement("div",{className:"settingsSettingSwitch"},r.a.createElement(h.e,{level:"secondary",onClick:this.subscribeGroup},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"))))),r.a.createElement("div",{className:"groupSettingsContainer"},r.a.createElement("div",{className:"settingsTitleContainer"},r.a.createElement("div",{className:"settingsTitle"},"\u0414\u043d\u0435\u0432\u043d\u0438\u043a")),r.a.createElement(h.e,{level:"tertiary",className:"settingsSettingContainer",onClick:this.props.chooseMark},r.a.createElement("div",{style:{width:"24px"}},r.a.createElement(J,{size:"24",val:this.props.expectedMark.toString(),is_routine:!1})),r.a.createElement("div",{className:"settingsSettingInfo"},r.a.createElement("div",{className:"settingsSettingTitle"},"\u0416\u0435\u043b\u0430\u0435\u043c\u0430\u044f \u043e\u0446\u0435\u043d\u043a\u0430"))),r.a.createElement("div",{className:"settingsSettingContainer",style:{paddingRight:"-16px"}},r.a.createElement(Ne,null),r.a.createElement("div",{className:"settingsSettingInfo"},r.a.createElement("div",{className:"settingsSettingTitle"},"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"),r.a.createElement("div",null,r.a.createElement(h.B,{className:"settingsSettingSwitcher",id:"settingsNotificationsSwitcher",onChange:this.askForNotifications,defaultChecked:!!this.settings&&(!!this.settings.notifications&&this.settings.notifications)})))),r.a.createElement("div",{className:"settingsSettingContainer",style:{paddingRight:"-16px"},onClick:function(){return e.setState({tooltip:!0})}},r.a.createElement(Ie,null),r.a.createElement("div",{className:"settingsSettingInfo"},r.a.createElement("div",{className:"settingsSettingTitle"},"\u0422\u0451\u043c\u043d\u0430\u044f \u0442\u0435\u043c\u0430"),r.a.createElement("div",null,r.a.createElement(h.G,{text:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u0432 \u0440\u0435\u043b\u0438\u0437\u0435 :)",isShown:this.state.tooltip,onClose:function(){return e.setState({tooltip:!1})},offsetX:-50,offsetY:5,cornerOffset:55},r.a.createElement(h.B,{className:"settingsSettingSwitcher",disabled:!0})))))),r.a.createElement("div",{className:"groupSettingsContainer"},r.a.createElement(h.e,{level:"tertiary",className:"settingsSettingContainer"},r.a.createElement(Te.a,{style:{color:"#ef464d"}}),r.a.createElement("div",{className:"settingsSettingInfo"},r.a.createElement("div",{className:"settingsSettingTitle",style:{color:"#ef464d"},onClick:this.redButtonPush},"\u041a\u0440\u0430\u0441\u043d\u0430\u044f \u043a\u043d\u043e\u043f\u043a\u0430"),r.a.createElement("div",{className:"settingsSettingSwitch"},r.a.createElement(h.e,{level:"secondary"},r.a.createElement(h.o,{href:"vk://vk.com/wall-171343913_127",target:"_blank"},"?"))))),r.a.createElement(h.y,null),r.a.createElement(h.e,{level:"tertiary",className:"settingsSettingContainer",style:{marginTop:"35px"},onClick:this.signOut},r.a.createElement(Me,null),r.a.createElement("div",{className:"settingsSettingInfo"},r.a.createElement("div",{className:"settingsSettingTitle",style:{color:"#ff4939"}},"\u0412\u044b\u0439\u0442\u0438")))),this.state.snackbar)}}]),t}(r.a.Component);var _e=function(e){return r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M28 14C28 21.732 21.732 28 14 28C6.26801 28 0 21.732 0 14C0 6.26801 6.26801 0 14 0C21.732 0 28 6.26801 28 14Z",fill:"url(#paint0_linear)"}),r.a.createElement("path",{d:"M10.425 14.4648L11.171 8H18.5561V9.84959H13.0787L12.7009 12.9146C13.3368 12.5741 14.0546 12.4038 14.8541 12.4038C16.1637 12.4038 17.1805 12.7943 17.9045 13.5752C18.6348 14.3561 19 15.4072 19 16.7283C19 18.0318 18.5971 19.0711 17.7912 19.8462C16.9853 20.6154 15.8804 21 14.4764 21C13.2172 21 12.1721 20.6682 11.341 20.0047C10.5163 19.3354 10.0693 18.4546 10 17.3625H12.2193C12.3075 17.9849 12.5467 18.4634 12.937 18.7981C13.3274 19.1269 13.8374 19.2913 14.4669 19.2913C15.1721 19.2913 15.7198 19.0565 16.1102 18.5867C16.5068 18.117 16.7051 17.477 16.7051 16.6667C16.7051 15.8857 16.4879 15.2692 16.0535 14.8171C15.6191 14.3591 15.021 14.1301 14.2592 14.1301C13.8437 14.1301 13.4911 14.1829 13.2015 14.2886C12.9119 14.3884 12.5971 14.5881 12.2571 14.8875L10.425 14.4648Z",fill:"white"}),r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"paint0_linear",x1:"0",y1:"14",x2:"28",y2:"14",gradientUnits:"userSpaceOnUse"},r.a.createElement("stop",{"stop-color":"#1CB336"}),r.a.createElement("stop",{offset:"1","stop-color":"#72DE20"}))))},xe=function(e){return r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M28 14C28 21.732 21.732 28 14 28C6.26801 28 0 21.732 0 14C0 6.26801 6.26801 0 14 0C21.732 0 28 6.26801 28 14Z",fill:"url(#paint1_linear)"}),r.a.createElement("path",{d:"M17.0365 15.8482H18.6112V17.5447H17.0365V20.3636H14.9223V17.5447H9.44982L9.38892 16.2571L14.8527 7.69601H17.0365V15.8482ZM11.6075 15.8482H14.9223V10.5584L14.7657 10.8368L11.6075 15.8482Z",fill:"white"}),r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"paint1_linear",x1:"0",y1:"14",x2:"28",y2:"14",gradientUnits:"userSpaceOnUse"},r.a.createElement("stop",{"stop-color":"#02CD84"}),r.a.createElement("stop",{offset:"1","stop-color":"#00E19D"}))))},Ve=function(e){return r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M28 14C28 21.732 21.732 28 14 28C6.26801 28 0 21.732 0 14C0 6.26801 6.26801 0 14 0C21.732 0 28 6.26801 28 14Z",fill:"url(#paint2_linear)"}),r.a.createElement("path",{d:"M12.5756 13.5354H13.8012C14.4196 13.5296 14.9082 13.3616 15.2671 13.0314C15.6315 12.7012 15.8137 12.2233 15.8137 11.5976C15.8137 10.9951 15.6618 10.5287 15.3582 10.1985C15.06 9.86252 14.6018 9.69452 13.9834 9.69452C13.4424 9.69452 12.9979 9.85963 12.6501 10.1898C12.3023 10.5143 12.1284 10.9401 12.1284 11.4672H10.1159C10.1159 10.8184 10.2788 10.2275 10.6046 9.69452C10.9358 9.16154 11.3941 8.74733 11.9793 8.45187C12.57 8.15062 13.2298 8 13.9586 8C15.1622 8 16.1063 8.31863 16.7909 8.95588C17.481 9.58734 17.8261 10.4679 17.8261 11.5976C17.8261 12.1653 17.6522 12.7012 17.3043 13.2052C16.962 13.7034 16.5176 14.08 15.971 14.3349C16.6335 14.5724 17.136 14.9461 17.4783 15.4559C17.8261 15.9657 18 16.574 18 17.2807C18 18.4162 17.6273 19.32 16.882 19.992C16.1422 20.664 15.1677 21 13.9586 21C12.7992 21 11.8496 20.6756 11.1097 20.0267C10.3699 19.3779 10 18.5147 10 17.4372H12.0124C12.0124 17.9933 12.1891 18.4452 12.5424 18.7928C12.9013 19.1404 13.3816 19.3142 13.9834 19.3142C14.6073 19.3142 15.0987 19.1404 15.4576 18.7928C15.8164 18.4452 15.9959 17.9412 15.9959 17.2807C15.9959 16.6145 15.8081 16.1018 15.4327 15.7426C15.0573 15.3835 14.4997 15.2039 13.7598 15.2039H12.5756V13.5354Z",fill:"white"}),r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"paint2_linear",x1:"0",y1:"14",x2:"28",y2:"14",gradientUnits:"userSpaceOnUse"},r.a.createElement("stop",{"stop-color":"#FF512F"}),r.a.createElement("stop",{offset:"1","stop-color":"#F09819"}))))},Fe=(a(234),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).chooseMark=function(){a.setState({popout:r.a.createElement(h.b,{onClose:function(){return a.setState({popout:null})},title:"\u0412\u044b\u0431\u0435\u0440\u0438 \u0436\u0435\u043b\u0430\u0435\u043c\u0443\u044e \u043e\u0446\u0435\u043d\u043a\u0443"},r.a.createElement(h.c,{autoclose:!0,onClick:function(){a.props.setMarkAction(5)},before:r.a.createElement(_e,null)},"\u0412\u0441\u0435\u0433\u0434\u0430 \u0441\u0442\u0440\u0435\u043c\u0438\u0441\u044c \u043a \u043b\u0443\u0447\u0448\u0435\u043c\u0443 =)"),r.a.createElement(h.c,{autoclose:!0,onClick:function(){a.props.setMarkAction(4)},before:r.a.createElement(xe,null)},"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043e\u0446\u0435\u043d\u0438\u0432\u0430\u0439 \u0441\u0432\u043e\u0438 \u0441\u0438\u043b\u044b ;)"),r.a.createElement(h.c,{autoclose:!0,onClick:function(){a.props.setMarkAction(3)},before:r.a.createElement(Ve,null)},"\u041d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u043e\u0442\u0447\u0430\u0438\u0432\u0430\u0439\u0441\u044f!"),a.props.platform===h.m&&r.a.createElement(h.c,{autoclose:!0,theme:"cancel"},"Cancel"))})},a.state={popout:null},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.H,{activePanel:"auth"===this.props.activePanel?"settings":this.props.activePanel,popout:this.state.popout},r.a.createElement(Ae,{id:"settings",expectedMark:this.props.expectedMark,chooseMark:this.chooseMark,setView:this.props.setViewAction,setPanel:this.props.setPanelAction,profile:this.props.profile}))}}]),t}(r.a.Component));Object(h.I)(Fe);var Pe=Object(f.b)((function(e){return console.log("Settings View",e),{activePanel:e.activePanel,profile:e.profile,expectedMark:e.expectedMark}}),(function(e){return{setMarkAction:function(t){return e(function(e){return{type:"SET_MARK",value:e}}(t))},setPanelAction:function(t){return e(L(t))},setViewAction:function(t){return e(A(t))}}}))(Fe),Re=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={activeStory:"Schedule"},a.onStoryChange=a.onStoryChange.bind(Object(P.a)(a)),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"onStoryChange",value:function(e){switch(e.currentTarget.dataset.story){case"Account":this.props.setPanelAction("account");break;case"Marks":this.props.setPanelAction("marks");break;case"Schedule":this.props.setPanelAction("schedule");break;case"Plus":this.props.setPanelAction("plus");break;case"Settings":this.props.setPanelAction("settings")}this.setState({activeStory:e.currentTarget.dataset.story})}},{key:"render",value:function(){return r.a.createElement(h.g,{className:"bottomBarItself",activeStory:this.state.activeStory,tabbar:r.a.createElement(h.C,null,r.a.createElement(h.D,{onClick:this.onStoryChange,selected:"Marks"===this.state.activeStory,"data-story":"Marks"},r.a.createElement(R,{size:"24",selected:"Marks"===this.state.activeStory})),r.a.createElement(h.D,{onClick:this.onStoryChange,selected:"Schedule"===this.state.activeStory,"data-story":"Schedule"},r.a.createElement(B,{size:"24",selected:"Schedule"===this.state.activeStory})),r.a.createElement(h.D,{onClick:this.onStoryChange,selected:"Settings"===this.state.activeStory,"data-story":"Settings"},r.a.createElement(H,{size:"24",selected:"Settings"===this.state.activeStory})))},r.a.createElement(G,{id:"Account"}),r.a.createElement(de,{id:"Marks",activePanel:this.props.activePanel,userId:this.props.userId,userSecret:this.props.userSecret}),r.a.createElement(Ce,{id:"Schedule",activePanel:this.props.activePanel,userId:this.props.userId,userSecret:this.props.userSecret}),r.a.createElement(be,{id:"Plus"}),r.a.createElement(Pe,{id:"Settings"}))}}]),t}(r.a.Component),Be=Object(f.b)((function(e){return console.log("BottomBar",e),{activePanel:e.activePanel,profile:e.profile}}),(function(e){return{setPanelAction:function(t){return e(L(t))}}}))(Re),He=function(e){function t(e){return Object(i.a)(this,t),Object(d.a)(this,Object(p.a)(t).call(this,e))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;s.a.subscribe((function(t){switch(t.detail.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:t.detail.data})}})),s.a.send("VKWebAppGetUserInfo",{})}},{key:"render",value:function(){return r.a.createElement(h.v,{activeView:this.props.activeView},r.a.createElement(F,{id:"AuthorizationView"}),r.a.createElement(Be,{id:"MainView"}))}}]),t}(r.a.Component),Ue=Object(f.b)((function(e){return console.log("App",e),{activeView:e.activeView,activePanel:e.activePanel}}))(He),We=a(33),Ze=localStorage.getItem("userData")?"MainView":"AuthorizationView";O.a.send("VKWebAppStorageGet",{keys:["userData"]}).then((function(e){console.log("VK Storage Get Success",e),Ze="MainView"})).catch((function(e){console.log("VK Storage Get Fail",e),Ze=localStorage.getItem("userData")?"MainView":"AuthorizationView"}));var ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VIEW":return t.value;default:return e}},Ge=localStorage.getItem("userData")?"schedule":"choose_diary";O.a.send("VKWebAppStorageGet",{keys:["userData"]}).then((function(e){console.log("VK Storage Get Success",e),Ge="schedule"})).catch((function(e){console.log("VK Storage Get Fail",e),Ge=localStorage.getItem("userData")?"schedule":"choose_diary"}));var Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PANEL":return t.value;default:return e}},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type,e},Ye=localStorage.getItem("appSettings")&&JSON.parse(localStorage.getItem("appSettings")).expectedMark?JSON.parse(localStorage.getItem("appSettings")).expectedMark:5,Qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MARK":var a=localStorage.getItem("appSettings")?JSON.parse(localStorage.getItem("appSettings")):{};return a.expectedMark=t.value,localStorage.setItem("appSettings",JSON.stringify(a)),t.value;default:return e}},qe=a(53);function Xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $e(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xe(a,!0).forEach((function(t){Object(qe.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var et={journal:{data:[]},marks:{data:[]},lastMarks:{data:[]},isFetching:!1,error:!1,errorLastMarks:!1};var tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_JOURNAL_REQUEST":return $e({},e,{journal:t.data,isFetching:!0,error:!1});case"GET_JOURNAL_SUCCESS":return $e({},e,{journal:t.data,isFetching:!1,error:!1});case"GET_JOURNAL_FAIL":return $e({},e,{isFetching:!1,error:!0});case"GET_MARKS_REQUEST":return $e({},e,{marks:t.data,isFetching:!0,error:!1});case"GET_MARKS_SUCCESS":return $e({},e,{marks:t.data,isFetching:!1,error:!1});case"GET_MARKS_FAIL":return $e({},e,{isFetching:!1,error:!0});case"GET_LAST_MARKS_REQUEST":return $e({},e,{lastMarks:t.data,isFetching:!0,errorLastMarks:!1});case"GET_LAST_MARKS_SUCCESS":return $e({},e,{lastMarks:t.data,isFetching:!1,errorLastMarks:!1});case"GET_LAST_MARKS_FAIL":return $e({},e,{isFetching:!1,errorLastMarks:!0});default:return e}};function at(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function nt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?at(a,!0).forEach((function(t){Object(qe.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):at(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var rt,lt=JSON.parse(localStorage.getItem("userData"));O.a.send("VKWebAppStorageGet",{keys:["userData"]}).then((function(e){console.log("VK Storage Get Success",e),lt=JSON.parse(e.data.keys[0].value)})).catch((function(e){console.log("VK Storage Get Fail",e),lt=JSON.parse(localStorage.getItem("userData"))})),lt?(console.log("LOCAL DATA",lt),rt={id:lt.id?lt.id:null,secret:lt.secret?lt.secret:null,diary:lt.diary?lt.diary:null,students:lt.students?lt.students:null,student:lt.student?lt.student:null,isFetching:!1,error:!1}):rt={id:null,secret:null,diary:null,students:null,student:null,isFetching:!1,error:!1};var ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DO_AUTHORIZATION_REQUEST":return nt({},e,{id:t.data.id,secret:t.data.secret,students:t.data.students,student:t.data.studentId,isFetching:!0,error:!1});case"DO_AUTHORIZATION_SUCCESS":return nt({},e,{id:t.data.id,secret:t.data.secret,students:t.data.students,student:t.data.student,isFetching:!1,error:!1});case"DO_AUTHORIZATION_FAIL":return nt({},e,{id:t.data,isFetching:!1,error:!0});case"SET_DIARY":return nt({},e,{diary:t.data,isFetching:!1});case"SET_STUDENT":console.log("SETTING STUDENT",t.data);var a=JSON.parse(localStorage.getItem("userData"));return console.log("set student",t.data),a.student=t.data,localStorage.setItem("userData",JSON.stringify(a)),nt({},e,{student:t.data});default:return e}},ct=Object(We.c)({activeView:ze,activePanel:Ke,fetchedUser:Je,expectedMark:Qe,appLogic:tt,profile:ot}),st=a(112),it=Object(We.d)(ct,Object(We.a)(st.a));function ut(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var dt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(235);s.a.send("VKWebAppInit",{}),o.a.render(r.a.createElement(f.a,{store:it},r.a.createElement(Ue,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/julista_vk",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/julista_vk","/service-worker.js");dt?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ut(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):ut(e)}))}}()}},[[147,1,2]]]);
//# sourceMappingURL=main.10450f83.chunk.js.map