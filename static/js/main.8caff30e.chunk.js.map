{"version":3,"sources":["custom_components/icon-pack/AuthAccount.js","custom_components/icon-pack/AuthPassword.js","custom_components/customInput.js","panels/auth.js","custom_components/icon-pack/MosRuIcon.js","custom_components/icon-pack/NetschoolIcon.js","custom_components/icon-pack/EdutatarIcon.js","panels/choose_diary.js","panels/choose_student.js","panels/choose_school.js","utils/utils.js","redux/actions/ProfileAction.js","redux/actions/PanelAction.js","redux/actions/ViewAction.js","views/AuthorizationView.js","custom_components/icon-pack/AccountIcon.js","custom_components/icon-pack/MarksIcon.js","custom_components/icon-pack/ScheduleIcon.js","custom_components/icon-pack/SettingsIcon.js","custom_components/icon-pack/DefaultAvatarIcon.js","custom_components/icon-pack/BirthdayIcon.js","custom_components/accountUserContainer.js","custom_components/ProgressBar.js","custom_components/icon-pack/SwitchStudentIcon.js","custom_components/icon-pack/VK_important.js","custom_components/icon-pack/QuestionIcon.js","custom_components/icon-pack/PerformanceIcon.js","panels/account.js","redux/actions/AppLogicAction.js","views/AccountView.js","custom_components/mark.js","custom_components/customSpinner.js","custom_components/advisesRow.js","panels/marks.js","views/MarksView.js","custom_components/scheduleTopBar.js","custom_components/icon-pack/SubjectHWIcon.js","custom_components/icon-pack/SubjectRoomIcon.js","custom_components/icon-pack/SubjectTopicIcon.js","custom_components/icon-pack/SubjectModuleIcon.js","custom_components/pullToRefreshContext.js","panels/schedule.js","views/ScheduleView.js","custom_components/icon-pack/BigPlusIcon.js","custom_components/icon-pack/VKbot.js","panels/plus.js","views/PlusView.js","custom_components/icon-pack/VKSettingsIcon.js","custom_components/icon-pack/SettingsNotificationsIcon.js","custom_components/icon-pack/DarkThemeIcon.js","custom_components/icon-pack/BookletCheck.js","custom_components/icon-pack/GetOutIcon.js","panels/settings.js","custom_components/icon-pack/PurposeMarkFive.js","custom_components/icon-pack/PurposeMarkFour.js","custom_components/icon-pack/PurposeMarkThree.js","views/SettingsView.js","redux/actions/ExpectedMarkAction.js","views/BottomBar.js","App.js","redux/actions/FetchedUserAction.js","redux/reducers/activeViewR.js","redux/reducers/activePanelR.js","redux/reducers/fetchedUserR.js","redux/reducers/expectedMarkR.js","redux/reducers/appLogicR.js","redux/reducers/profileR.js","redux/reducers/main.js","redux/store/main.js","sw.js","index.js"],"names":["AuthAccount","props","width","height","viewBox","fill","xmlns","d","AuthPassword","CustomInput","clickCapture","document","getElementById","id","focus","style","marginTop","color","value","trim","setTimeout","className","onClick","placeholder","type","onFocus","onBlur","autoComplete","defaultValue","axios","require","Auth","btnBack","setPanel","buttonClick","login","password","e","length","setSpinner","getProfile","profile","diary","region","province","city","state","choosenSchool","setInterval","error","clearInterval","errMessage","Error","openError","setState","secret","student","setView","drawRegionsSelector","options","get","then","reg_resp","data","forEach","reg","push","name","regions","stateData","onChange","cities","schools","provinces","size","drawProvincesSelector","defaultVal","province_resp","drawCitiesSelector","city_resp","drawSchoolsSelector","school_resp","school","replace","top","ready","netschoolSelector","this","openModal","left","noShadow","href","target","level","React","Component","MosRuIcon","mask-type","maskUnits","x","y","cx","cy","r","mask","x1","y1","x2","y2","gradientUnits","stopColor","offset","stopOpacity","NetschoolIcon","fillRule","clipRule","EdutatarIcon","ChooseDiary","startVkAuth","vk_info","window","location","search","slice","split","map","queryParam","kvp","key","reduce","query","decodeURIComponent","vkAuth","choose","setDiary","ChooseStudent","resp","console","log","exp","setExp","catch","err","setStudent","drawStudents","students","class","ChooseSchool","val","find","chooser","toLowerCase","filter","indexOf","setCorrectYear","str","correctYear","getRusMonthName","monthNum","getVkParams","sign","vk_access_token_settings","vk_app_id","vk_are_notifications_enabled","vk_group_id","vk_is_app_user","vk_language","vk_platform","vk_ref","vk_user_id","vk_viewer_group_role","isBirthday","strDate","tokens","birthDate","Date","today","getMonth","getDate","baseUrl","doAuthorize","dispatch","dispatcher","ua","navigator","userAgent","json","device_type","post","response","status","bind_user","list","localData","localStorage","setItem","JSON","stringify","connect","send","res","ga","hitType","eventCategory","eventAction","eventLabel","message","auth","a","timeoutID","intervalId","clearTimeout","vk_id","panel","view","choose_schools_data","AuthorizationView","setActiveModal","viewScreenSpinner","switcher","popout","callIncorrect","actionsLayout","actions","title","autoclose","onClose","callError","callUnsupported","activeModal","modalHistory","splice","modal","caption","action","setPanelAction","setViewAction","locData","getItem","parse","activePanel","setDiaryAction","doVkAuth","fetchedUser","getProfileAction","openIncorrect","openUnsupported","choose_school","setStudentAction","setExpAction","store","kwarg","params","vk_params","url","AccountIcon","stroke","selected","stroke-width","MarksIcon","strokeWidth","ScheduleIcon","SettingsIcon","DefaultAvatarIcon","rx","BirthdayIcon","AccountUserContainer","getAvatar","method","request_id","user_id","fields","v","access_token","photo_100","avatar","src","medal","num","styles","toString","background","display","setMedal","number","is_birthday","isNaN","parseInt","percent","ProgressBar","SwitchUserIcon","VK_important","QuestionIcon","PerformanceIcon","Account","getClassMates","clsmts","clsmts_ids","sorted","sort","b","myPlace","classmate","i","is_link","vk_account","inside","b_date","classmates","switchStudent","clearJournalData","openList","is_opened","maxHeight","paddingBottom","querySelector","innerHTML","transform","SwitchStudentIcon","fontSize","open","normalTimeout","normalInterval","getJournal","start","end","student_id","queries","toLocaleDateString","error_msg","getSchedule","getMarks","getAndAggregateMarks","getLastMarks","methodUrl","getLMarks","AccountView","Mark","defineColors","gradeSystem","gradientColorOne","gradientColorTwo","short","containerSize","markValue","routineColor","String","prototype","capitalize","toUpperCase","is_routine","borderRadius","border","is_border","weight","CustomSpinner","backgroundColor","isInverse","AdvisesRow","giveAdvice","expectedAvg","expectedMark","avg","allMarks","marksSum","currentAvg","steps","fives","fours","threes","declinate","amount","digit","predictions","Boolean","Marks","loadData","appData","marks","marksData","startRender","id2","errorLastMarks","lastMarks","lastMarksData","periods","tabs","drawTab","drawTabsItem","tabsItems","activeTab","drawSpinner","currentTab","currentPeriod","subjectsFields","subject","period","marksModal","marksLength","marksDataframe","mark","form","date","string","substr","reverseRuslanString","toFixed","final_mark","generateSubject","lessons","Object","keys","dates","label","day","dateParams","turnIntoDate","shift","reverse","drawLastMarks","drawResultTab","subjectFields","renderedMarks","year_mark","drawSubjectField","flag","theme","MarksView","setModalMark","modalSubject","modalContent","modalMarks","closeModal","settlingHeight","dynamicContentHeight","header","appLogic","getMarksAction","getLastMarksAction","withPlatform","userId","ScheduleWeekBar","selectedDay","weekDuration","margin","padding","clickFunc","SubjectHWIcon","SubjectRoomIcon","SubjectTopicIcon","SubjectModuleIcon","PullToRefreshContext","Schedule","dayDates","fetching","journal","scheduleData","days","drawTopBar","currentDay","generateScheduleTale","subjectTales","subjects","sbj","homework","modalMarksPresentation","marginRight","score","assignments","assignment","text","time","room","module","markDiv","iter","position","generateSubjectTale","generateEmptyTale","textAlign","generateErrorSchedule","generateSchedule","tales","drawShedule","slideWidth","slideIndex","prevWeek","newDatesArr","currentStart","newStart","getFullYear","newEnd","resArr","schedulePrevWeek","month","nextWeek","scheduleNextWeek","refresh","Promise","resolve","reject","dayOfWeek","getDay","monday","scheduleGetDates","pullDownContent","releaseContent","refreshContent","pullDownThreshold","onRefresh","triggerHeight","startInvisible","ScheduleView","setModalSchedule","getJournalAction","BigPlusIcon","fill-rule","clip-rule","VKbot","filterUnits","color-interpolation-filters","flood-opacity","result","in","values","dy","stdDeviation","mode","in2","stop-color","Plus","doPay","app_id","appId","description","group_id","groupId","fontWeight","marginBottom","alignItems","PlusView","VKSettingsIcon","SettingsNotificationsIcon","DarkThemeIcon","BookletCheck","GetOutIcon","Settings","signOut","unbind_user","removeItem","signOutClear","askForNotifications","settings","notifications","snackbar","layout","before","duration","answer","subscribeGroup","member","redButtonPush","tooltip","chooseMark","paddingRight","defaultChecked","isShown","offsetX","offsetY","cornerOffset","disabled","PurposeMarkFive","PurposeMarkFour","PurposeMarkThree","SettingsView","setMarkAction","platform","IOS","setMark","BottomBar","activeStory","onStoryChange","bind","currentTarget","dataset","story","tabbar","data-story","userSecret","App","VKconnect","user","group","setUserAction","activeView","setUser","initialState","isFetching","studentId","locDataDiary","locData1","rootReducer","combineReducers","createStore","applyMiddleware","thunk","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","isLocalhost","hostname","match","root","mVKMiniAppsScrollHelper","ReactDOM","render","URL","process","origin","addEventListener","fetch","headers","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.8caff30e.chunk.js","sourcesContent":["import React from 'react';\n\nconst AuthAccount = props => (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n            d=\"M12 19.2C9.5 19.2 7.29 17.92 6 16C6.03 14 10 12.9 12 12.9C14 12.9 17.97 14 18 16C16.71 17.92 14.5 19.2 12 19.2ZM12 5C12.7956 5 13.5587 5.31607 14.1213 5.87868C14.6839 6.44129 15 7.20435 15 8C15 8.79565 14.6839 9.55871 14.1213 10.1213C13.5587 10.6839 12.7956 11 12 11C11.2044 11 10.4413 10.6839 9.87868 10.1213C9.31607 9.55871 9 8.79565 9 8C9 7.20435 9.31607 6.44129 9.87868 5.87868C10.4413 5.31607 11.2044 5 12 5ZM12 2C10.6868 2 9.38642 2.25866 8.17317 2.7612C6.95991 3.26375 5.85752 4.00035 4.92893 4.92893C3.05357 6.8043 2 9.34784 2 12C2 14.6522 3.05357 17.1957 4.92893 19.0711C5.85752 19.9997 6.95991 20.7362 8.17317 21.2388C9.38642 21.7413 10.6868 22 12 22C14.6522 22 17.1957 20.9464 19.0711 19.0711C20.9464 17.1957 22 14.6522 22 12C22 6.47 17.5 2 12 2Z\"\n            fill=\"#5690FF\"/>\n    </svg>\n);\n\nexport default AuthAccount;","import React from 'react';\n\nconst AuthPassword = props => (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n            d=\"M12 17C12.5304 17 13.0391 16.7893 13.4142 16.4142C13.7893 16.0391 14 15.5304 14 15C14 13.89 13.1 13 12 13C11.4696 13 10.9609 13.2107 10.5858 13.5858C10.2107 13.9609 10 14.4696 10 15C10 15.5304 10.2107 16.0391 10.5858 16.4142C10.9609 16.7893 11.4696 17 12 17ZM18 8C18.5304 8 19.0391 8.21071 19.4142 8.58579C19.7893 8.96086 20 9.46957 20 10V20C20 20.5304 19.7893 21.0391 19.4142 21.4142C19.0391 21.7893 18.5304 22 18 22H6C5.46957 22 4.96086 21.7893 4.58579 21.4142C4.21071 21.0391 4 20.5304 4 20V10C4 8.89 4.9 8 6 8H7V6C7 4.67392 7.52678 3.40215 8.46447 2.46447C9.40215 1.52678 10.6739 1 12 1C12.6566 1 13.3068 1.12933 13.9134 1.3806C14.52 1.63188 15.0712 2.00017 15.5355 2.46447C15.9998 2.92876 16.3681 3.47995 16.6194 4.08658C16.8707 4.69321 17 5.34339 17 6V8H18ZM12 3C11.2044 3 10.4413 3.31607 9.87868 3.87868C9.31607 4.44129 9 5.20435 9 6V8H15V6C15 5.20435 14.6839 4.44129 14.1213 3.87868C13.5587 3.31607 12.7956 3 12 3Z\"\n            fill=\"#5690FF\"/>\n    </svg>\n);\n\nexport default AuthPassword;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport \"./customInput.css\"\n\nconst CustomInput = props => {\n    function clickCapture() {\n        document.getElementById(`${props.id}-i`).focus();\n        document.getElementById(props.id).style.marginTop = \"-28px\";\n        document.getElementById(props.id).style.color = \"#5690ff\";\n    }\n\n    function clickLost() {\n        document.getElementById(props.id).style.color = \"#757575\";\n        if (document.getElementById(`${props.id}-i`).value === \"\") {\n            document.getElementById(props.id).style.marginTop = \"0\";\n        }\n\n    }\n\n    if (props.value && props.value.trim() !== \"\")\n        setTimeout(() => {\n            clickCapture();\n        }, 50);\n\n    return (\n        <div className=\"customInputContainer\">\n        <span id={props.id}\n              className=\"customInputTip\"\n              onClick={clickCapture}\n        >\n            {props.placeholder}\n        </span>\n            <input id={`${props.id}-i`}\n                   type={props.type}\n                   className=\"customInput\"\n                   onFocus={clickCapture}\n                   onBlur={clickLost}\n                   autoComplete=\"off\"\n                   defaultValue={props.value && props.value}\n            />\n        </div>\n    )\n};\n\nCustomInput.propTypes = {\n    id: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n    placeholder: PropTypes.string,\n    value: PropTypes.string,\n};\n\nexport default CustomInput;","import {Div, Panel, PanelHeader, Link, Button, Select, Spinner, SelectMimicry} from '@vkontakte/vkui';\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/auth.css\"\n\nimport AuthAccount from \"../custom_components/icon-pack/AuthAccount\"\nimport AuthPassword from \"../custom_components/icon-pack/AuthPassword\"\nimport AuthGift from \"../custom_components/icon-pack/AuthGift\"\nimport AuthRestore from \"../custom_components/icon-pack/AuthRestore\"\n\nimport CustomInput from \"../custom_components/customInput\"\n\nconst axios = require('axios');\n\nclass Auth extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: false,\n            schools: null,\n            provinces: null,\n            cities: null,\n            ready: false,\n            netschoolSelector: (this.props.profile.diary === \"netschool\" ? <Spinner size=\"medium\"/> : null),\n            regions: <Spinner size=\"medium\"/>,\n\n            choosenSchool: this.props.stateData.length !== 0 ? this.props.stateData[6] : \"\",\n        };\n\n        this.region = null;\n        this.province = null;\n        this.city = null;\n\n        this.drawRegionsSelector()\n    }\n\n    btnBack = () => {\n        this.props.setPanel(\"choose_diary\")\n    };\n\n    buttonClick = () => {\n        let login = document.getElementById(\"loginInput-i\").value;\n        let password = document.getElementById(\"passInput-i\").value;\n        try {\n            let inviteCode = document.getElementById(\"inviteCodeInput-i\").value;\n        } catch (e) {\n            let inviteCode = \"\";\n        }\n\n        if (login.trim().length !== 0 && password.trim().length !== 0) {\n            this.props.setSpinner(true);\n            // console.log(\"per data\", login, password, this.props.profile.diary,\n            //     this.region, this.province, this.city, this.state.choosenSchool[0]);\n            this.props.getProfile(login, password, this.props.profile.diary,\n                this.region, this.province, this.city, this.state.choosenSchool[0]);\n\n            let id = setInterval(() => {\n                if (this.props.profile.error) {\n                    clearInterval(id);\n                    this.props.setSpinner(false);\n                    if (this.props.profile.errMessage instanceof Error) {\n                        this.props.openError(\"Непредвиденная ошибка. Пожалуйста, попробуйте позже.\");\n                    } else {\n                        this.props.openError(this.props.profile.errMessage);\n                    }\n                    this.setState({error: true});\n                } else {\n                    if (this.props.profile.secret) {\n                        clearInterval(id);\n                        this.props.setSpinner(false);\n                        if (this.props.profile.student === null) {\n                            this.props.setPanel(\"choose_student\");\n                        } else {\n                            this.props.setView(\"MainView\", \"schedule\");\n                        }\n                    }\n                }\n            }, 200);\n        }\n    };\n\n    drawRegionsSelector = () => {\n        let options = [];\n        axios.get(\"https://bklet.ml/api/auth/get_data\")\n            .then(reg_resp => {\n                reg_resp.data.data.forEach(reg => {\n                    options.push(\n                        <option value={reg.id}>{reg.name}</option>\n                    )\n                });\n                this.setState({\n                    regions:\n                        <Select\n                            id=\"regionSelect\"\n                            placeholder=\"Выберите ваш регион\"\n                            value={this.props.stateData[3]}\n                            onChange={() => {\n                                this.region = document.getElementById(\"regionSelect\").value;\n                                this.setState({\n                                    cities: null,\n                                    schools: null,\n                                    choosenSchool: null,\n                                    provinces:\n                                        <Spinner size=\"medium\"/>\n                                });\n                                this.drawProvincesSelector(this.props.stateData[4]);\n                            }}\n                        >\n                            {options}\n                        </Select>\n                });\n                if (this.props.stateData[3]) {\n                    this.region = document.getElementById(\"regionSelect\").value;\n                    this.drawProvincesSelector(this.props.stateData[4]);\n                }\n            })\n    };\n    drawProvincesSelector = (defaultVal) => {\n        let options = [];\n        axios.get(\"https://bklet.ml/api/auth/get_data/?region=\" + this.region)\n            .then(province_resp => {\n                province_resp.data.data.forEach(province => {\n                    options.push(\n                        <option value={province.id}>{province.name}</option>\n                    )\n                });\n                this.setState({\n                    provinces:\n                        <Select\n                            id=\"provinceSelect\"\n                            placeholder=\"Выберите ваш район\"\n                            value={defaultVal && defaultVal}\n                            onChange={() => {\n                                this.province = document.getElementById(\"provinceSelect\").value;\n                                this.setState({\n                                    schools: null,\n                                    choosenSchool: null,\n                                    cities:\n                                        <Spinner size=\"medium\"/>\n                                });\n                                this.drawCitiesSelector(this.props.stateData[5]);\n                            }}\n                        >\n                            {options}\n                        </Select>\n                });\n                if (defaultVal) {\n                    this.province = document.getElementById(\"provinceSelect\").value;\n                    this.drawCitiesSelector(this.props.stateData[5]);\n                }\n            })\n    };\n    drawCitiesSelector = (defaultVal) => {\n        let options = [];\n        axios.get(`https://bklet.ml/api/auth/get_data/?region=${this.region}&province=${this.province}`)\n            .then(city_resp => {\n                city_resp.data.data.forEach(city => {\n                    options.push(\n                        <option value={city.id}>{city.name}</option>\n                    )\n                });\n                this.setState({\n                    cities:\n                        <Select\n                            id=\"citySelect\"\n                            placeholder=\"Выберите ваш город\"\n                            value={defaultVal && defaultVal}\n                            onChange={() => {\n                                this.city = document.getElementById(\"citySelect\").value;\n                                this.setState({\n                                    schools:\n                                        <Spinner size=\"medium\"/>,\n                                    choosenSchool: null,\n                                });\n                                this.drawSchoolsSelector();\n                            }}\n                        >\n                            {options}\n                        </Select>\n                });\n                if (defaultVal) {\n                    this.city = document.getElementById(\"citySelect\").value;\n                    this.drawSchoolsSelector();\n                }\n            })\n    };\n    drawSchoolsSelector = () => {\n        let options = [];\n        axios.get(`https://bklet.ml/api/auth/get_data/?region=${this.region}&province=${this.province}&city=${this.city}`)\n            .then(school_resp => {\n                school_resp.data.data.forEach(school => {\n                    let name = school.name.replace(\"МБОУ \", \"\");\n                    name = name.replace(\"НОУ \", \"\");\n                    name = name.replace(\"ЧОУ \", \"\");\n                    name = name.replace(\"ГКОУКО \", \"\");\n                    name = name.replace(\"ГКУ \", \"\");\n                    name = name.replace(\"ГБУКО \", \"\");\n                    name = name.replace(\"ГКУКО \", \"\");\n                    name = name.replace(\"АНО \", \"\");\n                    name = name.replace(\"СОШ\", \"Школа\");\n                    name = name.replace(\"\\\"Средняя общеобразовательная школа\",\n                        \"Школа\").replace(\"\\\"\", \"\");\n                    options.push(\n                        {id: school.id, name: name}\n                    )\n                });\n                this.setState({\n                    schools:\n                        <SelectMimicry\n                            top=\"Выберите вашу школу\"\n                            placeholder=\"Не выбрана\"\n                            onClick={() => {\n                                let data = [\n                                    options,\n                                    document.getElementById(\"loginInput-i\").value,\n                                    document.getElementById(\"passInput-i\").value,\n                                    this.region,\n                                    this.province,\n                                    this.city,\n                                ];\n                                this.props.setPanel(\"choose_school\", data);\n                            }}\n                        >\n                            {this.state.choosenSchool ? this.state.choosenSchool[1] : \"Выберите вашу школу\"}\n                        </SelectMimicry>\n                });\n            })\n    };\n\n    componentDidMount() {\n        if (this.props.profile.id) {\n            this.props.openModal();\n        }\n    }\n\n    render() {\n        return (\n            <Panel id={this.props.id}>\n                <PanelHeader\n                    left={\n                        <PanelHeaderBack onClick={this.btnBack}/>\n                    }\n                    noShadow={true}>\n                    Авторизация\n                </PanelHeader>\n                <Div className=\"authGroup\">\n                    <Div className=\"welcome\">\n                        Добро пожаловать,\n                    </Div>\n                    <Div className=\"large_tip\">\n                        Войдите с помощью данных аккаунта вашего дневника\n                    </Div>\n                    <Div className=\"inputContainer\">\n                        <div className=\"inputIcon\">\n                            <AuthAccount/>\n                        </div>\n                        <div className=\"inputInput\">\n                            <CustomInput id=\"loginInput\"\n                                         type=\"text\"\n                                         placeholder=\"Логин\"\n                                         value={this.props.stateData[1] && this.props.stateData[1]}\n                            />\n                        </div>\n                    </Div>\n                    <Div className=\"inputContainer\">\n                        <div className=\"inputIcon\">\n                            <AuthPassword/>\n                        </div>\n                        <div className=\"inputInput\">\n                            <CustomInput id=\"passInput\"\n                                         type=\"password\"\n                                         placeholder=\"Пароль\"\n                                         value={this.props.stateData[2] && this.props.stateData[2]}\n                            />\n                        </div>\n                    </Div>\n                    {(this.props.profile.diary === \"netschool\" ?\n                        <Div>\n                            {this.state.regions}\n                        </Div>\n                        : null)}\n                    {(this.state.provinces ?\n                        <Div>\n                            {this.state.provinces}\n                        </Div>\n                        : null)}\n                    {(this.state.cities ?\n                        <Div>\n                            {this.state.cities}\n                        </Div>\n                        : null)}\n                    {(this.state.schools ?\n                        <Div>\n                            {this.state.schools}\n                        </Div>\n                        : null)}\n                    {/*<Div>*/}\n                    {/*    <div*/}\n                    {/*        className=\"medium_tip\">Введите код приглашения, при его наличии, или оставьте поле пустым</div>*/}\n                    {/*</Div>*/}\n                    {/*<Div className=\"inviteInput\">*/}\n                    {/*    <div className=\"inputIcon\">*/}\n                    {/*        <AuthGift/>*/}\n                    {/*    </div>*/}\n                    {/*    <CustomInput id=\"inviteCodeInput\"*/}\n                    {/*                 type=\"text\"*/}\n                    {/*    />*/}\n                    {/*</Div>*/}\n                    <Div>\n                        <div className=\"annotate\">Нажимая войти, вы соглашаетесь на обработку, хранение, передачу ваших\n                            персональных данных.\n                            <br/>\n                            <Link\n                                href=\"https://vk.com/dev/uprivacy\"\n                                target=\"_blank\">Политика конфиденциальности</Link>\n                        </div>\n                    </Div>\n                    {/*<Div className=\"restorePassword\">*/}\n                    {/*    <div className=\"inputIcon\" style={{margin: 0}}>*/}\n                    {/*        <AuthRestore/>*/}\n                    {/*    </div>*/}\n                    {/*    <div>Забыли данные учетной записи?*/}\n                    {/*            <Link*/}\n                    {/*                href=\"https://google.com\"*/}\n                    {/*                target=\"_blank\"*/}\n                    {/*                className=\"restoreLink\">Восстановить</Link>*/}\n                    {/*        </div>*/}\n                    {/*</Div>*/}\n                    <Div>\n                        <Button level=\"tertiary\" className=\"authSignInButton\"\n                                onClick={this.buttonClick}>\n                            Войти\n                        </Button>\n                    </Div>\n                </Div>\n            </Panel>\n        )\n    }\n\n}\n\nAuth.propTypes = {\n    id: PropTypes.string.isRequired,\n    fetchedUser: PropTypes.shape({\n        photo_200: PropTypes.string,\n        first_name: PropTypes.string,\n        last_name: PropTypes.string,\n        city: PropTypes.shape({\n            title: PropTypes.string,\n        }),\n    }),\n    profile: PropTypes.any.isRequired,\n    setView: PropTypes.func.isRequired,\n    setPanel: PropTypes.func.isRequired,\n    getProfile: PropTypes.func.isRequired,\n    setSpinner: PropTypes.func,\n    openError: PropTypes.func.isRequired,\n    openIncorrect: PropTypes.func.isRequired,\n    openUnsupported: PropTypes.func,\n    openModal: PropTypes.func,\n    stateData: PropTypes.array,\n};\n\nexport default Auth;","import React from 'react';\n\nconst MosRuIcon = props => (\n    <svg width=\"36\" height=\"36\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <mask id=\"mask0\" mask-type=\"alpha\" maskUnits=\"userSpaceOnUse\" x=\"0\" y=\"0\" width=\"36\" height=\"36\">\n            <circle cx=\"18\" cy=\"18\" r=\"18\" fill=\"#C4C4C4\"/>\n        </mask>\n        <g mask=\"url(#mask0)\">\n            <circle cx=\"18\" cy=\"18\" r=\"18\" fill=\"url(#paint2_linear)\"/>\n            <path\n                d=\"M9.00276 11.0969C10.8355 11.0958 12.6451 11.9112 13.8585 13.2837C14.3464 13.812 14.6935 14.444 15.0234 15.0772C15.5828 13.9642 16.3405 12.925 17.3959 12.2342C18.4697 11.5029 19.7672 11.0819 21.0717 11.1108C21.0625 11.4383 21.0625 11.767 21.0671 12.0957C19.6473 12.12 18.2344 12.6678 17.2229 13.6736C16.1456 14.7024 15.5343 16.1799 15.5286 17.6666C15.201 17.6735 14.8734 17.6758 14.5459 17.6781C14.5159 16.2006 13.9334 14.7312 12.862 13.7012C12.0857 12.9389 11.0811 12.3968 10.005 12.2145C9.97736 15.6977 9.98544 19.1821 10.0004 22.6653C11.847 22.6849 13.6924 22.6676 15.5389 22.6734C15.5389 23.0032 15.5401 23.3342 15.5459 23.6653C13.3648 23.6883 11.1826 23.671 9.00161 23.6733C9.00045 19.482 8.99815 15.2894 9.00276 11.0969Z\"\n                fill=\"white\"/>\n            <path\n                d=\"M17.8182 14.4992C18.6509 13.6273 19.8435 13.1152 21.0511 13.1233C21.0592 13.452 21.0592 13.7818 21.0442 14.1117C19.9704 14.1544 18.9104 14.6526 18.2657 15.5234C17.7847 16.1347 17.5737 16.9086 17.5229 17.6745C17.1884 17.6779 16.8528 17.6745 16.5183 17.6583C16.5564 16.4934 16.9947 15.3343 17.8182 14.4992Z\"\n                fill=\"white\"/>\n            <path\n                d=\"M18.5424 17.6747C18.5181 16.3207 19.7096 15.1131 21.0671 15.1385C21.0636 15.466 21.0625 15.7924 21.0648 16.1188C20.6888 16.1984 20.2874 16.2907 20.0118 16.5802C19.705 16.8547 19.5977 17.2676 19.5377 17.6586C19.2055 17.6759 18.8745 17.6782 18.5424 17.6747Z\"\n                fill=\"white\"/>\n            <path\n                d=\"M22.6657 16.4866C23.0763 16.3562 23.5376 16.4912 23.8375 16.7945C24.6921 17.633 25.5249 18.4935 26.3772 19.3343C26.8639 19.7702 27.1188 20.46 26.9458 21.1024C26.8051 21.7183 26.2723 22.1081 25.8594 22.5418C25.503 22.8786 25.1973 23.2892 24.751 23.5118C24.1327 23.8151 23.3358 23.6975 22.8456 23.2085C22.0463 22.4322 21.277 21.6249 20.48 20.8463C20.2032 20.5661 19.8826 20.2754 19.8191 19.866C19.7315 19.3712 20.0037 18.9167 20.1605 18.4658C20.3601 17.9779 20.4938 17.3655 21.0256 17.1279C21.5619 16.8914 22.1086 16.6688 22.6657 16.4866ZM21.9286 17.8406C22.3542 18.3677 22.9136 18.7726 23.315 19.3181C23.5192 19.7172 23.0382 20.1878 22.6472 19.9675C22.1166 19.5638 21.7107 19.0217 21.2089 18.5834C21.0728 18.9064 20.9148 19.2247 20.8272 19.5649C20.7603 19.7322 20.9264 19.8441 21.0163 19.9582C21.7637 20.7125 22.5203 21.4576 23.2608 22.2177C23.4684 22.4138 23.6852 22.6664 23.9955 22.6652C24.4003 22.6767 24.6552 22.3157 24.9205 22.0655C25.2481 21.6975 25.6494 21.393 25.9228 20.9813C26.1039 20.6503 25.9159 20.2754 25.661 20.0471C24.7867 19.1809 23.9298 18.2974 23.0543 17.4335C22.6703 17.5454 22.2977 17.6896 21.9286 17.8406Z\"\n                fill=\"white\"/>\n            <path\n                d=\"M10.9728 18.6814C12.4895 18.6526 14.0073 18.6652 15.5252 18.6745C15.5367 19.0055 15.5367 19.3377 15.524 19.6687C14.0073 19.6768 12.4906 19.6871 10.9739 19.6629C10.9762 19.3354 10.9751 19.0078 10.9728 18.6814Z\"\n                fill=\"white\"/>\n            <path\n                d=\"M10.9717 20.6807C12.4964 20.6703 14.0212 20.6599 15.5448 20.6865C15.5402 21.0175 15.539 21.3485 15.539 21.6795C14.0201 21.6818 12.4999 21.6749 10.9809 21.683C10.9763 21.3485 10.9751 21.0152 10.9717 20.6807Z\"\n                fill=\"white\"/>\n        </g>\n        <defs>\n            <linearGradient id=\"paint2_linear\" x1=\"36\" y1=\"36\" x2=\"0\" y2=\"0\" gradientUnits=\"userSpaceOnUse\">\n                <stop stopColor=\"#115EC2\"/>\n                <stop offset=\"1\" stopColor=\"#3D73BA\" stopOpacity=\"0.47\"/>\n            </linearGradient>\n        </defs>\n    </svg>\n);\n\nexport default MosRuIcon;","import React from 'react';\n\nconst NetschoolIcon = props => (\n    <svg width=\"36\" height=\"36\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <circle cx=\"18\" cy=\"18\" r=\"18\" fill=\"url(#paint1_linear)\"/>\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\"\n              d=\"M20.3493 27L20.2732 17.6667L24 16.375L23.8859 27H20.3493ZM15.7479 20.7083L15.6338 11.5833L19.4746 9V26.9167L17.6493 27V21.1667L15.7479 20.7083ZM10.5 26.9167L10.6141 21.9167L13.3141 20.8333V26.9167H10.5Z\"\n              fill=\"#FEFEFE\"/>\n        <defs>\n            <linearGradient id=\"paint1_linear\" x1=\"36\" y1=\"36\" x2=\"0\" y2=\"0\" gradientUnits=\"userSpaceOnUse\">\n                <stop stopColor=\"#0D67AF\"/>\n                <stop offset=\"1\" stopColor=\"#0D67AF\" stopOpacity=\"0.41\"/>\n            </linearGradient>\n        </defs>\n    </svg>\n);\n\nexport default NetschoolIcon;","import React from 'react';\n\nconst EdutatarIcon = props => (\n    <svg width=\"36\" height=\"36\" viewBox=\"0 0 36 36\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <circle cx=\"18\" cy=\"18\" r=\"18\" fill=\"url(#paint3_linear)\"/>\n        <path\n            d=\"M12.1898 11.7338C12.4413 11.7934 12.6238 12.0686 12.6662 12.452C12.6665 12.4547 12.6669 12.4651 12.6672 12.4807C13.3315 12.8805 14.0565 13.8657 14.2879 14.4045L14.4483 14.7985C14.5884 15.1524 14.7207 15.4866 14.9426 15.8156C15.0719 16.0074 15.2423 16.2419 15.4139 16.3544C15.4246 16.3614 15.4354 16.3683 15.4463 16.3751C15.7049 14.8165 15.6499 13.0825 15.2824 11.6899C14.9453 10.4128 14.3817 9.37742 13.7361 8.84913C13.1804 8.3944 12.6105 8.35482 12.2117 8.74328L12.1432 8.80999L12.1301 8.71528C12.082 8.36689 12.21 8.07821 12.4905 7.90236C12.9146 7.63657 13.6062 7.68417 14.0991 8.01308C14.3391 8.17321 14.619 8.42551 14.8365 8.73645C14.5819 7.85665 14.5568 7.00203 15.1391 6.34216C15.3849 6.06364 15.692 5.90408 15.9817 5.90438C16.2355 5.90464 16.4675 6.02244 16.6715 6.25455L16.7523 6.34646L16.6305 6.33451C16.2782 6.29998 16.0044 6.38643 15.8167 6.59148C15.5508 6.88199 15.4623 7.4295 15.5801 8.05624C15.6413 8.3823 15.7752 8.6661 15.9779 9.09572L16.0676 9.28644C16.1914 9.55132 16.2838 9.78027 16.3739 10.0268C16.3733 9.13318 16.5093 8.08103 17.3147 7.87194C17.7963 7.74695 18.1036 7.97603 18.2204 8.21016L18.2598 8.28906L18.1721 8.27979C17.8362 8.24424 17.5985 8.32041 17.4455 8.51271C17.0027 9.0691 17.3693 10.4961 17.7941 11.7748C17.7941 11.7438 17.7946 11.7123 17.7954 11.6804C17.808 11.22 17.8657 10.8423 17.9671 10.5578C18.0956 10.197 18.4148 9.94835 18.7801 9.92426C19.0795 9.90451 19.3437 10.0447 19.4696 10.2901L19.512 10.3727L19.4201 10.3601C19.1609 10.3245 18.9548 10.3686 18.8075 10.4911C18.6408 10.6297 18.5446 10.8762 18.5293 11.204C18.5205 11.3918 18.5345 11.5922 18.572 11.8169C18.5833 11.8845 18.6099 12.0017 18.6467 12.164C18.7038 12.4159 18.7825 12.763 18.8598 13.1703C18.9284 12.63 19.1265 12.3625 19.2973 12.2304C19.4796 12.0896 19.7127 12.0418 19.9368 12.0993C20.1948 12.1655 20.3336 12.3063 20.3612 12.5296L20.371 12.6086L20.2964 12.5808C20.1339 12.5203 19.9979 12.5217 19.8922 12.585C19.763 12.6623 19.677 12.8343 19.6433 13.0823C19.6009 13.3942 19.6807 13.7741 19.7732 14.214L19.814 14.4094C19.8531 14.6006 19.8781 14.78 19.8936 14.9546C20.0757 14.5319 20.3844 14.4077 20.6368 14.442C20.8664 14.4731 21.037 14.6357 21.0338 14.8201L21.0325 14.894L20.9653 14.8631C20.8434 14.8071 20.7458 14.7931 20.6753 14.8213C20.6156 14.8453 20.5691 14.9011 20.5331 14.9919C20.4711 15.1484 20.499 15.3981 20.5313 15.6873C20.5445 15.8051 20.5585 15.9303 20.568 16.0612C20.5836 16.0524 20.5985 16.0437 20.6124 16.0351C20.8198 15.9071 21.0171 15.7665 21.2078 15.6306C21.8353 15.1833 22.428 14.7607 23.3763 14.734C24.0221 14.7158 24.6776 14.88 25.3246 15.222C25.3836 15.2531 25.4642 15.3018 25.5661 15.3635C25.8802 15.5534 26.3549 15.8403 26.761 15.9496C26.9522 16.0011 27.2672 15.9803 27.4744 15.8402C27.5891 15.7625 27.6549 15.6602 27.6696 15.5361C27.7738 14.6614 26.9558 14.0356 26.5992 13.8071C25.6113 13.174 24.7752 12.7169 23.7849 12.1851C22.9113 11.716 22.026 11.1677 21.6403 10.0881C21.338 9.24194 21.4162 8.37193 21.8547 7.70111C22.1279 7.28323 22.4752 7.0731 22.7393 7.16576C22.9365 7.23494 23.0368 7.45756 23.0076 7.7613C22.9898 7.94692 22.8951 8.17833 22.7948 8.42331L22.7713 8.48088C22.6698 8.72972 22.6796 9.25788 23.0189 9.65293C23.5778 10.3038 24.6622 10.8876 25.2448 11.2012L25.3694 11.2685L25.9236 11.5605C26.3897 11.8025 26.8718 12.0527 27.2947 12.3424C28.0524 12.8613 28.5463 13.4546 28.8491 14.2092C29.1729 15.016 29.3299 16.137 28.2399 16.8957C27.7653 17.2262 27.8061 17.4564 27.9047 18.0125C28.0027 18.5652 28.0984 19.2217 27.9934 20.0193L27.9774 20.1406C27.9128 20.6285 27.846 21.1332 27.8384 21.6303L27.835 21.745C27.827 21.9668 27.8162 22.2704 27.9053 22.5134C27.9579 22.6565 28.0282 22.7683 28.0962 22.8764C28.1339 22.9364 28.1695 22.9929 28.2022 23.0543C28.2909 23.2208 28.3662 23.4418 28.3119 23.5633L28.3009 23.5878C28.157 23.9093 28.0434 24.1633 27.875 24.4398C27.7742 24.6054 27.6568 24.7744 27.5326 24.9534L27.2791 25.3257C27.1736 25.4869 27.0581 25.7094 26.9562 25.9058L26.8592 26.0911C26.7755 26.2484 26.75 26.3513 26.7814 26.4058C26.8084 26.4526 26.887 26.4787 27.015 26.4832L27.0961 26.4861L27.0549 26.5561C26.9092 26.8032 26.642 26.8585 26.4272 26.8295C26.056 27.4767 25.8431 27.5224 25.2882 27.6383L25.1473 27.668C25.0418 27.6907 24.9338 27.7251 24.8293 27.7584C24.7012 27.7992 24.5687 27.8414 24.4356 27.8641C23.9463 27.9478 23.8504 27.8971 23.8099 27.7437L23.8013 27.714C23.7878 27.6753 23.7392 27.6434 23.6963 27.6152C23.6444 27.5812 23.5908 27.546 23.586 27.4887C23.5854 27.4816 23.5855 27.4745 23.5865 27.4676C23.4817 27.426 23.3937 27.3539 23.3507 27.2723C23.3279 27.2293 23.3182 27.1849 23.3218 27.1418C23.176 27.0856 23.1404 26.995 23.1324 26.9434C23.1184 26.8515 23.169 26.7544 23.2644 26.69L23.3037 26.6636C23.3866 26.6079 23.4724 26.5503 23.5561 26.4834C23.6003 26.4479 23.6441 26.4057 23.6863 26.3649C23.807 26.2482 23.9319 26.1276 24.0901 26.1459C24.1723 26.1554 24.2698 26.1723 24.3729 26.19C24.7055 26.2473 25.1193 26.3186 25.3504 26.2067C25.5283 26.1204 25.6838 25.8554 25.8253 25.5818C26.1997 24.8581 26.4055 24.2402 26.4543 23.6927C26.4884 23.311 26.3629 23.0829 26.2039 22.794C26.1353 22.6694 26.0644 22.5405 25.9991 22.3858C25.9324 22.228 25.8279 22.0662 25.7267 21.9097L25.5874 21.6884L25.4242 21.4161C25.3169 21.238 25.2118 21.0635 25.1117 20.8881C24.8286 21.3535 24.7265 21.8845 24.781 22.5979C24.7966 22.8033 24.697 22.9519 24.4676 23.0655C24.3445 23.1266 24.2225 23.214 24.0934 23.3066L23.9277 23.4237C23.4244 23.7691 22.8522 24.2162 22.567 24.4868C22.4586 24.5896 22.4451 24.6908 22.4528 24.7575C22.4637 24.8517 22.5199 24.9245 22.5676 24.9523L22.6457 24.9979L22.5643 25.0375C22.439 25.0984 22.3226 25.1123 22.2277 25.0775C22.1555 25.0511 22.0973 24.9966 22.0525 24.9183C21.9739 24.9678 21.915 25.057 21.8546 25.1534C21.7997 25.241 21.7428 25.3317 21.6655 25.3948L21.6249 25.4282C21.5268 25.5096 21.4254 25.5937 21.2995 25.6324C21.1483 25.6789 21.0153 25.6865 20.8614 25.6953L20.763 25.7013C20.5644 25.7145 20.4257 25.7533 20.3033 25.7876C20.1735 25.8239 20.0707 25.8525 19.952 25.8337C19.8463 25.8169 19.7254 25.7933 19.6293 25.7445L19.5904 25.7251C19.4647 25.663 19.2621 25.5629 19.3019 25.3849C19.2858 25.3769 19.2685 25.3656 19.2499 25.351C19.199 25.3109 19.1036 25.2142 19.1077 25.1344C19.1079 25.1295 19.1084 25.1247 19.109 25.1199C19.0704 25.1117 19.0327 25.0898 19.0006 25.0561C18.9504 25.0035 18.9258 24.9356 18.9364 24.8791C18.9572 24.7681 19.0695 24.6644 19.178 24.5641L19.2857 24.4596L19.3217 24.4195C19.4268 24.3019 19.5356 24.1802 19.7197 24.1682C19.8225 24.1615 19.9773 24.1644 20.1318 24.2165C20.386 24.3022 20.6184 24.3399 20.863 24.335C21.0575 24.3312 21.1972 24.2808 21.2901 24.1811L21.3171 24.1521C21.8145 23.618 22.2843 23.1136 22.7586 22.5588C23.3328 21.8869 22.9758 21.0519 22.6305 20.2443L22.6168 20.2123C22.4946 19.9262 22.4072 19.6289 22.3301 19.3666L22.2954 19.2497C21.8522 19.563 21.5264 19.9285 21.1815 20.3153C20.8647 20.6708 20.5371 21.0383 20.0875 21.4048C18.7408 22.5025 17.3419 22.941 15.8124 22.7445C15.8041 22.8057 15.7982 22.8701 15.7955 22.9375C15.7818 23.2777 15.6896 23.4611 15.5621 23.7149L15.477 23.8872C15.3539 24.1441 15.1123 24.6361 14.8769 25.0453C14.5861 25.5508 14.3385 25.997 14.2531 26.3399C14.2211 26.4551 14.2328 26.5611 14.2854 26.6307C14.3297 26.6895 14.4017 26.721 14.4933 26.7217L14.5768 26.7223L14.5347 26.7944C14.3969 27.0304 14.2017 27.083 13.9244 26.9604C13.8484 27.1434 13.7361 27.3642 13.5397 27.5437C13.3967 27.6744 13.2156 27.7889 13.0158 27.8748C12.8957 27.9265 12.7838 27.9363 12.6653 27.9467C12.5844 27.9538 12.5007 27.9611 12.4069 27.9823C12.308 28.0045 12.2032 28.0349 12.0922 28.067C11.8464 28.1382 11.5922 28.2118 11.3904 28.1964C11.2349 28.1847 11.0283 28.1522 10.9501 28.0216C10.9135 28.0221 10.876 28.0109 10.8399 27.9877C10.7615 27.9372 10.6975 27.8372 10.6735 27.7596C10.5967 27.7307 10.5337 27.6492 10.5048 27.5778C10.4955 27.5548 10.4894 27.5323 10.4865 27.511C10.4037 27.4879 10.3419 27.4146 10.3187 27.31C10.2939 27.1981 10.3159 27.0451 10.4229 26.9737L10.4151 26.9802C10.9462 26.4347 11.4066 26.4213 11.5142 26.4781C11.9031 26.6834 12.2658 26.7571 12.5089 26.6801C12.6419 26.638 12.743 26.5507 12.8095 26.4205C12.9345 26.1757 13.0441 25.7321 13.171 25.2185C13.2401 24.9385 13.3117 24.6489 13.3953 24.3495L13.5004 23.9861C13.6111 23.609 13.7256 23.2192 13.7915 22.8126C13.814 22.6739 13.807 22.5152 13.7875 22.3496C13.6845 22.3373 13.5519 22.2747 13.4058 22.1781C13.1695 22.3081 12.9349 22.3659 12.7085 22.3499C12.3176 22.3223 11.8232 22.0677 11.2997 21.798L10.8859 21.5882C10.6574 21.476 10.4374 21.3455 10.2433 21.2304C9.83252 20.9868 9.47776 20.7765 9.27683 20.8764C9.15988 20.9345 9.08485 21.0238 9.03355 21.1658L8.99669 21.2679L8.94551 21.1722C8.89032 21.0689 8.87059 20.9728 8.87059 20.8864C8.87059 20.7999 8.89041 20.7235 8.9142 20.6593C8.79504 20.6341 8.68202 20.6269 8.57895 20.6422C8.39403 20.6696 8.20554 20.8013 8.12059 20.9623C8.05709 21.0827 8.06869 21.2423 8.081 21.4112L8.09004 21.5623C8.09235 21.6309 8.06542 21.7131 8.02143 21.7717C7.95804 21.856 7.87195 21.9003 7.78043 21.902C7.76527 21.9696 7.71012 22.0585 7.64179 22.1179C7.58263 22.1694 7.51891 22.1933 7.45847 22.1875C7.40339 22.2842 7.32893 22.3133 7.27355 22.3199C7.15522 22.334 7.03954 22.2593 6.9774 22.179C6.82161 21.9775 6.75819 21.6805 6.75079 21.4698C6.73689 21.0753 6.90593 20.692 7.26751 20.2979L7.34109 20.2161C7.47486 20.0658 7.60119 19.9239 7.79231 19.8443C8.03746 19.7423 8.3776 19.6544 8.63876 19.6255C8.90744 19.5958 9.19058 19.6007 9.50431 19.6405C9.82168 19.6808 10.1411 19.7422 10.45 19.8016C10.8993 19.888 11.3634 19.9771 11.8269 20.0022C11.8189 19.9542 11.8129 19.9057 11.809 19.857C11.7902 19.6172 11.7286 18.8089 11.7272 18.4751L11.7301 17.9445C11.7363 17.3675 11.7412 16.9118 11.6329 16.4811C11.4711 15.8377 11.1055 15.1418 10.5642 15.118C10.5205 15.1161 10.4239 15.1805 10.3304 15.2428C10.1164 15.3855 9.82317 15.5809 9.5214 15.4887C9.30738 15.4233 9.11872 15.1907 9.066 15.121C9.04667 15.0956 8.98802 15.0179 9.02227 14.941C9.0563 14.8646 9.16462 14.8225 9.37342 14.8048C9.63748 14.7822 9.80578 14.7183 9.81264 14.6378C9.81356 14.6273 9.83205 14.3801 9.60449 14.3158C9.51137 14.2895 9.416 14.3431 9.31501 14.3997C9.20365 14.4623 9.08851 14.5269 8.95904 14.4958C8.80624 14.4592 8.66314 14.3542 8.58559 14.2219C8.54496 14.1526 8.52438 14.08 8.52438 14.0077C8.52438 13.9827 8.5298 13.9581 8.53471 13.9334C8.45894 13.8619 8.44627 13.7864 8.44627 13.7204C8.44627 13.7093 8.44655 13.6985 8.4468 13.6881L8.44718 13.649C8.44714 13.6461 8.44712 13.6434 8.44712 13.6406C8.44712 13.4468 8.58588 13.3432 8.73268 13.2337L8.78981 13.1907C8.92921 13.084 9.02407 13.0144 9.12807 12.9424C9.23744 12.8667 9.34597 12.8324 9.45093 12.7993C9.53743 12.7719 9.61916 12.7461 9.69046 12.6987C9.77176 12.6446 9.85163 12.5537 9.92889 12.4658C10.0251 12.3562 10.1247 12.2429 10.2353 12.1908C10.5705 12.033 10.9501 12.0418 11.4854 12.0758C11.5479 12.0031 11.6115 11.9395 11.6749 11.8889C11.8502 11.7492 12.0282 11.6955 12.1898 11.7338L12.1898 11.7338Z\"\n            fill=\"black\"/>\n        <path\n            d=\"M13.3164 22.1162C13.0152 21.8978 12.6726 21.5574 12.4152 21.2254C12.2005 20.9485 11.9446 20.5452 11.8459 20.1C11.3677 20.0764 10.892 19.985 10.4318 19.8966C10.1244 19.8375 9.80646 19.7764 9.49215 19.7364C9.18609 19.6976 8.91041 19.6927 8.64938 19.7216C8.40041 19.7492 8.06324 19.8364 7.82947 19.9337C7.65869 20.0047 7.53951 20.1386 7.41329 20.2804L7.33875 20.3633C6.99515 20.7378 6.83443 21.0986 6.84737 21.4665C6.85424 21.6622 6.91211 21.9366 7.05385 22.1199C7.09924 22.1786 7.18534 22.2333 7.26211 22.2241C7.30344 22.2191 7.33814 22.1957 7.3656 22.1543C7.26532 22.0918 7.20392 21.9604 7.14886 21.8426L7.12024 21.782C7.04579 21.6267 6.97538 21.4798 6.98826 21.3065C7.01601 21.2837 7.05814 21.2845 7.08504 21.3085C7.07224 21.4583 7.13498 21.5893 7.20735 21.7402L7.23641 21.8017C7.29475 21.9266 7.3551 22.0557 7.4476 22.0871C7.48394 22.0995 7.52454 22.0882 7.56825 22.0536C7.63095 22.0039 7.6726 21.9282 7.68457 21.8887C7.64692 21.8775 7.60933 21.8592 7.57297 21.8337C7.34243 21.6719 7.25174 21.2902 7.51857 20.8694C7.55469 20.8648 7.58915 20.8876 7.59919 20.9227C7.33858 21.3345 7.47246 21.6452 7.6285 21.7546C7.71456 21.8151 7.84888 21.8406 7.94417 21.7137C7.97525 21.6724 7.99509 21.6129 7.99349 21.5656L7.98465 21.4184C7.97189 21.2433 7.95871 21.0622 8.03514 20.9174C8.13511 20.7278 8.34794 20.5789 8.56479 20.5467C8.69652 20.5272 8.84057 20.5372 8.99292 20.5766L9.0479 20.5908L9.02505 20.6428C8.9952 20.7108 8.96716 20.7924 8.96716 20.8861C8.96716 20.9306 8.97462 20.9781 8.99003 21.0279C9.04809 20.9203 9.12701 20.843 9.23384 20.7899C9.48184 20.6666 9.83964 20.8788 10.2926 21.1474C10.4946 21.2672 10.7035 21.391 10.9285 21.5015L11.344 21.7122C11.8584 21.9772 12.3442 22.2275 12.7153 22.2536C12.9094 22.2673 13.1114 22.2211 13.3164 22.1162L13.3164 22.1162Z\"\n            fill=\"white\"/>\n        <path\n            d=\"M19.3389 25.2961C19.4446 25.1134 19.6769 25.0016 19.8467 24.9321C19.8692 24.9229 19.9289 24.8986 20.2636 25.006L20.3249 25.0267C20.3959 25.0514 20.437 25.0646 20.474 25.0551C20.5008 25.0768 20.5088 25.1204 20.4914 25.1503C20.4273 25.1647 20.3672 25.1437 20.2932 25.118L20.234 25.098C19.9392 25.0033 19.8853 25.0208 19.8832 25.0215C19.7181 25.0891 19.4891 25.1989 19.4085 25.3713C19.3533 25.4891 19.4668 25.5564 19.6332 25.6386L19.6731 25.6585C19.7572 25.7012 19.8689 25.7228 19.9671 25.7384C20.0651 25.7539 20.1541 25.7291 20.2773 25.6946C20.3979 25.6609 20.548 25.6189 20.7565 25.605L20.8559 25.599C21.0096 25.5902 21.1311 25.5832 21.2711 25.5402C21.3786 25.5071 21.4725 25.4293 21.5633 25.354L21.6045 25.32C21.6695 25.267 21.7196 25.187 21.7728 25.1022C21.8476 24.9828 21.9249 24.8594 22.0526 24.8065L22.0961 24.7885C22.1319 24.8693 22.1711 24.9541 22.2608 24.9869C22.3233 25.0097 22.3925 24.9989 22.4528 24.9787C22.3903 24.9096 22.3543 24.8188 22.3543 24.7257C22.3543 24.64 22.3839 24.5274 22.5005 24.4168C22.7889 24.1432 23.3661 23.6921 23.873 23.3442L24.0371 23.2282C24.1695 23.1333 24.2945 23.0436 24.4248 22.9791C24.606 22.8893 24.6859 22.7862 24.6859 22.6389C24.6859 22.628 24.6855 22.6169 24.6846 22.6054C24.675 22.4802 24.6702 22.3604 24.6702 22.2453C24.6702 21.664 24.7939 21.2054 25.0575 20.7924C24.907 20.5232 24.7693 20.2499 24.654 19.9564L24.5926 19.7973C24.4389 19.3953 24.2799 18.9796 23.9908 18.8555C23.4313 18.6152 22.9375 18.8108 22.379 19.1918L22.4228 19.3395C22.4991 19.5992 22.5857 19.8937 22.7057 20.1745L22.7194 20.2064C23.0762 21.0411 23.4452 21.9043 22.832 22.6217C22.3564 23.178 21.8859 23.6832 21.3878 24.2181L21.3608 24.2471C21.2491 24.367 21.0869 24.4274 20.8649 24.4318C20.6088 24.4368 20.3661 24.3976 20.1009 24.3082C19.9614 24.2611 19.8201 24.2586 19.7261 24.2647C19.5813 24.2742 19.4902 24.3761 19.3938 24.4841L19.357 24.5249L19.2436 24.6352C19.1511 24.7206 19.0463 24.8175 19.0314 24.8971C19.0267 24.922 19.0432 24.9609 19.0705 24.9896C19.094 25.0142 19.1215 25.0278 19.1452 25.027C19.1744 24.9805 19.2166 24.9369 19.258 24.8941L19.3307 24.8153C19.4634 24.657 19.6571 24.5845 19.8517 24.6194C19.8679 24.6521 19.8576 24.6924 19.8276 24.7133C19.668 24.687 19.5148 24.7461 19.4048 24.8774L19.3274 24.9612C19.2682 25.0225 19.2069 25.0859 19.2042 25.1394C19.2026 25.1708 19.2896 25.268 19.3389 25.2961L19.3389 25.2961Z\"\n            fill=\"white\"/>\n        <path\n            d=\"M23.6374 27.3837L23.6568 27.3656C23.7673 27.2624 23.8924 27.1455 24.0576 27.1151C24.1507 27.098 24.235 27.1263 24.3242 27.1562C24.3717 27.1721 24.4209 27.1886 24.4757 27.2001C24.5444 27.2145 24.6492 27.2272 24.7665 27.2088C24.7952 27.2313 24.8033 27.2719 24.7855 27.3037C24.6523 27.3252 24.5334 27.3109 24.456 27.2947C24.3956 27.282 24.3413 27.2639 24.2934 27.2478C24.2097 27.2197 24.1436 27.1975 24.0751 27.2101C23.9377 27.2354 23.8284 27.3375 23.7228 27.4362L23.7024 27.4552C23.6843 27.472 23.6824 27.4805 23.6823 27.4805C23.6853 27.4926 23.7254 27.5189 23.7493 27.5346C23.8023 27.5694 23.8683 27.6127 23.8926 27.6825L23.9033 27.7193C23.9212 27.7872 23.9382 27.8513 24.4193 27.769C24.5458 27.7474 24.675 27.7063 24.8 27.6665C24.9066 27.6325 25.0169 27.5974 25.127 27.5737L25.2684 27.5439C25.8297 27.4266 25.9991 27.3912 26.3588 26.7552L26.3757 26.7253L26.4095 26.7314C26.5767 26.7619 26.7902 26.7323 26.9255 26.5717C26.8098 26.5563 26.735 26.5189 26.6976 26.4542C26.6801 26.4238 26.6713 26.3897 26.6713 26.35C26.6713 26.2732 26.7047 26.1758 26.774 26.0459L26.8704 25.8615C26.9734 25.6631 27.0901 25.4382 27.1982 25.273L27.4532 24.8985C27.5766 24.7207 27.6932 24.5529 27.7925 24.3898C27.9577 24.1184 28.0702 23.8669 28.2127 23.5485L28.2236 23.524C28.2306 23.5084 28.234 23.4878 28.234 23.4633C28.234 23.3759 28.191 23.239 28.1169 23.0999C28.0859 23.0416 28.0511 22.9865 28.0144 22.9281C27.9438 22.8157 27.8707 22.6995 27.8147 22.5469C27.7479 22.3649 27.7332 22.1568 27.7332 21.9695C27.7332 21.8884 27.7359 21.8112 27.7384 21.7417L27.7418 21.629C27.7494 21.1263 27.8166 20.6188 27.8816 20.1281L27.8976 20.0069C27.9294 19.7656 27.9424 19.5372 27.9424 19.3208C27.9424 18.8339 27.8765 18.4072 27.8095 18.0295C27.7744 17.8312 27.7454 17.6677 27.7454 17.523C27.7454 17.2562 27.844 17.0538 28.1847 16.8166C28.7905 16.395 28.9907 15.8534 28.9907 15.3215C28.9907 14.9422 28.8888 14.5677 28.7595 14.2454C28.4641 13.5092 27.9813 12.9299 27.2401 12.4223C26.8221 12.1359 26.3427 11.8871 25.879 11.6464L25.3234 11.3536L25.199 11.2865C24.6109 10.9699 23.5162 10.3805 22.9456 9.71607C22.6994 9.42945 22.618 9.09456 22.618 8.82388C22.618 8.66968 22.6444 8.53632 22.6818 8.44454L22.7054 8.38688C22.8029 8.14864 22.895 7.92365 22.9114 7.75219C22.9145 7.72038 22.916 7.68969 22.916 7.66018C22.916 7.45179 22.8409 7.30395 22.7073 7.25711C22.5265 7.19365 22.2177 7.32272 21.9356 7.75412C21.5138 8.39945 21.4393 9.23834 21.7313 10.0557C22.1055 11.103 22.9735 11.6399 23.8306 12.1002C24.8228 12.6329 25.6606 13.091 26.6514 13.7259C27.0233 13.9642 27.8762 14.6187 27.7656 15.5476C27.7476 15.6988 27.6656 15.8276 27.5285 15.9204C27.2952 16.0782 26.9531 16.1016 26.7359 16.0431C26.3166 15.9302 25.8349 15.639 25.5162 15.4463C25.4195 15.3879 25.3361 15.3374 25.2795 15.3075C24.6474 14.9735 24.008 14.813 23.379 14.8308C22.4602 14.8567 21.8791 15.2709 21.2639 15.7094C21.0719 15.8463 20.8733 15.9878 20.6631 16.1175C20.6369 16.1337 20.6072 16.1505 20.5747 16.1676L20.575 16.1731V16.1732C20.5845 16.3621 20.5787 16.5473 20.5597 16.7354V16.7355C20.6762 16.6149 20.8292 16.5673 20.9937 16.6064C21.2193 16.66 21.3865 16.8608 21.3828 17.0737L21.3815 17.1476L21.3143 17.1167C21.2039 17.066 21.1164 17.0576 21.0542 17.0918C20.9748 17.1355 20.9231 17.2531 20.8961 17.4516C20.884 17.5404 20.8782 17.6421 20.872 17.7497C20.8544 18.0559 20.8325 18.437 20.6527 18.8443C20.5565 19.0621 20.3291 19.4007 20.0306 19.6942C19.842 18.497 18.8055 17.5811 17.5555 17.5811C17.0776 17.5811 16.6309 17.7151 16.2509 17.9473L16.2597 17.8844C16.3072 17.5476 16.362 17.1595 16.4047 16.8146C16.013 16.7482 15.6544 16.6277 15.361 16.4354C15.176 16.3142 15.0052 16.0814 14.8625 15.8698C14.6348 15.5321 14.5006 15.1931 14.3585 14.8343L14.1991 14.4428C13.984 13.942 13.2938 12.9997 12.6683 12.5954C12.6683 12.6402 12.6676 12.6884 12.6659 12.7286C12.6368 12.7504 12.5955 12.7476 12.5695 12.7222C12.5736 12.623 12.5709 12.4751 12.5702 12.4628C12.5324 12.1211 12.3782 11.8779 12.1676 11.828C12.0359 11.7968 11.8864 11.844 11.7352 11.9646C11.6711 12.0157 11.6063 12.0803 11.5426 12.1565L11.5269 12.1753L11.5024 12.1737C10.9692 12.1394 10.5958 12.1281 10.2765 12.2784C10.184 12.3219 10.0912 12.4275 10.0015 12.5297C9.92009 12.6224 9.83593 12.7182 9.74398 12.7793C9.66128 12.8343 9.57326 12.8621 9.48006 12.8916C9.38194 12.9226 9.28045 12.9547 9.18308 13.022C9.08041 13.0931 8.98664 13.1619 8.84853 13.2676L8.79047 13.3113C8.6455 13.4195 8.54077 13.4976 8.54379 13.6472L8.54341 13.6906C8.54252 13.7277 8.54171 13.7607 8.55142 13.7922C8.56805 13.8461 8.61544 13.9023 8.67645 13.8838C8.71291 13.8727 8.75082 13.8396 8.77057 13.7812L8.80869 13.7872C8.81551 13.8887 8.78845 13.9839 8.62114 14.0098C8.62173 14.0762 8.64539 14.133 8.66893 14.1732C8.73269 14.2819 8.85542 14.3717 8.9816 14.402C9.07423 14.4243 9.16822 14.3715 9.26771 14.3156C9.38139 14.2519 9.49906 14.1858 9.63077 14.223C9.87362 14.2916 9.9189 14.5299 9.90893 14.6462C9.89399 14.8211 9.61393 14.8814 9.38164 14.9012C9.15421 14.9206 9.11662 14.9668 9.11052 14.9805C9.10342 14.9964 9.11496 15.0257 9.14304 15.0629C9.24258 15.1945 9.40167 15.3512 9.54962 15.3964C9.80765 15.4753 10.0788 15.2945 10.2768 15.1626C10.4024 15.0788 10.4932 15.0183 10.5684 15.0216C11.1627 15.0477 11.5564 15.7805 11.7266 16.4576C11.8379 16.9006 11.833 17.3617 11.8267 17.9456L11.8239 18.4748C11.8252 18.8053 11.8866 19.6106 11.9054 19.8496C11.9458 20.3652 12.2465 20.8502 12.4915 21.1662C12.9171 21.7151 13.5004 22.2017 13.7746 22.2517C13.7608 22.1543 13.7439 22.0556 13.7272 21.9578C13.6734 21.6439 13.6225 21.3473 13.6741 21.1217C13.8392 20.3996 14.0085 19.9477 14.191 19.742C14.1957 19.7436 14.2003 19.7456 14.2047 19.7482C14.228 19.7617 14.2413 19.786 14.2418 19.8111V19.8138C14.2417 19.8215 14.2404 19.8293 14.2378 19.8369C14.0774 20.0426 13.9197 20.4813 13.7683 21.1432C13.721 21.35 13.7703 21.6373 13.8224 21.9415C13.8751 22.2485 13.9294 22.566 13.8869 22.8282C13.8201 23.2407 13.7047 23.6336 13.5931 24.0135L13.4884 24.3757C13.4051 24.6737 13.3338 24.9625 13.2648 25.2418C13.1364 25.7613 13.0256 26.2098 12.8955 26.4646C12.8169 26.6187 12.6966 26.7223 12.5381 26.7725C12.1716 26.8884 11.711 26.6914 11.4691 26.5637C11.3943 26.5242 10.9754 26.5434 10.4844 27.0478L10.4808 27.0514L10.4766 27.0543C10.4191 27.0926 10.3918 27.1936 10.413 27.2893C10.42 27.3206 10.4415 27.3893 10.4993 27.4136C10.5023 27.4078 10.5057 27.4022 10.5096 27.3969C10.6548 27.2008 10.9061 26.9695 11.1758 26.9085C11.2706 26.887 11.3461 26.9248 11.4127 26.9581C11.4642 26.9839 11.5093 27.0065 11.5602 27.0043C11.5847 27.0285 11.5885 27.0725 11.5682 27.1006C11.4905 27.1052 11.4264 27.0731 11.3694 27.0445C11.3098 27.0147 11.2582 26.9889 11.1971 27.0027C10.953 27.058 10.716 27.2806 10.5873 27.4544C10.5783 27.4667 10.5769 27.4984 10.5945 27.5418C10.6171 27.5978 10.6604 27.6476 10.7001 27.6662L10.8192 27.5489C10.9467 27.4186 11.0568 27.3061 11.2148 27.2866C11.3649 27.2681 11.5198 27.2867 11.6695 27.3046C11.684 27.3064 11.6948 27.3071 11.7026 27.311C11.7204 27.3364 11.7204 27.371 11.7027 27.3963C11.6943 27.4028 11.6809 27.4033 11.658 27.4006C11.5074 27.3825 11.3651 27.3654 11.2266 27.3825C11.1022 27.3979 11.0078 27.4944 10.8883 27.6165C10.8883 27.6165 10.7997 27.7037 10.7683 27.7347C10.7856 27.789 10.8328 27.8684 10.8922 27.9066C10.9182 27.9233 10.9425 27.9289 10.9644 27.9233L11.0068 27.9124L11.0218 27.9535C11.0517 28.0354 11.1747 28.0834 11.3977 28.1003C11.5822 28.1143 11.8278 28.0431 12.0653 27.9743C12.1728 27.9432 12.2839 27.911 12.3858 27.8882C12.4858 27.8657 12.5728 27.858 12.6568 27.8506C12.7722 27.8405 12.8718 27.8317 12.9776 27.7862C13.1676 27.7045 13.3394 27.596 13.4745 27.4726C13.6732 27.291 13.7816 27.0596 13.8538 26.8783L13.8732 26.8295L13.9202 26.8529C14.1473 26.9657 14.2932 26.9532 14.4064 26.8098C14.3234 26.793 14.2558 26.7522 14.2082 26.689C14.1623 26.6282 14.1388 26.5494 14.1388 26.4624C14.1388 26.4153 14.1457 26.3658 14.1597 26.3155C14.2479 25.9611 14.4882 25.5274 14.7931 24.9973C15.0269 24.5908 15.2674 24.1013 15.3899 23.8456L15.4758 23.6717C15.6024 23.4197 15.6861 23.2532 15.699 22.9337C15.7189 22.4408 15.9009 22.1017 15.9608 21.9903L16.0459 22.0359C16.0012 22.1191 15.8854 22.3348 15.8276 22.6492C17.3284 22.8411 18.7024 22.4094 20.0265 21.3301C20.4701 20.9684 20.7951 20.6038 21.1094 20.2512C21.4599 19.858 21.7909 19.4867 22.2468 19.1659C22.7805 18.7903 23.3659 18.482 24.0289 18.7667C24.3555 18.907 24.522 19.342 24.6829 19.7628L24.744 19.9212C24.9452 20.4337 25.2181 20.8868 25.507 21.3665L25.6705 21.6393L25.8078 21.8574C25.9112 22.0174 26.0182 22.1828 26.0881 22.3484C26.1515 22.4985 26.2212 22.6251 26.2886 22.7476C26.4489 23.0389 26.5873 23.2905 26.5506 23.7014C26.5006 24.2617 26.2914 24.8914 25.9111 25.6264C25.7387 25.9598 25.5845 26.2008 25.3925 26.2938C25.1335 26.4193 24.7027 26.3451 24.3565 26.2855C24.2547 26.2679 24.1585 26.2513 24.079 26.2421C23.9662 26.229 23.8628 26.3288 23.7535 26.4345C23.7096 26.4769 23.6642 26.5208 23.6165 26.559C23.5296 26.6285 23.4421 26.6872 23.3575 26.744L23.3185 26.7702C23.2543 26.8135 23.2197 26.8743 23.228 26.9289C23.2355 26.9781 23.2781 27.0199 23.3494 27.049C23.3929 26.9586 23.4678 26.9097 23.5738 26.8404C23.6269 26.8057 23.693 26.7625 23.7701 26.7046C23.8611 26.6363 23.9919 26.6317 24.1433 26.6263L24.2953 26.6185C24.3197 26.6433 24.3227 26.6871 24.3022 26.7149L24.1467 26.7229C24.006 26.7279 23.8948 26.7318 23.8281 26.7819C23.7485 26.8417 23.6809 26.8858 23.6267 26.9213C23.5101 26.9974 23.4516 27.0357 23.4232 27.1246C23.4128 27.1569 23.4172 27.1915 23.4361 27.2274C23.4702 27.292 23.5478 27.3517 23.6374 27.3837L23.6374 27.3837Z\"\n            fill=\"white\"/>\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\"\n              d=\"M7.42975 22.1376C7.4869 22.2932 7.59667 22.3543 7.76166 22.4102C7.49885 22.5619 7.32849 22.4788 7.18069 22.2638C7.27128 22.2901 7.3701 22.2664 7.42975 22.1376V22.1376ZM8.02913 21.6497L8.04202 21.6581C8.06976 21.8007 8.24261 21.8747 8.39774 21.8998C8.16254 22.0634 7.97331 22.0555 7.82159 21.8498C7.88208 21.8366 7.93778 21.8026 7.9827 21.7428C8.00245 21.7165 8.01872 21.6838 8.02913 21.6497V21.6497ZM7.72984 21.9099C7.81311 22.0866 8.01727 22.1057 8.13605 22.1239C7.93155 22.2785 7.72004 22.3325 7.55395 22.1201C7.63627 22.0781 7.70452 21.9792 7.72984 21.9098V21.9099ZM10.7846 27.8681V27.8681C10.8345 27.9347 10.9044 27.9886 10.9763 27.97C10.9844 27.9921 10.9969 28.0115 11.0129 28.0285C10.9858 28.1213 10.9951 28.2574 10.9914 28.3213C10.8641 28.2608 10.7865 28.1943 10.7501 28.1185C10.7497 28.13 10.7494 28.1411 10.7491 28.1519C10.6449 28.078 10.5458 28.0017 10.5256 27.8697C10.3759 27.7573 10.2549 27.5981 10.3787 27.3678L10.3913 27.3541C10.4189 27.4176 10.4665 27.4669 10.5324 27.4779C10.5321 27.523 10.5526 27.5772 10.5841 27.623V27.623C10.6142 27.6669 10.6544 27.7031 10.6962 27.7166C10.7021 27.7258 10.709 27.7332 10.7174 27.7381C10.7279 27.7758 10.752 27.8246 10.7846 27.8681V27.8681ZM19.5852 25.6687C19.5687 25.7372 19.5715 25.8555 19.5723 25.9618C19.4505 25.8991 19.3508 25.8329 19.3281 25.7545C19.2078 25.6767 19.1365 25.5867 19.1152 25.4912C18.9414 25.365 18.8602 25.211 18.9625 25.0022L18.999 24.9674C19.0307 25.032 19.1028 25.0927 19.1697 25.0829C19.1619 25.1002 19.1568 25.1185 19.1559 25.137C19.1521 25.2115 19.3136 25.366 19.3647 25.3508C19.2901 25.5103 19.4473 25.5999 19.5852 25.6687H19.5852ZM23.8947 27.811C23.8294 27.8619 23.8034 27.9539 23.8056 28.0756C23.6429 27.9858 23.5571 27.85 23.5838 27.6473C23.556 27.7282 23.5608 27.8081 23.5568 27.875C23.4294 27.81 23.3316 27.7252 23.2989 27.597C23.1666 27.5295 23.0158 27.2305 23.1584 26.9274L23.1785 26.9126C23.1783 26.9907 23.2362 27.0678 23.3771 27.1098C23.334 27.2445 23.4767 27.3869 23.6479 27.4393C23.5721 27.5437 23.8041 27.5751 23.8469 27.6983C23.8609 27.7387 23.8631 27.7806 23.8947 27.811H23.8947Z\"\n              fill=\"black\"/>\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\"\n              d=\"M23.8227 27.7853C23.779 27.83 23.7508 27.9097 23.7469 27.9536C23.6421 27.8445 23.6239 27.706 23.6699 27.5977C23.7212 27.634 23.7651 27.6595 23.7912 27.6931C23.8041 27.7098 23.8084 27.7482 23.8227 27.7853V27.7853ZM23.5863 27.486C23.5596 27.5164 23.5097 27.6129 23.4954 27.7589C23.3061 27.6287 23.3529 27.4247 23.3896 27.3291C23.4116 27.3597 23.4894 27.4303 23.5865 27.4676C23.5857 27.4739 23.5856 27.48 23.5863 27.486V27.486ZM23.3235 27.1911C23.2915 27.2511 23.2537 27.4117 23.2498 27.4556C23.1569 27.3335 23.1643 27.1292 23.1845 27.0522C23.2169 27.0921 23.2798 27.1259 23.3214 27.1419C23.3206 27.1638 23.3214 27.1722 23.3235 27.1911V27.1911ZM19.124 25.2037C19.1001 25.2507 19.0818 25.3038 19.0756 25.3707C18.9966 25.2867 18.9585 25.1896 19.0102 25.0635C19.0457 25.0938 19.0792 25.1133 19.11 25.1169C19.1053 25.1459 19.1099 25.1749 19.124 25.2037V25.2037ZM19.3021 25.4769C19.2919 25.5013 19.2789 25.5566 19.2753 25.6275C19.1865 25.5437 19.1501 25.44 19.1997 25.3059C19.231 25.3382 19.2658 25.3658 19.3015 25.3841C19.2975 25.4101 19.2929 25.4382 19.3021 25.4769V25.4769ZM19.5054 25.8465C19.3978 25.7847 19.3588 25.7049 19.3831 25.5978C19.419 25.6295 19.4567 25.6599 19.5135 25.6857C19.5047 25.7115 19.5031 25.7698 19.5054 25.8465ZM10.9268 28.2056C10.8064 28.1377 10.7841 28.0423 10.8043 27.961C10.8297 27.986 10.8898 28.021 10.9448 28.0212C10.9268 28.0743 10.9262 28.1279 10.9268 28.2056V28.2056ZM10.7179 27.8551C10.6931 27.9147 10.6898 27.9752 10.6858 28.019C10.5979 27.9385 10.5661 27.829 10.6032 27.7166C10.6263 27.7359 10.6451 27.7491 10.674 27.7597C10.6852 27.7975 10.7001 27.8263 10.7179 27.8551V27.8551ZM10.5197 27.6109C10.4936 27.6719 10.4895 27.6996 10.4856 27.7435C10.3807 27.6345 10.3878 27.5438 10.408 27.4667C10.4319 27.486 10.4585 27.4993 10.4859 27.5074C10.4887 27.5415 10.5028 27.5788 10.5197 27.6109V27.6109ZM7.72342 22.0266C7.78323 22.0974 7.86918 22.1366 7.94916 22.158C7.85202 22.2024 7.74421 22.2212 7.64314 22.1159C7.6728 22.0915 7.70008 22.0615 7.72342 22.0266V22.0266ZM8.01893 21.7648H8.01898C8.04009 21.8275 8.14307 21.8999 8.22129 21.9189C8.08754 21.973 7.99916 21.9426 7.92123 21.8589L7.9212 21.8589C7.95754 21.8346 7.99119 21.8013 8.01893 21.7648V21.7648ZM7.88691 21.7324C7.88834 21.7277 7.89033 21.7237 7.89289 21.7203L7.88691 21.7324ZM7.5819 22.4076C7.4669 22.4378 7.38195 22.3836 7.31415 22.3105C7.34991 22.2993 7.38229 22.2796 7.41048 22.2526C7.44573 22.316 7.50398 22.3661 7.5819 22.4076V22.4076Z\"\n              fill=\"#FFFF00\"/>\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\"\n              d=\"M19.7838 19.1435C19.8522 19.3046 19.9035 19.4747 19.9356 19.6514C20.2274 19.3706 20.4665 19.0269 20.5644 18.8052C20.7371 18.4139 20.7585 18.0425 20.7756 17.7441C20.7819 17.6345 20.7878 17.5309 20.8004 17.4384C20.8205 17.2911 20.8637 17.0862 21.0077 17.007C21.0413 16.9885 21.0789 16.9786 21.1199 16.9765C21.0612 16.9223 20.9982 16.8983 20.9346 16.9064C20.6792 16.9388 20.6275 17.2904 20.5859 17.5729C20.5726 17.6629 20.5601 17.7478 20.542 17.8107C20.4472 18.1381 20.3502 18.3863 20.2366 18.5918C20.1411 18.7645 19.9427 19.0047 19.7838 19.1435L19.7838 19.1435ZM19.3996 18.5214C19.4699 18.6041 19.5348 18.6915 19.5936 18.7832C19.8444 18.5322 19.9889 18.2534 20.0714 18.0939C20.2685 17.7132 20.404 17.2737 20.463 16.831C20.4812 16.6946 20.4803 16.5639 20.4829 16.4271C20.4877 16.1665 20.4601 15.9192 20.4354 15.698C20.4017 15.396 20.3725 15.1352 20.4434 14.9563C20.4896 14.8396 20.5538 14.7661 20.6394 14.7317C20.657 14.7247 20.6752 14.7194 20.6942 14.7159C20.6362 14.6549 20.5695 14.6582 20.5047 14.6729C20.3087 14.7176 20.1556 15.0345 20.1561 15.3944C20.1564 15.6125 20.1718 15.8213 20.181 15.946L20.1876 16.0456C20.2199 16.8757 19.9354 17.9655 19.3996 18.5214L19.3996 18.5214ZM18.9365 18.1006C19.0036 18.1474 19.0682 18.1974 19.1301 18.2505C19.4862 17.8499 19.5485 17.6764 19.6187 17.4808L19.6465 17.4041C19.7562 17.1112 19.8118 16.8582 19.8216 16.608C19.8265 16.4849 19.8257 16.3609 19.825 16.241C19.825 16.241 19.8257 15.9872 19.8257 15.9872C19.8371 15.4421 19.8277 14.9569 19.7194 14.4289L19.6787 14.2339C19.5844 13.7852 19.503 13.3978 19.5476 13.0694C19.5854 12.7912 19.6874 12.5951 19.8426 12.5021C19.9141 12.4593 19.9955 12.4397 20.0854 12.4419C19.9866 12.3644 19.8629 12.3348 19.7382 12.3619C19.5199 12.4094 19.3463 12.6167 19.2736 12.9165C19.1829 13.2909 19.2514 13.7547 19.3239 14.2458C19.3697 14.5558 19.417 14.8763 19.4281 15.1959C19.4429 15.6244 19.4492 16.2668 19.3338 16.8963C19.2933 17.1175 19.1782 17.644 18.9365 18.1006L18.9365 18.1006ZM18.3134 17.789C18.4174 17.8233 18.5184 17.8644 18.6156 17.9119C18.8611 17.4855 18.901 17.2282 18.9428 16.9585L18.9579 16.8631C19.1091 15.9424 19.0416 14.9127 18.9157 14.0197C18.8635 13.6497 18.7917 13.3149 18.7197 12.9569C18.658 12.6505 18.5983 12.3872 18.5525 12.1854C18.5154 12.0216 18.4886 11.9032 18.4768 11.8328C18.4381 11.6014 18.4238 11.3942 18.4328 11.1995C18.4497 10.8389 18.555 10.5755 18.7457 10.4169C18.8532 10.3276 18.9868 10.2759 19.1435 10.26C19.0088 10.1855 18.875 10.1662 18.7445 10.2029C18.527 10.264 18.3245 10.4858 18.203 10.7961C18.1042 11.0483 18.1157 11.361 18.1218 11.529C18.1395 12.0093 18.2504 12.5255 18.3577 13.0248C18.4314 13.3676 18.5075 13.722 18.5517 14.0587C18.5806 14.2778 18.6036 14.4781 18.6224 14.671C18.6654 15.1149 18.7085 15.6985 18.6599 16.277C18.6231 16.7155 18.4965 17.3297 18.3134 17.789V17.789ZM17.5675 17.6678C17.7027 17.6685 17.8354 17.6803 17.9645 17.7023C18.1677 17.1974 18.2449 16.4993 18.2659 16.266C18.288 16.02 18.3038 15.7443 18.3129 15.4463C18.3266 14.9933 18.2448 14.5049 18.1177 13.9108C18.0278 13.4907 17.9395 12.9942 17.8754 12.5487C17.8415 12.3127 17.8061 12.1142 17.7307 11.8899C17.2633 10.4993 16.8907 9.05476 17.37 8.45259C17.495 8.29548 17.6736 8.20606 17.9013 8.18308C17.7973 8.1234 17.6964 8.10859 17.6078 8.10323C17.3778 8.08928 17.2077 8.22909 17.1453 8.28985C16.7737 8.65135 16.661 9.30801 16.8279 10.1389C16.9067 10.5312 17.0507 11.0178 17.2032 11.5329C17.3385 11.9901 17.4785 12.4628 17.5726 12.8751C17.785 13.8058 17.8611 14.8256 17.799 15.9061C17.7918 16.0306 17.7806 16.169 17.7656 16.3175C17.722 16.7483 17.6333 17.2919 17.5675 17.6678V17.6678ZM16.6874 17.8283C16.8386 17.7701 16.9971 17.7266 17.1612 17.6997C17.26 17.2525 17.358 16.6648 17.3931 16.289C17.482 15.3391 17.4336 14.2914 17.2493 13.1749C17.1405 12.5153 16.8928 11.7934 16.6532 11.0953L16.5096 10.6743C16.3307 10.1465 16.1304 9.64688 15.8906 9.13699C15.6921 8.7163 15.5487 8.41237 15.4852 8.07413C15.36 7.40789 15.4549 6.84371 15.7455 6.52628C15.9085 6.34827 16.1276 6.25113 16.3977 6.23438C16.2511 6.14604 16.1107 6.11509 15.9713 6.13996C15.7833 6.17355 15.5848 6.31172 15.4125 6.529C14.9678 7.08968 14.9798 7.76284 15.0682 8.22883C15.1098 8.44798 15.1757 8.68875 15.2686 8.96173L15.6347 9.75625C16.0852 10.7212 16.5107 11.6326 16.7399 12.6565C16.9924 13.7848 17.0396 14.9069 16.8929 16.2949C16.848 16.7196 16.7598 17.3561 16.6874 17.8283L16.6874 17.8283ZM15.7717 16.539C15.8372 16.1557 15.9002 15.7101 15.9143 15.4507C15.9803 14.237 15.8508 12.8233 15.5679 11.669C15.1969 10.1551 14.3632 8.51186 13.337 8.25353C13.0271 8.17551 12.6264 8.13097 12.2262 8.4477C12.2643 8.21036 12.4095 8.0673 12.5419 7.9843C12.9358 7.73741 13.5822 7.78437 14.0456 8.09351C14.363 8.30532 14.7885 8.71878 14.9876 9.21106C15.0578 9.38473 15.1396 9.55492 15.2134 9.72744C15.2854 9.89595 15.3607 10.0631 15.4366 10.2275C16.0089 11.4685 16.3469 12.6734 16.4698 13.9113C16.5403 14.6217 16.5388 15.3674 16.465 16.2581C16.4542 16.389 16.4372 16.5459 16.4168 16.7161C16.1789 16.6754 15.9629 16.6162 15.7717 16.539L15.7717 16.539Z\"\n              fill=\"white\"/>\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\"\n              d=\"M10.0919 13.1638C10.1615 13.0944 10.2271 13.0438 10.2733 12.9894C10.3157 12.9393 10.3452 12.8902 10.379 12.8508C10.4373 12.7828 10.504 12.7383 10.6393 12.731C10.9004 12.7168 11.0287 12.9881 11.1641 12.9836C11.2983 13.0341 11.0436 13.0675 11.0242 13.0773C10.9371 13.1209 10.8742 13.1881 10.7914 13.2331C10.7375 13.2624 10.6776 13.2813 10.6111 13.2936C10.5174 13.311 10.4154 13.3196 10.3202 13.3174C10.2508 13.3158 10.1829 13.3044 10.1185 13.2704C10.0467 13.2325 10.0409 13.2148 10.0919 13.1638V13.1638Z\"\n              fill=\"black\"/>\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\"\n              d=\"M10.3748 13.0782C10.3451 12.9426 10.4724 12.8353 10.6055 12.8119C10.754 12.7857 10.9114 12.8593 10.8985 13.0231C10.8908 13.1208 10.7903 13.1885 10.6592 13.2037C10.5491 13.2164 10.4039 13.2108 10.3748 13.0782H10.3748Z\"\n              fill=\"white\"/>\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\"\n              d=\"M11.6237 12.4505C11.6968 12.2438 11.7713 12.0468 11.9946 11.9686C12.0903 11.9351 12.2196 11.9891 12.2715 12.0736C12.3054 12.1288 12.3379 12.1869 12.3486 12.2507C12.386 12.4723 12.3792 12.6196 12.2992 12.8433L12.288 12.8697L12.2531 12.8506L11.6408 12.4914L11.6122 12.4765L11.6237 12.4505H11.6237Z\"\n              fill=\"black\"/>\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\"\n              d=\"M11.7042 12.4431L12.2492 12.7629C12.3038 12.5563 12.3437 12.2629 12.1914 12.0927C12.1312 12.0253 12.0295 12.0187 11.9536 12.0631C11.8094 12.1474 11.7563 12.295 11.7042 12.4431V12.4431Z\"\n              fill=\"white\"/>\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\"\n              d=\"M11.2305 14.8887L11.2665 14.8467C11.5148 14.9158 11.944 14.9272 12.2167 14.7619C12.5643 14.5511 12.5914 14.1382 12.6513 13.7756C12.7218 14.1198 12.6797 14.5026 12.4246 14.7357C12.0996 15.029 11.6224 15.0283 11.2305 14.8887L11.2305 14.8887Z\"\n              fill=\"black\"/>\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\"\n              d=\"M9.12834 14.471C9.09501 14.538 9.07747 14.6213 9.08738 14.7002C8.95031 14.6297 8.88513 14.5121 8.86908 14.4131C8.90212 14.4286 8.9362 14.4408 8.97049 14.449C9.17713 14.4987 9.36333 14.2516 9.56513 14.261C9.49897 14.3003 9.48987 14.4167 9.49625 14.4925C9.44569 14.4835 9.3712 14.4445 9.31871 14.4027C9.30255 14.4528 9.29874 14.5078 9.30618 14.5785C9.23894 14.5749 9.17431 14.5279 9.12834 14.471H9.12834ZM9.24757 14.8699C9.16782 14.8455 9.05725 14.7745 9.02426 14.7162C9.01044 14.8029 9.0099 14.9166 9.06074 15.0003H9.0608C9.05485 14.9438 9.10221 14.8972 9.24757 14.8699V14.8699Z\"\n              fill=\"black\"/>\n        <path\n            d=\"M17.5554 22.6413C18.9661 22.6413 20.1097 21.4977 20.1097 20.0871C20.1097 18.6764 18.9661 17.5328 17.5554 17.5328C16.1447 17.5328 15.0011 18.6764 15.0011 20.0871C15.0011 21.4977 16.1447 22.6413 17.5554 22.6413Z\"\n            fill=\"black\"/>\n        <path\n            d=\"M17.5553 21.9887C18.6056 21.9887 19.4571 21.1373 19.4571 20.087C19.4571 19.0367 18.6056 18.1853 17.5553 18.1853C16.5051 18.1853 15.6536 19.0367 15.6536 20.087C15.6536 21.1373 16.5051 21.9887 17.5553 21.9887Z\"\n            fill=\"black\"/>\n        <path\n            d=\"M17.5553 21.8921C18.5523 21.8921 19.3604 21.0839 19.3604 20.087C19.3604 19.09 18.5523 18.2819 17.5553 18.2819C16.5584 18.2819 15.7502 19.09 15.7502 20.087C15.7502 21.0839 16.5584 21.8921 17.5553 21.8921Z\"\n            fill=\"white\"/>\n        <path\n            d=\"M17.5554 21.729C18.4622 21.729 19.1973 20.9939 19.1973 20.0871C19.1973 19.1803 18.4622 18.4452 17.5554 18.4452C16.6486 18.4452 15.9135 19.1803 15.9135 20.0871C15.9135 20.9939 16.6486 21.729 17.5554 21.729Z\"\n            fill=\"black\"/>\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\"\n              d=\"M18.0155 18.9759C18.1954 18.7976 18.4858 18.798 18.6651 18.9773C18.8443 19.1565 18.8448 19.447 18.6664 19.6268C18.9197 19.6278 19.1248 19.8335 19.1248 20.087C19.1248 20.3405 18.9197 20.5462 18.6664 20.5472C18.8448 20.7271 18.8443 21.0175 18.6651 21.1968C18.4858 21.376 18.1954 21.3765 18.0155 21.1981C18.0145 21.4514 17.8088 21.6564 17.5553 21.6564C17.3018 21.6564 17.0961 21.4514 17.0951 21.1981C16.9153 21.3765 16.6248 21.376 16.4456 21.1968C16.2663 21.0175 16.2659 20.7271 16.4442 20.5472C16.191 20.5462 15.9859 20.3405 15.9859 20.087C15.9859 19.8335 16.191 19.6278 16.4442 19.6268C16.2659 19.447 16.2663 19.1565 16.4456 18.9773C16.6248 18.798 16.9153 18.7976 17.0951 18.9759C17.0961 18.7227 17.3018 18.5176 17.5553 18.5176C17.8088 18.5176 18.0145 18.7227 18.0155 18.9759Z\"\n              fill=\"black\"/>\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\"\n              d=\"M17.1268 21.0265L17.4884 20.1541L16.6244 20.5122C16.5784 20.531 16.5347 20.5594 16.4969 20.5972C16.3454 20.7487 16.3454 20.9942 16.4969 21.1456C16.6483 21.2971 16.8938 21.2971 17.0453 21.1456C17.0807 21.1102 17.1079 21.0695 17.1268 21.0265L17.1268 21.0265ZM18.4947 19.6586L17.6223 20.0202L17.9804 19.1562C17.9992 19.1102 18.0276 19.0665 18.0655 19.0286C18.2169 18.8772 18.4624 18.8772 18.6139 19.0286C18.7653 19.1801 18.7653 19.4256 18.6139 19.577C18.5784 19.6125 18.5377 19.6397 18.4947 19.6586L18.4947 19.6586ZM18.5226 19.726L17.6501 20.0871L18.5142 20.4449C18.56 20.4641 18.611 20.4749 18.6645 20.4749C18.8787 20.4749 19.0523 20.3013 19.0523 20.0872C19.0523 19.873 18.8787 19.6994 18.6645 19.6994C18.6143 19.6994 18.5664 19.7089 18.5226 19.726H18.5226ZM16.5881 19.726L17.4607 20.0871L16.5966 20.4449C16.5507 20.4641 16.4997 20.4749 16.4462 20.4749C16.2321 20.4749 16.0584 20.3013 16.0584 20.0872C16.0584 19.873 16.2321 19.6994 16.4462 19.6994C16.4964 19.6994 16.5443 19.7089 16.5881 19.726H16.5881ZM18.4947 20.5157L17.6223 20.1541L17.9804 21.0181C17.9992 21.0641 18.0276 21.1078 18.0655 21.1456C18.2169 21.2971 18.4624 21.2971 18.6139 21.1456C18.7653 20.9943 18.7653 20.7487 18.6139 20.5972C18.5784 20.5618 18.5377 20.5346 18.4947 20.5157L18.4947 20.5157ZM17.1268 19.1478L17.4884 20.0202L16.6244 19.6621C16.5784 19.6433 16.5347 19.6149 16.4969 19.577C16.3454 19.4256 16.3454 19.1801 16.4969 19.0286C16.6483 18.8772 16.8938 18.8772 17.0453 19.0286C17.0807 19.0641 17.1079 19.1048 17.1268 19.1478V19.1478ZM17.9166 21.0544L17.5554 20.1818L17.1976 21.046C17.1785 21.0918 17.1676 21.1428 17.1676 21.1963C17.1676 21.4105 17.3412 21.5841 17.5554 21.5841C17.7695 21.5841 17.9432 21.4105 17.9432 21.1963C17.9432 21.1461 17.9336 21.0982 17.9166 21.0544L17.9166 21.0544ZM17.9166 19.1199L17.5554 19.9925L17.1976 19.1283C17.1785 19.0825 17.1676 19.0315 17.1676 18.978C17.1676 18.7639 17.3412 18.5902 17.5554 18.5902C17.7695 18.5902 17.9432 18.7639 17.9432 18.978C17.9432 19.0282 17.9336 19.0761 17.9166 19.1199L17.9166 19.1199Z\"\n              fill=\"white\"/>\n        <path\n            d=\"M17.5554 20.4528C17.7573 20.4528 17.921 20.2891 17.921 20.0872C17.921 19.8853 17.7573 19.7216 17.5554 19.7216C17.3535 19.7216 17.1898 19.8853 17.1898 20.0872C17.1898 20.2891 17.3535 20.4528 17.5554 20.4528Z\"\n            fill=\"black\"/>\n        <path\n            d=\"M17.6676 20.3579C17.8171 20.2959 17.8881 20.1245 17.8262 19.9749C17.7642 19.8253 17.5928 19.7543 17.4432 19.8162C17.2936 19.8782 17.2226 20.0497 17.2846 20.1992C17.3465 20.3488 17.518 20.4198 17.6676 20.3579Z\"\n            fill=\"white\"/>\n        <defs>\n            <linearGradient id=\"paint3_linear\" x1=\"36\" y1=\"36\" x2=\"0\" y2=\"0\" gradientUnits=\"userSpaceOnUse\">\n                <stop stopColor=\"#FF0000\"/>\n                <stop offset=\"1\" stopColor=\"#FF0000\" stopOpacity=\"0.41\"/>\n            </linearGradient>\n        </defs>\n    </svg>\n);\n\nexport default EdutatarIcon;","import {Div, Panel, Button} from '@vkontakte/vkui';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/choose_diary.css\"\n\nimport MosRuIcon from \"../custom_components/icon-pack/MosRuIcon\"\nimport MosregIcon from \"../custom_components/icon-pack/MosregIcon\"\nimport NetschoolIcon from \"../custom_components/icon-pack/NetschoolIcon\"\nimport EdutatarIcon from \"../custom_components/icon-pack/EdutatarIcon\"\n\nclass ChooseDiary extends React.Component {\n    constructor(props) {\n        super(props);\n        this.d = \"\";\n\n        this.startVkAuth();\n    }\n\n    startVkAuth = () => {\n        let vk_info = window.location.search.slice(1).split('&')\n            .map((queryParam) => {\n                let kvp = queryParam.split('=');\n                return {key: kvp[0], value: kvp[1]}\n            })\n            .reduce((query, kvp) => {\n                query[kvp.key] = decodeURIComponent(kvp.value);\n                return query\n            }, {});\n        // vk_info = {\n        //     sign: \"06DakpJLGnTxBx3vhdVYuahPhTcnKeZEgMuAtAOqVms\",\n        //     vk_access_token_settings: \"\",\n        //     vk_app_id: \"6967676\",\n        //     vk_are_notifications_enabled: \"0\",\n        //     vk_group_id: \"171343913\",\n        //     vk_is_app_user: \"1\",\n        //     vk_language: \"ru\",\n        //     vk_platform: \"desktop_web\",\n        //     vk_ref: \"other\",\n        //     vk_user_id: \"143305590\",\n        //     vk_viewer_group_role: \"admin\",\n        // };\n\n        this.props.vkAuth(vk_info)\n    };\n\n    choose = (diary) => {\n        this.props.setPanel(\"auth\");\n        this.props.setDiary(diary)\n    };\n\n    render() {\n        return (\n            <Panel id={this.props.id}>\n                <Div className=\"chooseDiaryScreen\">\n                    <div className=\"chooseDiaryScreenTitle\">\n                        Выберите ваш дневник\n                    </div>\n                    <div className=\"chooseDiaryScreenDiaryDiaries\">\n                        <Button level=\"tertiary\" className=\"chooseDiaryScreenDiaryContainer\"\n                                onClick={() => {\n                                    this.d = \"mosru\";\n                                    this.choose(this.d);\n                                }}>\n                            <div className=\"chooseDiaryScreenDiaryContainerIcon\"\n                            >\n                                <MosRuIcon/>\n                            </div>\n                            <div className=\"chooseDiaryScreenDiaryContainerTitle\">Дневник МЭШ (mos.ru)</div>\n                            <div className=\"chooseDiaryScreenDiaryContainerChecker\">\n                            </div>\n                        </Button>\n                        {/*<Button level=\"tertiary\" className=\"chooseDiaryScreenDiaryContainer\"*/}\n                        {/*        onClick={() => {*/}\n                        {/*            this.d = \"mosregru\";*/}\n                        {/*            this.choose(this.d);*/}\n                        {/*        }}>*/}\n                        {/*    <div className=\"chooseDiaryScreenDiaryContainerIcon\"*/}\n                        {/*    >*/}\n                        {/*        <MosregIcon/>*/}\n                        {/*    </div>*/}\n                        {/*    <div className=\"chooseDiaryScreenDiaryContainerTitle\">Школьный портал МО</div>*/}\n                        {/*    <div className=\"chooseDiaryScreenDiaryContainerChecker\">*/}\n                        {/*    </div>*/}\n                        {/*</Button>*/}\n                        <Button level=\"tertiary\" className=\"chooseDiaryScreenDiaryContainer\"\n                                onClick={() => {\n                                    this.d = \"netschool\";\n                                    this.choose(this.d);\n                                }}>\n                            <div className=\"chooseDiaryScreenDiaryContainerIcon\">\n                                <NetschoolIcon/>\n                            </div>\n                            <div className=\"chooseDiaryScreenDiaryContainerTitle\">Сетевой Город</div>\n                            <div className=\"chooseDiaryScreenDiaryContainerChecker\">\n                            </div>\n                        </Button>\n                        <Button level=\"tertiary\" className=\"chooseDiaryScreenDiaryContainer\"\n                                onClick={() => {\n                                    this.d = \"edutatar\";\n                                    this.choose(this.d);\n                                }}>\n                            <div className=\"chooseDiaryScreenDiaryContainerIcon\">\n                                <EdutatarIcon/>\n                            </div>\n                            <div className=\"chooseDiaryScreenDiaryContainerTitle\">EDU Tatar</div>\n                            <div className=\"chooseDiaryScreenDiaryContainerChecker\">\n                            </div>\n                        </Button>\n                    </div>\n                </Div>\n            </Panel>\n        )\n    }\n\n}\n\nChooseDiary.propTypes = {\n    id: PropTypes.string.isRequired,\n    setPanel: PropTypes.func.isRequired,\n    setDiary: PropTypes.func.isRequired,\n    vkAuth: PropTypes.func.isRequired,\n};\n\nexport default ChooseDiary;","import {Div, Panel, Button} from '@vkontakte/vkui';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/choose_student.css\"\n\nconst axios = require('axios');\n\nclass ChooseStudent extends React.Component {\n    constructor(props) {\n        super(props);\n        this.d = \"\";\n\n        this.students = [];\n        this.drawStudents();\n    }\n\n    choose = (student) => {\n        axios.get(`https://bklet.ml/api/profile/info/?id=${this.props.profile.id}&secret=${this.props.profile.secret}&student_id=${student.id}`)\n            .then(resp => {\n                console.log(\"exp\", resp.data.data.exp);\n                this.props.setExp(resp.data.data.exp)\n            })\n            .catch(err => console.log(\"exp\", err));\n        this.props.setStudent(student);\n        try {\n            this.props.setView(\"MainView\");\n            this.props.setPanel(\"schedule\");\n        } catch (e) {\n            this.props.setPanel(\"account\");\n        }\n    };\n\n    drawStudents = () => {\n        this.props.profile.students.forEach(student => {\n            this.students.push(\n                <Button level=\"tertiary\" className=\"chooseStudentScreenStudentContainer\"\n                        onClick={() => {\n                            this.d = student;\n                            this.choose(this.d)\n                        }}>\n                    <div className=\"chooseStudentScreenStudentName\">\n                        {student.name}\n                    </div>\n                    <div className=\"chooseStudentScreenStudentGrade\">\n                        {student.class} класс\n                    </div>\n                </Button>\n            )\n        });\n    };\n\n    render() {\n        return (\n            <Panel id={this.props.id}>\n                <Div className=\"chooseStudentScreen\">\n                    <div className=\"chooseStudentTitle\">\n                        Выберите ученика\n                    </div>\n                    <div className=\"chooseStudentScreenStudents\">\n                        {this.students}\n                    </div>\n                </Div>\n            </Panel>\n        )\n    }\n\n}\n\nChooseStudent.propTypes = {\n    id: PropTypes.string.isRequired,\n    profile: PropTypes.any.isRequired,\n    setStudent: PropTypes.func.isRequired,\n    setView: PropTypes.func,\n    setPanel: PropTypes.func.isRequired,\n    setExp: PropTypes.func.isRequired,\n};\n\nexport default ChooseStudent;","import {Div, Panel, PanelHeader, Search, List, CellButton} from '@vkontakte/vkui';\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/choose_school.css\"\n\nclass ChooseSchool extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            search: \"\"\n        };\n\n    }\n\n    btnBack = () => {\n        this.props.setPanel(\"auth\")\n    };\n\n    get school() {\n        const search = this.state.search.toLowerCase();\n        return this.props.schools.filter(({name}) => name.toLowerCase().indexOf(search) > -1);\n    }\n\n    render() {\n        return (\n            <Panel id={this.props.id}>\n                <PanelHeader\n                    left={\n                        <PanelHeaderBack onClick={this.btnBack}/>\n                    }\n                    noShadow={true}\n                >\n                    Найдите школу\n                </PanelHeader>\n                <Search\n                    className=\"chooseSchoolSearchContainer\"\n                    value={this.state.search}\n                    onChange={val => this.setState({search: val})}\n                />\n                <List>\n                    {\n                        this.school.map(school =>\n                            <CellButton className=\"chooseSchoolButton\"\n                                        key={school.id}\n                                        onClick={() => {\n                                            let find = [school.id, school.name];\n                                            console.log([school.id, school.name]);\n                                            this.props.chooser(find);\n                                            this.props.setPanel(\"auth\");\n                                        }}\n                            >\n                                {school.name}\n                            </CellButton>)\n                    }\n                </List>\n            </Panel>\n        )\n    }\n\n}\n\nChooseSchool.propTypes = {\n    id: PropTypes.string.isRequired,\n    setPanel: PropTypes.func.isRequired,\n    schools: PropTypes.array.isRequired,\n    chooser: PropTypes.func.isRequired,\n};\n\nexport default ChooseSchool;","export function scheduleGetDates() {\n    let today = new Date();\n    let dayOfWeek = today.getDay();\n    let monday = null;\n\n    if (dayOfWeek > 0) {\n        let shift = dayOfWeek - 1;\n        monday = new Date(today.getFullYear(), today.getMonth(), today.getDate() - shift)\n    } else\n        monday = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 1);\n\n    let dates = [];\n\n    for (let i = 0; i < 7; i++) {\n        let date = new Date(monday.getFullYear(), monday.getMonth(), monday.getDate() + i);\n\n        dates.push(date.getDate());\n    }\n\n    dates.push(monday);\n    dates.push(new Date(monday.getFullYear(), monday.getMonth(), monday.getDate() + 6));\n\n    return dates;\n}\n\nexport function schedulePrevWeek(currentStart) {\n    let newStart = new Date(currentStart.getFullYear(), currentStart.getMonth(), currentStart.getDate() - 7);\n    let newEnd = new Date(currentStart.getFullYear(), currentStart.getMonth(), currentStart.getDate() - 1);\n    let resArr = [];\n\n    for (let i = 0; i < 7; i++) {\n        let date = new Date(newStart.getFullYear(), newStart.getMonth(), newStart.getDate() + i);\n        resArr.push(date.getDate())\n    }\n    resArr.push(newStart);\n    resArr.push(newEnd);\n\n    return resArr;\n}\n\nexport function scheduleNextWeek(currentStart) {\n    let newStart = new Date(currentStart.getFullYear(), currentStart.getMonth(), currentStart.getDate() + 7);\n    let newEnd = new Date(newStart.getFullYear(), newStart.getMonth(), newStart.getDate() + 6);\n    let resArr = [];\n\n    for (let i = 0; i < 7; i++) {\n        let date = new Date(newStart.getFullYear(), newStart.getMonth(), newStart.getDate() + i);\n        resArr.push(date.getDate())\n    }\n    resArr.push(newStart);\n    resArr.push(newEnd);\n\n    return resArr;\n}\n\nexport function setCorrectYear(str) {\n    let correctYear = str.slice(8);\n    str = str.slice(0, 6);\n    str = str + correctYear;\n    return str;\n}\n\nexport function getRusMonthName(monthNum) {\n    switch (monthNum) {\n        case 0:\n            return \"Январь\";\n        case 1:\n            return \"Февраль\";\n        case 2:\n            return \"Март\";\n        case 3:\n            return \"Апрель\";\n        case 4:\n            return \"Май\";\n        case 5:\n            return \"Июнь\";\n        case 6:\n            return \"Июль\";\n        case 7:\n            return \"Август\";\n        case 8:\n            return \"Сентябрь\";\n        case 9:\n            return \"Октябрь\";\n        case 10:\n            return \"Ноябрь\";\n        case 11:\n            return \"Декабрь\";\n\n    }\n}\n\nexport function getStartDateForLastMarks(dueDate) {\n    let startDate = new Date(dueDate.getFullYear(), dueDate.getMonth(), dueDate.getDate() - 7);\n    return startDate;\n}\n\n\nexport function turnIntoDate(string) {\n    let dateParams = string.split('.');\n    let date = new Date(dateParams[0] - 0, dateParams[1] - 1, dateParams[2] - 0);\n\n    return date;\n}\n\nexport function reverseRuslanString(string) {\n    let str = string.substr(5);\n    str = str.substr(3) + '.' + str.substr(0, 2);\n\n    return str;\n}\n\nexport function getVkParams() {\n    let params = window.location.search.slice(1).split('&')\n        .map((queryParam) => {\n            let kvp = queryParam.split('=');\n            return {key: kvp[0], value: kvp[1]}\n        })\n        .reduce((query, kvp) => {\n            query[kvp.key] = decodeURIComponent(kvp.value);\n            return query\n        }, {});\n\n    let json = {\n        sign: \"06DakpJLGnTxBx3vhdVYuahPhTcnKeZEgMuAtAOqVms\",\n        vk_access_token_settings: \"\",\n        vk_app_id: \"6967676\",\n        vk_are_notifications_enabled: \"0\",\n        vk_group_id: \"171343913\",\n        vk_is_app_user: \"1\",\n        vk_language: \"ru\",\n        vk_platform: \"desktop_web\",\n        vk_ref: \"other\",\n        vk_user_id: \"143305590\",\n        vk_viewer_group_role: \"admin\",\n    };\n\n    return json;\n}\n\nexport function isBirthday(strDate) {\n    let tokens = strDate.split(\"-\");\n    let birthDate = new Date(tokens[0], tokens[1] - 1, tokens[2]);\n    let today = new Date();\n    return (today.getMonth() === birthDate.getMonth() && today.getDate() === birthDate.getDate());\n}\n\n// json = {\n//     sign: \"06DakpJLGnTxBx3vhdVYuahPhTcnKeZEgMuAtAOqVms\",\n//     vk_access_token_settings: \"\",\n//     vk_app_id: \"6967676\",\n//     vk_are_notifications_enabled: \"0\",\n//     vk_group_id: \"171343913\",\n//     vk_is_app_user: \"1\",\n//     vk_language: \"ru\",\n//     vk_platform: \"desktop_web\",\n//     vk_ref: \"other\",\n//     vk_user_id: \"143305590\",\n//     vk_viewer_group_role: \"admin\",\n// };","import connect from '@vkontakte/vk-connect-promise';\nimport {getVkParams} from \"../../utils/utils\"\nimport {async} from \"q\";\n\nconst axios = require('axios');\nlet baseUrl = \"https://bklet.ml/\";\n\nexport function vkAuth(vk_params) {\n    let methodUrl = \"api/auth/bind_account/vk/\";\n    let url = baseUrl + methodUrl + \"?\";\n    for (let key in vk_params) {\n        url += `${key}=${vk_params[key]}&`\n    }\n\n    return dispatch => {\n        axios.get(url)\n            .then(resp => {\n                if (resp.data.status) {\n                    let students = [];\n                    resp.data.students.list.forEach(e => {\n                        students.push(e);\n                    });\n                    dispatch({\n                        type: \"DO_VK_AUTHORIZATION_SUCCESS\",\n                        data: {\n                            id: resp.data.id,\n                            secret: resp.data.secret,\n                            students: students,\n                            student: (students.length === 1 ? students[0] : null),\n                        },\n                    });\n                }\n            })\n            .catch(err => {\n                dispatch({\n                    type: \"DO_VK_AUTHORIZATION_FAIL\",\n                });\n            });\n    }\n}\n\nexport function doAuthorize(login, password, diary, region, province, city, school) {\n    return dispatch => {\n        dispatch({\n            type: \"DO_AUTHORIZATION_REQUEST\",\n            data: {\n                id: null,\n                secret: null,\n                students: [],\n                student: null,\n            },\n        });\n\n        auth(login, password, diary, dispatch, region, province, city, school)\n    }\n}\n\nfunction auth(login, password, diary, dispatcher, region, province, city, school) {\n    let methodUrl = \"api/auth/\";\n    let ua = navigator.userAgent.toLowerCase();\n    let json = {\n        diary: diary,\n        login: login,\n        password: password,\n        region: region,\n        province: province,\n        city: city,\n        school: school,\n\n        device_type: (ua.search('ios') > 0\n            ? 'ios'\n            : (ua.search('android') > 0\n                ? 'android'\n                : 'pc')),\n    };\n\n    axios.post(baseUrl + methodUrl, json)\n        .then((response) => {\n            let students = [];\n            if (response.data.status) {\n                bind_user(response.data.id, response.data.secret);\n                response.data.students.list.forEach(e => {\n                    students.push(e);\n                });\n                let localData = {\n                    id: response.data.id,\n                    secret: response.data.secret,\n                    students: students,\n                    diary: diary,\n                    student: (students.length === 1 ? students[0] : null),\n                    // student: null,\n                };\n                localStorage.setItem(\"userData\", JSON.stringify(localData));\n                connect.send(\"VKWebAppStorageSet\", {\n                    \"key\": \"userData\",\n                    \"value\": JSON.stringify(localData),\n                })\n                    .then(res => console.log(\"VK Storage Set Success\", res))\n                    .catch(err => {\n                        console.log(\"VK Storage Set Fail\", err);\n                        localStorage.setItem(\"userData\", JSON.stringify(localData));\n                    });\n                window.ga('diaryTracker.set', {\n                    diary: diary\n                });\n                window.ga('diaryTracker.send', {\n                    hitType: 'event',\n                    eventCategory: 'Sign in',\n                    eventAction: 'click',\n                    eventLabel: diary\n                });\n                dispatcher({\n                    type: \"DO_AUTHORIZATION_SUCCESS\",\n                    data: {\n                        id: response.data.id,\n                        secret: response.data.secret,\n                        students: students,\n                        student: (students.length === 1 ? students[0] : null),\n                        // student: null,\n                    },\n                });\n                if (localData.student) {\n                    axios.get(`https://bklet.ml/api/profile/info/?id=${response.data.id}&secret=${response.data.secret}&student_id=${localData.student.id}`)\n                        .then(resp => {\n                            console.log(\"exp\", resp.data.data.exp);\n                            dispatcher({\n                                type: \"SET_EXPERIENCE\",\n                                data: resp.data.data.exp,\n                            });\n                        })\n                        .catch(err => console.log(\"exp\", err));\n                }\n            } else {\n                dispatcher({\n                    type: \"DO_AUTHORIZATION_FAIL\",\n                    data: response.data.message,\n                })\n            }\n        })\n        .catch(error => {\n            dispatcher({\n                type: \"DO_AUTHORIZATION_FAIL\",\n                data: error\n            })\n        });\n}\n\nexport function setDiary(diary) {\n    return {\n        type: \"SET_DIARY\",\n        data: diary,\n    }\n}\n\nexport function setStudent(student) {\n    return {\n        type: \"SET_STUDENT\",\n        data: student,\n    }\n}\n\nexport function setExp(exp) {\n    return {\n        type: \"SET_EXPERIENCE\",\n        data: exp,\n    }\n}\n\nasync function bind_user(id, secret) {\n    let methodUrl = \"api/auth/bind_account/vk/\";\n    let json = getVkParams();\n    json.id = id;\n    json.secret = secret;\n    console.log(\"bind data\", json);\n\n    let intervalId;\n\n    var timeoutID = setTimeout(() => {\n        clearInterval(intervalId);\n    }, 10000);\n    intervalId = setInterval(() => {\n        axios.post(baseUrl + methodUrl, json)\n            .then(response => {\n                clearTimeout(timeoutID);\n                clearInterval(intervalId);\n                console.log(\"bind result\", response)\n            })\n            .catch(err => {\n                console.log(\"bind fail\", err)\n            });\n    }, 1000);\n}\n\nexport async function unbind_user(id, secret) {\n    let vk_id = getVkParams().vk_user_id;\n    let methodUrl = `api/auth/bind_account/vk/logout/`;\n    let json = {\n        id: id,\n        secret: secret,\n        vk_user_id: vk_id - 0,\n    };\n\n    axios.post(baseUrl + methodUrl, json)\n        .then(resp => console.log(resp))\n        .catch(err => console.log(err))\n}\n\nexport function clearProfile() {\n    return {\n        type: \"CLEAR_PROFILE\",\n    }\n}","export function setPanel(panel) {\n    return {\n        type: \"SET_PANEL\",\n        value: panel\n    }\n}","export function setView(view) {\n    console.log(view);\n    return {\n        type: \"SET_VIEW\",\n        value: view\n    }\n}","import React from 'react';\nimport {View, ScreenSpinner, Alert, ModalRoot, ModalCard} from '@vkontakte/vkui';\nimport Auth from '../panels/auth'\nimport ChooseDiary from '../panels/choose_diary'\nimport ChooseStudent from '../panels/choose_student'\nimport ChooseSchool from '../panels/choose_school'\nimport \"./styles/Authorization.css\"\nimport {connect} from 'react-redux'\nimport {doAuthorize, setDiary, setExp, setStudent, vkAuth} from \"../redux/actions/ProfileAction\";\nimport {setPanel} from \"../redux/actions/PanelAction\";\nimport {setView} from \"../redux/actions/ViewAction\";\n\nlet choose_schools_data = [];\n\nclass AuthorizationView extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            popout: null,\n            activeModal: null,\n            modalHistory: [],\n        };\n\n    }\n\n    setActiveModal(activeModal) {\n        activeModal = activeModal || null;\n        let modalHistory = this.state.modalHistory ? [...this.state.modalHistory] : [];\n\n        if (activeModal === null) {\n            modalHistory = [];\n        } else if (modalHistory.indexOf(activeModal) !== -1) {\n            modalHistory = modalHistory.splice(0, modalHistory.indexOf(activeModal) + 1);\n        } else {\n            modalHistory.push(activeModal);\n        }\n\n        this.setState({\n            activeModal,\n            modalHistory\n        });\n    };\n\n    openModal = () => {\n        this.setActiveModal(\"authThroughVk\");\n    };\n\n    viewScreenSpinner = async (switcher) => {\n        this.setState({popout: (switcher ? <ScreenSpinner/> : null)});\n    };\n\n    callIncorrect = () => {\n        this.setState({\n            popout:\n                <Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'ОК',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.setState({popout: null})}\n                >\n                    <h2>Ошибка авторизации</h2>\n                    <p>Неправильный логин или пароль</p>\n                </Alert>\n        })\n    };\n    callError = (message) => {\n        this.setState({\n            popout:\n                <Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'ОК',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.setState({popout: null})}\n                >\n                    <h2>Ошибка авторизации</h2>\n                    <p>{message}</p>\n                </Alert>\n        })\n    };\n    callUnsupported = () => {\n        this.setState({\n            popout:\n                <Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'ОК',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.setState({popout: null})}\n                >\n                    <h2>Ошибка авторизации</h2>\n                    <p>Опс, войти не получилось. Вполне возможно, что ваша школа ещё не поддерживается нашим дневником.\n                        К сожалению вам приёдтся подождать, пока мы не добавим вашу школу. Об обновлениях поддержки\n                        мы обязательно напишем в нашей группе в ВК.</p>\n                </Alert>\n        })\n    };\n\n    render() {\n        const modal =\n            <ModalRoot activeModal={this.state.activeModal}>\n                <ModalCard\n                    id=\"authThroughVk\"\n                    onClose={() => this.setActiveModal(null)}\n                    // icon={<Icon56MoneyTransferOutline/>}\n                    title=\"Мы уже знакомы!\"\n                    caption=\"Вы можете войти в дневник не вводя данные.\"\n                    actions={[{\n                        title: 'Войти',\n                        type: 'primary',\n                        action: () => {\n                            if (this.props.profile.student === null) {\n                                this.props.setPanelAction(\"choose_student\");\n                            } else {\n                                this.props.setViewAction(\"MainView\", \"schedule\");\n                            }\n                            let locData = localStorage.getItem(\"userData\")\n                                ? JSON.parse(localStorage.getItem(\"userData\"))\n                                : {};\n                            locData = {\n                                ...locData,\n                                id: this.props.profile.id,\n                                secret: this.props.profile.secret,\n                                diary: this.props.profile.diary,\n                                students: this.props.profile.students,\n                                student: this.props.profile.student,\n                            };\n                            localStorage.setItem(\"userData\", JSON.stringify(locData));\n                            this.setActiveModal(null);\n                        }\n                    }]}\n                >\n                </ModalCard>\n            </ModalRoot>;\n\n        return (\n            <View popout={this.state.popout}\n                  modal={modal}\n                  activePanel={this.props.activePanel === \"settings\" ? \"choose_diary\" : this.props.activePanel}>\n                <ChooseDiary id=\"choose_diary\"\n                             setDiary={this.props.setDiaryAction}\n                             setPanel={this.props.setPanelAction}\n                             vkAuth={this.props.doVkAuth}\n                />\n                <Auth id=\"auth\"\n                      fetchedUser={this.props.fetchedUser}\n                      setSpinner={this.viewScreenSpinner}\n                      setPanel={this.props.setPanelAction}\n                      setView={this.props.setViewAction}\n                      profile={this.props.profile}\n                      getProfile={this.props.getProfileAction}\n                      openError={this.callError}\n                      openIncorrect={this.callIncorrect}\n                      openUnsupported={this.callUnsupported}\n                      openModal={this.openModal}\n                      stateData={choose_schools_data}\n                />\n                <ChooseSchool id=\"choose_school\"\n                              setPanel={this.props.setPanelAction}\n                              schools={choose_schools_data[0]}\n                              chooser={choose_school}\n                />\n                <ChooseStudent id=\"choose_student\"\n                               profile={this.props.profile}\n                               setStudent={this.props.setStudentAction}\n                               setView={this.props.setViewAction}\n                               setPanel={this.props.setPanelAction}\n                               setExp={this.props.setExpAction}\n                />\n            </View>\n        )\n    }\n}\n\nlet choose_school = (school) => {\n    choose_schools_data.push(school)\n};\n\n\nconst mapStateToProps = store => {\n    // console.log(\"Auth View\", store);\n    return {\n        activePanel: store.activePanel,\n        diary: store.diary,\n        fetchedUser: store.fetchedUser,\n        profile: store.profile,\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setDiaryAction: diary => dispatch(setDiary(diary)),\n        getProfileAction: (login, password, diary, region, province, city, school) => {\n            dispatch(doAuthorize(login, password, diary, region, province, city, school));\n        },\n        setPanelAction: (panel, kwarg) => {\n            if (kwarg)\n                choose_schools_data = kwarg;\n            dispatch(setPanel(panel))\n        },\n        setViewAction: view => dispatch(setView(view)),\n        setStudentAction: student => dispatch(setStudent(student)),\n        setExpAction: exp => dispatch(setExp(exp)),\n        doVkAuth: params => dispatch(vkAuth(params)),\n    }\n};\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(AuthorizationView);","import React from 'react';\nimport PropTypes from \"prop-types\";\n\nvar default_stroke_color = \"#A8ADAF\";\nvar active_stroke_color = \"#5690FF\";\n\nconst AccountIcon = props => (\n    <svg width={props.size} height={props.size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M20 21H4C4 21 4 15 11.7419 15C19.4839 15 20 21 20 21Z\" stroke={props.selected ? active_stroke_color : default_stroke_color} stroke-width=\"1.5\"/>\n        <circle cx=\"12\" cy=\"8\" r=\"4.25\" stroke={props.selected ? active_stroke_color : default_stroke_color} stroke-width=\"1.5\"/>\n    </svg>\n\n);\n\nAccountIcon.propTypes = {\n    size: PropTypes.string.isRequired,\n    selected: PropTypes.bool.isRequired,\n    stroke_color: PropTypes.string,\n};\n\nexport default AccountIcon;","import React from 'react';\nimport PropTypes from \"prop-types\";\n\nvar default_stroke_color = \"#A8ADAF\";\nvar active_stroke_color = \"#5690FF\";\n\nconst MarksIcon = props => (\n    <svg width={props.size} height={props.size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\"\n              d=\"M12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 16.6944 7.30558 20.5 12 20.5C16.6944 20.5 20.5 16.6944 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12Z\"\n              fill={props.selected ? active_stroke_color : default_stroke_color}/>\n        <path d=\"M9 16.5C9 16.5 14.5 18 14.5 14.5C14.5 11 10 12 10 12V8H14.5\"\n              stroke={props.selected ? active_stroke_color : default_stroke_color} strokeWidth=\"1.5\"/>\n    </svg>\n\n);\n\nMarksIcon.propTypes = {\n    size: PropTypes.string.isRequired,\n    selected: PropTypes.bool.isRequired,\n    stroke_color: PropTypes.string,\n};\n\nexport default MarksIcon;","import React from 'react';\nimport PropTypes from \"prop-types\";\n\nvar default_stroke_color = \"#A8ADAF\";\nvar active_stroke_color = \"#5690FF\";\n\nconst ScheduleIcon = props => (\n    <svg width={props.size} height={props.size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M4.75 6C4.75 4.20507 6.20507 2.75 8 2.75H16C17.7949 2.75 19.25 4.20507 19.25 6V21.25H4.75V6Z\"\n              stroke={props.selected ? active_stroke_color : default_stroke_color} strokeWidth=\"1.5\"/>\n        <rect x=\"7\" y=\"6\" width=\"10\" height=\"1.5\" fill={props.selected ? active_stroke_color : default_stroke_color}/>\n        <rect x=\"7\" y=\"11\" width=\"10\" height=\"1.5\" fill={props.selected ? active_stroke_color : default_stroke_color}/>\n        <rect x=\"7\" y=\"16\" width=\"10\" height=\"1.5\" fill={props.selected ? active_stroke_color : default_stroke_color}/>\n    </svg>\n\n\n);\n\nScheduleIcon.propTypes = {\n    size: PropTypes.string.isRequired,\n    selected: PropTypes.bool.isRequired,\n    stroke_color: PropTypes.string,\n};\n\nexport default ScheduleIcon;","import React from 'react';\nimport PropTypes from \"prop-types\";\n\nvar default_stroke_color = \"#A8ADAF\";\nvar active_stroke_color = \"#5690FF\";\n\nconst SettingsIcon = props => (\n    <svg width={props.size} height={props.size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M12.0051 15.86C9.88505 15.86 8.14504 14.14 8.14504 12C8.14504 9.88003 9.86505 8.14002 12.0051 8.14002C14.1251 8.14002 15.8651 9.86003 15.8651 12C15.8651 14.12 14.1251 15.86 12.0051 15.86ZM12.0051 9.56004C10.6651 9.56004 9.56506 10.66 9.56506 12C9.56506 13.34 10.6651 14.44 12.0051 14.44C13.3451 14.44 14.445 13.34 14.445 12C14.445 10.66 13.3451 9.56004 12.0051 9.56004ZM12.0051 21.2H11.9051C11.2051 21.2 10.6051 21.12 10.5651 21.12C10.2451 21.08 10.005 20.84 9.94504 20.52L9.74504 19.08C9.30504 18.94 8.88506 18.76 8.48506 18.54L7.34504 19.4C7.08504 19.6 6.74506 19.58 6.48506 19.4C6.46506 19.38 5.98506 19 5.48506 18.52L5.40505 18.44C4.90505 17.94 4.54505 17.46 4.52505 17.44C4.32505 17.18 4.32505 16.84 4.52505 16.58L5.40505 15.42C5.18505 15.02 5.02506 14.58 4.88506 14.14L3.48506 13.94C3.16506 13.9 2.92506 13.64 2.88506 13.32C2.88506 13.3 2.80505 12.68 2.80505 11.98V11.88C2.80505 11.18 2.88506 10.58 2.88506 10.54C2.92506 10.22 3.16506 9.98002 3.48506 9.92002L4.92505 9.72002C5.06505 9.28002 5.24506 8.86004 5.46506 8.46004L4.60505 7.32002C4.40505 7.06002 4.42505 6.72004 4.60505 6.46004C4.62505 6.44004 5.00506 5.96004 5.48506 5.46004L5.56506 5.38003C6.06506 4.88003 6.54506 4.52003 6.56506 4.50003C6.82506 4.30003 7.16505 4.30003 7.42505 4.50003L8.58506 5.38003C8.98506 5.16003 9.42506 5.00004 9.86506 4.86004L10.0651 3.46004C10.1051 3.14004 10.3651 2.90004 10.6851 2.86004C10.7051 2.86004 11.325 2.78003 12.025 2.78003H12.125C12.825 2.78003 13.4251 2.86004 13.4651 2.86004C13.7851 2.90004 14.0251 3.14004 14.0851 3.46004L14.2851 4.90003C14.7251 5.04003 15.145 5.22002 15.545 5.44002L16.6851 4.58003C16.9451 4.38003 17.285 4.40003 17.545 4.58003C17.565 4.60003 18.045 4.98004 18.545 5.46004L18.625 5.54002C19.125 6.04002 19.4851 6.52002 19.5051 6.54002C19.7051 6.80002 19.7051 7.14003 19.5051 7.40003L18.625 8.56004C18.845 8.96004 19.005 9.40002 19.145 9.84002L20.545 10.04C20.865 10.08 21.105 10.34 21.145 10.66C21.145 10.68 21.225 11.3 21.225 12V12.1C21.225 12.8 21.145 13.4 21.145 13.44C21.105 13.76 20.865 14 20.545 14.06L19.1051 14.26C18.9651 14.7 18.7851 15.12 18.5651 15.52L19.425 16.66C19.625 16.92 19.605 17.26 19.425 17.52C19.405 17.54 19.025 18.02 18.545 18.52L18.4651 18.6C17.9651 19.1 17.4851 19.46 17.4651 19.48C17.2051 19.68 16.8651 19.68 16.6051 19.48L15.445 18.6C15.045 18.82 14.6051 18.98 14.1651 19.12L13.9651 20.52C13.9251 20.84 13.665 21.08 13.345 21.12C13.305 21.12 12.7051 21.2 12.0051 21.2ZM11.2851 19.76C11.4651 19.78 11.6851 19.78 11.9051 19.78H12.0051C12.2251 19.78 12.445 19.78 12.625 19.76L12.8051 18.44C12.8451 18.14 13.065 17.92 13.345 17.84C13.965 17.7 14.5651 17.46 15.1051 17.12C15.2651 17.02 15.465 17 15.645 17.04C15.745 17.06 15.845 17.12 15.925 17.18L16.9851 17.98C17.1251 17.86 17.285 17.72 17.445 17.56L17.525 17.48C17.685 17.32 17.825 17.16 17.945 17.02L17.145 15.96C16.965 15.72 16.9651 15.4 17.1051 15.16C17.4451 14.64 17.685 14.06 17.825 13.46C17.885 13.16 18.125 12.92 18.425 12.88L19.7651 12.7C19.7851 12.52 19.7851 12.3 19.7851 12.08V11.98C19.7851 11.76 19.7851 11.54 19.7651 11.36L18.445 11.18C18.165 11.14 17.9251 10.92 17.8651 10.64C17.7251 10.02 17.4851 9.44003 17.1651 8.90003C17.1251 8.86003 17.1051 8.80002 17.0851 8.74002C17.0051 8.52002 17.0451 8.26003 17.1851 8.08003L18.0051 7.00003C17.8851 6.86003 17.7451 6.70002 17.5851 6.54002L17.5051 6.46004C17.3451 6.30004 17.185 6.16002 17.045 6.04002L15.9851 6.84002C15.7251 7.02002 15.385 7.02002 15.145 6.84002C14.625 6.52002 14.045 6.28002 13.445 6.12002C13.165 6.06002 12.9451 5.82002 12.9051 5.52002L12.725 4.18003C12.545 4.16003 12.3251 4.16004 12.1051 4.16004H12.0051C11.7851 4.16004 11.5651 4.16003 11.3851 4.18003L11.2051 5.50003C11.1651 5.82003 10.9251 6.06003 10.6051 6.10003C10.0051 6.24003 9.42505 6.48003 8.90505 6.80003C8.74505 6.90003 8.54506 6.92003 8.36506 6.88003C8.26506 6.86003 8.16506 6.80002 8.08506 6.74002L7.04504 5.94002C6.90504 6.06002 6.74506 6.20004 6.58506 6.36004L6.50505 6.44002C6.34505 6.60002 6.20506 6.76003 6.08506 6.90003L6.88506 7.96004C7.06506 8.20004 7.06505 8.50004 6.92505 8.76004C6.90505 8.78004 6.90506 8.80002 6.88506 8.82002C6.56506 9.34002 6.32506 9.92002 6.18506 10.52C6.12506 10.8 5.88506 11.02 5.58506 11.06L4.24504 11.24C4.22504 11.42 4.22505 11.64 4.22505 11.86V11.96C4.22505 12.18 4.22504 12.4 4.24504 12.58L5.56506 12.76C5.88506 12.8 6.12506 13.04 6.16506 13.36V13.38C6.30506 13.98 6.54506 14.54 6.86506 15.06C6.96506 15.24 7.00505 15.46 6.92505 15.66C6.90505 15.74 6.84506 15.82 6.78506 15.9L6.00505 16.94C6.12505 17.08 6.26505 17.24 6.42505 17.4L6.50505 17.48C6.66505 17.64 6.82506 17.78 6.96506 17.9L8.02505 17.1C8.28505 16.9 8.66505 16.92 8.90505 17.12C9.42505 17.44 9.98506 17.66 10.5651 17.8C10.8451 17.86 11.0651 18.1 11.1051 18.4L11.2851 19.76Z\" fill={props.selected ? active_stroke_color : default_stroke_color}/>\n    </svg>\n);\n\nSettingsIcon.propTypes = {\n    size: PropTypes.string.isRequired,\n    selected: PropTypes.bool.isRequired,\n    stroke_color: PropTypes.string,\n};\n\nexport default SettingsIcon;","import React from 'react';\n\nconst DefaultAvatarIcon = props => (\n    <svg width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <rect width=\"40\" height=\"40\" rx=\"20\" fill=\"url(#paint0_linear)\"/>\n        <path\n            d=\"M20 12C21.0609 12 22.0783 12.4214 22.8284 13.1716C23.5786 13.9217 24 14.9391 24 16C24 17.0609 23.5786 18.0783 22.8284 18.8284C22.0783 19.5786 21.0609 20 20 20C18.9391 20 17.9217 19.5786 17.1716 18.8284C16.4214 18.0783 16 17.0609 16 16C16 14.9391 16.4214 13.9217 17.1716 13.1716C17.9217 12.4214 18.9391 12 20 12Z\"\n            fill=\"white\"/>\n        <rect x=\"12\" y=\"23\" width=\"16\" height=\"6\" rx=\"3\" fill=\"white\"/>\n        <defs>\n            <linearGradient id=\"paint0_linear\" x1=\"0\" y1=\"0\" x2=\"15.1446\" y2=\"47.8644\" gradientUnits=\"userSpaceOnUse\">\n                <stop stopColor=\"#9CD4FF\"/>\n                <stop offset=\"1\" stopColor=\"#8465FF\"/>\n                <stop offset=\"1\" stopColor=\"#8465FF\"/>\n            </linearGradient>\n        </defs>\n    </svg>\n);\n\nexport default DefaultAvatarIcon;","import React from 'react';\n\nconst BirthdayIcon = props => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"none\" viewBox=\"0 0 20 20\">\n        <rect width=\"20\" height=\"20\" fill=\"url(#a)\" rx=\"10\"/>\n        <path fill=\"#fff\"\n              d=\"M10 7.083a.972.972 0 0 0 .831-1.473L10 4.167 9.169 5.61A.972.972 0 0 0 10 7.083zm2.236 4.861l-.52-.525-.525.525c-.632.627-1.74.632-2.377 0l-.515-.525-.535.525a1.685 1.685 0 0 1-2.139.19v2.241a.486.486 0 0 0 .486.486h7.778a.486.486 0 0 0 .486-.486v-2.241a1.69 1.69 0 0 1-2.139-.19zm.68-3.402h-2.43v-.973h-.972v.973h-2.43A1.458 1.458 0 0 0 5.624 10v.749c0 .525.428.952.953.952a.901.901 0 0 0 .67-.277l1.05-1.035 1.026 1.035c.36.36.987.36 1.347 0l1.03-1.035 1.045 1.035c.17.18.414.277.671.277a.958.958 0 0 0 .958-.952V10a1.458 1.458 0 0 0-1.458-1.458z\"/>\n        <defs>\n            <linearGradient id=\"a\" x1=\"20\" x2=\"0\" y1=\"20\" gradientUnits=\"userSpaceOnUse\">\n                <stop stopColor=\"#FF3F6B\"/>\n                <stop offset=\"1\" stopColor=\"#FFF7F9\"/>\n            </linearGradient>\n        </defs>\n    </svg>\n);\n\nexport default BirthdayIcon;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {Div, Avatar} from '@vkontakte/vkui';\nimport \"./accountUserContainer.css\"\nimport connect from '@vkontakte/vk-connect-promise';\n\nimport LevelCircle from \"./levelCircle\"\nimport DefaultAvatarIcon from \"./icon-pack/DefaultAvatarIcon\"\nimport BirthdayIcon from \"./icon-pack/BirthdayIcon\"\nimport {getVkParams} from \"../utils/utils\";\n\nvar fill_color;\nvar outline_color;\n\nfunction setMedal(num) {\n    let styles = {};\n    if (num.toString() === \"1\") {\n        styles = {\n            background: \"linear-gradient(#ff8359, #ffdf40)\",\n        };\n    } else if (num.toString() === \"2\") {\n        styles = {\n            background: \"linear-gradient(#f4f4f4, #707070)\",\n        };\n    } else if (num.toString() === \"3\") {\n        styles = {\n            background: \"linear-gradient(#f09819, #c76118)\",\n        };\n    } else {\n        styles = {\n            display: \"none\"\n        }\n    }\n\n    return (\n        <div className=\"accountUserContainerMedal\" style={styles}>\n            {num}\n        </div>\n    );\n}\n\nclass AccountUserContainer extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            avatar: <DefaultAvatarIcon/>,\n            medal: null,\n        };\n    }\n\n    componentDidMount() {\n        this.getAvatar()\n    }\n\n    getAvatar = () => {\n        console.log(\"GETTING AVATAR\", this.props.vk_id);\n        connect.send(\"VKWebAppCallAPIMethod\", {\n            method: \"users.get\",\n            request_id: `request_avatar_${this.props.vk_id}`,\n            params: {\n                user_id: this.props.vk_id,\n                fields: [\"photo_100\"],\n                v: \"5.101\",\n                access_token: \"f865feccf865feccf865fecc0cf80fafb0ff865f865fecca4ac75d0909fd9d72a2d0402\",\n            }\n        })\n            .then(resp => {\n                console.log(\"GOT AVATAR\", resp.data.response[0].photo_100);\n                this.setState({\n                    // avatar: <Avatar size={40} src={resp.data.response[0].photo_100}/>\n                    avatar: <img className=\"accountUserContainerAvatarImg\" src={resp.data.response[0].photo_100}/>\n                })\n            })\n            .catch(err => console.log(err))\n    };\n\n    render() {\n        let medal = setMedal(this.props.number);\n        return (\n            <div className=\"accountUserContainer\">\n                <div className=\"accountUserContainerAvatar\">\n                    {this.state.avatar}\n                    {medal}\n                </div>\n                <div className=\"accountUserContainerRow\">\n                    <div className=\"accountUserContainerName\">\n                        {this.props.name}\n                        {\n                            this.props.is_birthday &&\n                            <div className=\"accountUserContainerBirthday\"><BirthdayIcon/></div>\n                        }\n                    </div>\n                    <div className=\"accountUserContainerPercent\">\n                        {isNaN(parseInt(this.props.percent))\n                            ? 0\n                            : parseInt(this.props.percent)}%\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nAccountUserContainer.propTypes = {\n    number: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    vk_id: PropTypes.number.isRequired,\n    is_birthday: PropTypes.bool,\n    percent: PropTypes.string,\n};\n\nexport default AccountUserContainer;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport \"./ProgressBar.css\"\nimport {Button, Div} from \"@vkontakte/vkui\";\n\nclass ProgressBar extends React.Component {\n    constructor() {\n        super();\n    }\n\n    render() {\n        return (\n            <div className=\"customProgressBarContainer\">\n                <div className=\"customProgressBarContainer__in\" style={{width: `${this.props.value}%`}}>\n                </div>\n            </div>\n        )\n    }\n}\n\nProgressBar.propTypes = {\n    value: PropTypes.number.isRequired,\n};\n\nexport default ProgressBar;","import React from 'react';\n\nconst SwitchUserIcon = props => (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n            d=\"M13.3333 7.50001C15.275 7.50001 19.1666 8.47501 19.1666 10.4167V12.5H14.1666V10.4167C14.1666 9.16668 13.4916 8.24168 12.5333 7.54168L13.3333 7.50001ZM6.66665 7.50001C8.60831 7.50001 12.5 8.47501 12.5 10.4167V12.5H0.833313V10.4167C0.833313 8.47501 4.72498 7.50001 6.66665 7.50001ZM6.66665 5.83334C6.0036 5.83334 5.36772 5.56995 4.89888 5.10111C4.43004 4.63227 4.16665 3.99638 4.16665 3.33334C4.16665 2.6703 4.43004 2.03442 4.89888 1.56558C5.36772 1.09674 6.0036 0.833344 6.66665 0.833344C7.32969 0.833344 7.96557 1.09674 8.43441 1.56558C8.90325 2.03442 9.16665 2.6703 9.16665 3.33334C9.16665 3.99638 8.90325 4.63227 8.43441 5.10111C7.96557 5.56995 7.32969 5.83334 6.66665 5.83334ZM13.3333 5.83334C12.6703 5.83334 12.0344 5.56995 11.5655 5.10111C11.0967 4.63227 10.8333 3.99638 10.8333 3.33334C10.8333 2.6703 11.0967 2.03442 11.5655 1.56558C12.0344 1.09674 12.6703 0.833344 13.3333 0.833344C13.9964 0.833344 14.6322 1.09674 15.1011 1.56558C15.5699 2.03442 15.8333 2.6703 15.8333 3.33334C15.8333 3.99638 15.5699 4.63227 15.1011 5.10111C14.6322 5.56995 13.9964 5.83334 13.3333 5.83334ZM7.49998 13.9583V15.8333H12.5V13.9583L15.2083 16.6667L12.5 19.375V17.5H7.49998V19.375L4.79165 16.6667L7.49998 13.9583Z\"\n            fill=\"#5690FF\"/>\n    </svg>\n);\n\nexport default SwitchUserIcon","import React from 'react';\n\nconst VK_important = props => (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <circle cx=\"12\" cy=\"12\" r=\"12\" fill=\"url(#paint0_linear)\"/>\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\"\n              d=\"M18.3785 8.89022C18.4712 8.58122 18.3785 8.35416 17.9375 8.35416H16.4792C16.1084 8.35416 15.9374 8.5503 15.8447 8.76659C15.8447 8.76659 15.1031 10.5743 14.0525 11.7484C13.7126 12.0883 13.5581 12.1965 13.3727 12.1965C13.28 12.1965 13.1458 12.0883 13.1458 11.7794V8.89022C13.1458 8.51941 13.0382 8.35416 12.7292 8.35416H10.4375C10.2058 8.35416 10.0664 8.52626 10.0664 8.68936C10.0664 9.04088 10.5917 9.12194 10.6459 10.1108V12.2583C10.6459 12.7292 10.5608 12.8145 10.3754 12.8145C9.88104 12.8145 8.67845 10.9988 7.96521 8.92111C7.82543 8.51728 7.68523 8.35416 7.31253 8.35416H5.85419C5.43753 8.35416 5.35419 8.5503 5.35419 8.76659C5.35419 9.15286 5.8486 11.0687 7.65623 13.6025C8.86131 15.3328 10.5592 16.2708 12.1042 16.2708C13.0312 16.2708 13.1459 16.0625 13.1459 15.7036V14.3958C13.1459 13.9792 13.2337 13.896 13.5272 13.896C13.7435 13.896 14.1143 14.0041 14.9795 14.8384C15.9683 15.8272 16.1313 16.2708 16.6875 16.2708H18.1459C18.5625 16.2708 18.7709 16.0625 18.6507 15.6514C18.5192 15.2416 18.0471 14.6471 17.4206 13.9423C17.0807 13.5407 16.5709 13.1081 16.4164 12.8917C16.2001 12.6137 16.2619 12.49 16.4164 12.2429C16.4164 12.2429 18.1931 9.73995 18.3785 8.89022Z\"\n              fill=\"white\"/>\n        <defs>\n            <linearGradient id=\"paint0_linear\" x1=\"24\" y1=\"12\" x2=\"-3.82012e-07\" y2=\"12\" gradientUnits=\"userSpaceOnUse\">\n                <stop stopColor=\"#86A8E7\"/>\n                <stop offset=\"1\" stopColor=\"#5070E1\"/>\n            </linearGradient>\n        </defs>\n    </svg>\n);\n\nexport default VK_important;","import React from 'react';\n\nconst QuestionIcon = props => (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n            d=\"M13.07 9.25L12.17 10.17C11.45 10.89 11 11.5 11 13H9V12.5C9 11.39 9.45 10.39 10.17 9.67L11.41 8.41C11.78 8.05 12 7.55 12 7C12 5.89 11.1 5 10 5C9.46957 5 8.96086 5.21071 8.58579 5.58579C8.21071 5.96086 8 6.46957 8 7H6C6 5.93913 6.42143 4.92172 7.17157 4.17157C7.92172 3.42143 8.93913 3 10 3C11.0609 3 12.0783 3.42143 12.8284 4.17157C13.5786 4.92172 14 5.93913 14 7C14 7.88 13.64 8.67 13.07 9.25ZM11 17H9V15H11V17ZM10 0C8.68678 0 7.38642 0.258658 6.17317 0.761205C4.95991 1.26375 3.85752 2.00035 2.92893 2.92893C1.05357 4.8043 0 7.34784 0 10C0 12.6522 1.05357 15.1957 2.92893 17.0711C3.85752 17.9997 4.95991 18.7362 6.17317 19.2388C7.38642 19.7413 8.68678 20 10 20C12.6522 20 15.1957 18.9464 17.0711 17.0711C18.9464 15.1957 20 12.6522 20 10C20 4.47 15.5 0 10 0Z\"\n            fill=\"#C8C8C8\"/>\n    </svg>\n\n);\n\nexport default QuestionIcon;","import React from 'react';\n\nconst PerformanceIcon = props => (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M5 17.59L15.59 7H9V5H19V15H17V8.41L6.41 19L5 17.59Z\" fill=\"white\"/>\n    </svg>\n);\n\nexport default PerformanceIcon;","import {Div, Group, Button, Panel, PanelHeader, InfoRow, Progress, Spinner, Avatar} from '@vkontakte/vkui';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/account.css\"\n\nimport AccountUserContainer from \"../custom_components/accountUserContainer\"\nimport ProgressBar from \"../custom_components/ProgressBar\"\nimport SwitchStudentIcon from \"../custom_components/icon-pack/SwitchStudentIcon\"\nimport VK_important from \"../custom_components/icon-pack/VK_important\"\nimport Icon16Dropdown from '@vkontakte/icons/dist/16/dropdown';\nimport DefaultAvatarIcon from \"../custom_components/icon-pack/DefaultAvatarIcon\"\nimport QuestionIcon from \"../custom_components/icon-pack/QuestionIcon\"\nimport PerformanceIcon from \"../custom_components/icon-pack/PerformanceIcon\"\nimport {isBirthday} from \"../utils/utils\"\nimport connect from \"@vkontakte/vk-connect-promise\";\n\nconst axios = require('axios');\n\nclass Account extends React.Component {\n    constructor() {\n        super();\n\n        this.state = {\n            classmates: [],\n            ready: false,\n        };\n\n        this.is_opened = false;\n        this.myPlace = 1;\n    }\n\n    componentDidMount() {\n        this.getClassMates();\n    }\n\n    getClassMates = () => {\n        console.log(\"classmates resp\", `https://bklet.ml/api/diary/classmates/?id=${this.props.profile.id}&secret=${this.props.profile.secret}&student_id=${this.props.profile.student.id}`);\n        axios.get(`https://bklet.ml/api/diary/classmates/?id=${this.props.profile.id}&secret=${this.props.profile.secret}&student_id=${this.props.profile.student.id}`)\n            .then(resp => {\n                let clsmts = [];\n                let clsmts_ids = [];\n                let sorted = [...resp.data.data, this.props.profile.student];\n                sorted.sort(function (a, b) {\n                    if (a.exp < b.exp) return 1;\n                    if (a.exp > b.exp) return -1;\n                    return 0;\n                });\n                this.myPlace = sorted.indexOf(this.props.profile.student);\n                console.log(\"sorting\", sorted);\n                sorted.forEach((classmate, i) => {\n                    let is_link;\n                    try {\n                        is_link = classmate.vk_account;\n                        clsmts_ids.push(classmate.vk_account.toString());\n                    } catch (e) {\n                        is_link = false;\n                    }\n                    let inside =\n                        <AccountUserContainer\n                            name={classmate.name}\n                            number={(i + 1).toString()}\n                            is_birthday={classmate.b_date && isBirthday(classmate.b_date)}\n                            vk_id={classmate.vk_account}\n                            percent={classmate.exp}\n                        />;\n                    if (is_link) {\n                        clsmts.push(\n                            <div className=\"accountClassmateContainer\"\n                                 onClick={() => window.location.href = `vk://vk.com/id${classmate.vk_account}`}\n                            >\n                                {inside}\n                            </div>\n                        );\n                    } else {\n                        clsmts.push(\n                            <div className=\"accountClassmateContainer\"\n                            >\n                                {inside}\n                            </div>\n                        );\n                    }\n                });\n                console.log(\"ids\", clsmts_ids);\n                connect.send(\"VKWebAppCallAPIMethod\", {\n                    method: \"users.get\",\n                    request_id: \"request_avatars\",\n                    params: {\n                        user_id: clsmts_ids,\n                        fields: [\"photo_100\"],\n                        v: \"5.101\",\n                        access_token: \"f865feccf865feccf865fecc0cf80fafb0ff865f865fecca4ac75d0909fd9d72a2d0402\",\n                    }\n                })\n                    .then(resp => console.log(\"avatar data\", resp.data.response));\n                this.setState({\n                    classmates: clsmts,\n                    ready: true,\n                })\n            })\n            .catch(err => console.log(err))\n    };\n\n    switchStudent = () => {\n        this.props.clearJournalData();\n        this.props.setPanel(\"choose_student\");\n    };\n\n    openList = () => {\n        if (!this.is_opened) {\n            document.getElementById(\"classmatesList\").style.maxHeight = `${64 * this.state.classmates.length + 47}px`;\n            document.getElementById(\"classmatesList\").style.paddingBottom = \"24px\";\n            document.querySelector(\".accountClassmateContainer:nth-child(5)\").style.marginTop = \"8px\";\n            document.querySelector(\".accountShowMoreClassmatesText\").innerHTML = \"Скрыть весь список\";\n            document.getElementById(\"openClassmatesList\").style.transform = \"rotate(180deg)\";\n            try {\n                document.getElementById(\"accountMyPlace\").style.display = \"none\";\n            } catch (e) {\n\n            }\n            this.is_opened = true;\n        } else {\n            document.getElementById(\"classmatesList\").style.maxHeight = \"240px\";\n            document.getElementById(\"classmatesList\").style.paddingBottom = \"12px\";\n            document.querySelector(\".accountClassmateContainer:nth-child(5)\").style.marginTop = \"46px\";\n            document.querySelector(\".accountShowMoreClassmatesText\").innerHTML = \"Показать весь список\";\n            document.getElementById(\"openClassmatesList\").style.transform = \"rotate(360deg)\";\n            try {\n                document.getElementById(\"accountMyPlace\").style.display = \"flex\";\n            } catch (e) {\n\n            }\n            this.is_opened = false;\n        }\n    };\n\n    render() {\n        return (\n            <Panel id={this.props.id}>\n                <PanelHeader\n                    noShadow={true}>\n                    Аккаунт\n                </PanelHeader>\n                <div className=\"accountStudentInfo\">\n                    <Div className=\"studentInfoContainer\">\n                        <div className=\"accountProfileAvatar\">\n                            {\n                                this.props.fetchedUser\n                                    ? <Avatar size={40} src={this.props.fetchedUser.photo_100}/>\n                                    : <DefaultAvatarIcon/>\n                            }\n                        </div>\n                        <div className=\"studentInfoRow\">\n                            <div id=\"studentInfo\">\n                                <div id=\"studentName\">\n                                    {this.props.profile.student.name}\n                                </div>\n                                <div id=\"studentGrade\">\n                                    {this.props.profile.student.class} класс\n                                </div>\n                            </div>\n                            {\n                                this.props.profile.students.length > 1 &&\n                                <Button id=\"switchStudentButton\"\n                                        onClick={this.switchStudent}>\n                                    <SwitchStudentIcon/>\n                                </Button>\n                            }\n                        </div>\n                    </Div>\n                    <Div>\n                        <Div className=\"accountProgressContainer\">\n                            <div className=\"accountProgressContainerTitleRow\">\n                                <div className=\"accountProgressContainerTitle\">\n                                    Успеваемость\n                                </div>\n                                {/*<QuestionIcon/>*/}\n                            </div>\n                            <div className=\"accountProgressContainerContent\">\n                                <div className=\"accountProgressContainerContentPerformanceIcon\">\n                                    <PerformanceIcon/>\n                                </div>\n                                <div className=\"accountProgressContainerContentPercent\">\n                                    {\n                                        isNaN(parseInt(this.props.profile.student.exp))\n                                            ? 0\n                                            : parseInt(this.props.profile.student.exp)\n                                    }%\n                                </div>\n                                <div className=\"accountProgressContainerContentSeparator\"></div>\n                                <div className=\"accountProgressContainerContentProgress\">\n                                    <ProgressBar value={this.props.profile.student.exp}/>\n                                </div>\n                            </div>\n                        </Div>\n                    </Div>\n                    {/*<Div className=\"accountProgress\">*/}\n                    {/*    <div style={{display: 'flex', flexDirection: 'row', justifyContent: 'space-between'}}>*/}\n                    {/*        <div>Успеваемость</div>*/}\n                    {/*    </div>*/}\n                    {/*    <InfoRow title=\"Уровень\" id=\"progressBar\">*/}\n                    {/*        <Progress value={90}/>*/}\n                    {/*    </InfoRow>*/}\n                    {/*</Div>*/}\n                </div>\n                {/*<div className=\"accountTasks\">*/}\n                {/*    <Div className=\"accountBlockTitle\">*/}\n                {/*        ЗАДАЧИ*/}\n                {/*    </Div>*/}\n                {/*</div>*/}\n                <Div className=\"accountGradeTop\" id=\"classmatesList\">\n                    <div style={{fontSize: \"14px\", color: \"#999999\"}}>\n                        Топ класса:\n                    </div>\n                    {\n                        this.state.ready\n                            ?\n                            (this.state.classmates.length === 1\n                                ? <div className=\"noClassmates\">Ваши одноклассники ещё не авторизовались, вы можете\n                                    рассказать им о приложении!</div>\n                                : this.state.classmates)\n                            : <Spinner size=\"medium\"/>\n                    }\n                    {this.state.classmates.length > 3 &&\n                    <div className=\"accountClassmatesAdditionalContent\">\n                        {\n                            (this.myPlace > 3) &&\n                            <div id=\"accountMyPlace\">\n                                Вы на {this.myPlace} месте\n                            </div>\n                        }\n                        <div className=\"accountShowMoreClassmates\" onClick={this.openList}>\n                            <div className=\"accountShowMoreClassmatesText\">\n                                Показать весь список\n                            </div>\n                            <div id=\"openClassmatesList\">\n                                <Icon16Dropdown/>\n                            </div>\n                        </div>\n                    </div>\n                    }\n                </Div>\n                <Div className=\"accountImportantNotifications\">\n                    <div className=\"accountBlockTitle\">\n                        ВАЖНЫЕ УВЕДОМЛЕНИЯ\n                    </div>\n                    <Div className=\"accountImportantNotification Tappable--ios Tappable--android\"\n                         onClick={() => {\n                             window.open('vk://vk.com/im?sel=-171343913');\n                         }}>\n                        <div className=\"accountImportantNotificationIconBlock\">\n                            <VK_important/>\n                        </div>\n                        <div className=\"accountImportantNotificationTextBlock\">\n                            Попробуй нашего бота ВК, он очень умный, и сильно тебе поможет, если нет времени заходить в\n                            приложение\n                        </div>\n                    </Div>\n                </Div>\n                {/*<Group className=\"lastNotificationsContainer\">*/}\n                {/*    <div className=\"inversedTitle\">*/}\n                {/*        ПОСЛЕДНИЕ СОБЫТИЯ*/}\n                {/*    </div>*/}\n                {/*    <div className=\"notification notificationTop\">*/}\n                {/*        Володя Ржавый получил 5 за контрольную по уроку алгебра. Единственный в классе!*/}\n                {/*    </div>*/}\n                {/*    <div className=\"notification\">*/}\n                {/*        Ирина Шикина достигла 10 уровня*/}\n                {/*    </div>*/}\n                {/*    <div className=\"notification\">*/}\n                {/*        Твой класс получил рекордные 26 оценок за неделю. Из них 15 пятёрок!*/}\n                {/*    </div>*/}\n                {/*    <div className=\"notification notificationBottom\">*/}\n                {/*        <Button level=\"tertiary\" style={{margin: 0, padding: 0}}>*/}\n                {/*            <div style={{fontSize: \"15px\", fontWeight: \"700\", color: \"#fff\"}}>*/}\n                {/*                Подробнее*/}\n                {/*            </div>*/}\n                {/*        </Button>*/}\n                {/*    </div>*/}\n                {/*</Group>*/}\n            </Panel>\n        );\n    }\n}\n\nAccount.propTypes = {\n    id: PropTypes.string.isRequired,\n    profile: PropTypes.any.isRequired,\n    setPanel: PropTypes.func.isRequired,\n    clearJournalData: PropTypes.func.isRequired,\n    fetchedUser: PropTypes.any,\n};\n\nexport default Account;","import {getStartDateForLastMarks, setCorrectYear} from \"../../utils/utils\"\n\nconst axios = require('axios');\nlet baseUrl = \"https://bklet.ml/\";\n\nlet normalTimeout = 10000;\nlet normalInterval = 3000;\n\nexport function getJournal(id, secret, start, end, student_id) {\n    return dispatch => {\n        dispatch({\n            type: \"GET_JOURNAL_REQUEST\",\n            data: {\n                data: []\n            },\n        });\n\n        getSchedule(id, secret, start, end, student_id, dispatch);\n    }\n}\n\nfunction getSchedule(id, secret, start, end, student_id, dispatcher) {\n    let methodUrl = \"api/diary/journal/dates/\";\n\n    let queries = `?student_id=${student_id}&id=${id}&secret=${secret}&start=${setCorrectYear(start.toLocaleDateString(\"ru-RU\"))}&end=${setCorrectYear(end.toLocaleDateString(\"ru-RU\"))}`;\n    // let queries = `?id=0&secret=${secret}&start=${setCorrectYear(start.toLocaleDateString(\"ru-RU\"))}&end=${setCorrectYear(end.toLocaleDateString(\"ru-RU\"))}`;\n\n    // console.log(\"schedule request\", baseUrl + methodUrl + queries);\n\n    let intervalId;\n\n    var timeoutID = setTimeout(() => {\n        clearInterval(intervalId);\n        dispatcher({\n            type: \"GET_JOURNAL_FAIL\",\n            data: Error(\"end timeout\"),\n        })\n    }, normalTimeout);\n    intervalId = setInterval(() => {\n        axios.get(baseUrl + methodUrl + queries)\n            .then((response) => {\n                // console.log(\"resp\", response.data);\n                if (!response.data.data === null || !response.data.error_msg) {\n                    clearTimeout(timeoutID);\n                    clearInterval(intervalId);\n                    dispatcher({\n                        type: \"GET_JOURNAL_SUCCESS\",\n                        data: response.data\n                    })\n                }\n            })\n    }, normalInterval)\n}\n\nexport function getMarks(id, secret, student_id,) {\n    return dispatch => {\n        dispatch({\n            type: \"GET_MARKS_REQUEST\",\n            data: {\n                data: []\n            },\n        });\n\n        getAndAggregateMarks(id, secret, student_id, dispatch)\n    }\n}\n\nfunction getAndAggregateMarks(id, secret, student_id, dispatcher) {\n    let methodUrl = \"api/diary/marks/all/\";\n\n    let queries = `?student_id=${student_id}&id=${id}&secret=${secret}`;\n    // let queries = `?id=0&secret=${secret}&start=${setCorrectYear(startDate.toLocaleDateString(\"ru-RU\"))}&end=${setCorrectYear(endDate.toLocaleDateString(\"ru-RU\"))}`;\n\n    // console.log(baseUrl + methodUrl + queries);\n\n    let intervalId;\n\n    var timeoutID = setTimeout(() => {\n        clearInterval(intervalId);\n        dispatcher({\n            type: \"GET_MARKS_FAIL\",\n            data: Error(\"end timeout\")\n        })\n    }, normalTimeout);\n    intervalId = setInterval(() => {\n        axios.get(baseUrl + methodUrl + queries)\n            .then((response) => {\n                console.log(\"marks resp\", response.data);\n                if (!response.data.data === null || !response.data.error) {\n                    clearTimeout(timeoutID);\n                    clearInterval(intervalId);\n                    dispatcher({\n                        type: \"GET_MARKS_SUCCESS\",\n                        data: response.data\n                    })\n                }\n            })\n    }, normalInterval);\n}\n\nexport function getLastMarks(id, secret, student_id) {\n    return dispatch => {\n        dispatch({\n            type: \"GET_LAST_MARKS_REQUEST\",\n            data: {\n                data: []\n            },\n        });\n\n        getLMarks(id, secret, student_id, dispatch);\n    }\n}\n\nfunction getLMarks(id, secret, student_id, dispatcher) {\n    let methodUrl = `api/diary/marks/range/?before=5&after=0&id=${id}&secret=${secret}&student_id=${student_id}`;\n\n    // console.log(\"error here\", baseUrl + methodUrl + queries);\n\n    let intervalId;\n\n    var timeoutID = setTimeout(() => {\n        clearInterval(intervalId);\n        dispatcher({\n            type: \"GET_LAST_MARKS_FAIL\",\n            data: Error(\"end timeout\")\n        })\n    }, normalTimeout);\n    intervalId = setInterval(() => {\n        axios.get(baseUrl + methodUrl)\n            .then((response) => {\n                console.log(\"last marks resp\", response.data);\n                if (response.data.error) {\n                    dispatcher({\n                        type: \"GET_LAST_MARKS_FAIL\",\n                        data: response.data.error\n                    })\n                } else {\n                    clearTimeout(timeoutID);\n                    clearInterval(intervalId);\n                    dispatcher({\n                        type: \"GET_LAST_MARKS_SUCCESS\",\n                        data: response.data\n                    })\n                }\n            })\n    }, normalInterval);\n}\n\nexport function clearData() {\n    return {\n        type: \"CLEAR_DATA\",\n    }\n}","import React from 'react';\nimport {View} from '@vkontakte/vkui';\nimport Account from '../panels/account'\nimport {connect} from \"react-redux\";\nimport ChooseStudent from \"../panels/choose_student\";\nimport {setExp, setStudent} from \"../redux/actions/ProfileAction\";\nimport {setPanel} from \"../redux/actions/PanelAction\";\nimport {clearData} from \"../redux/actions/AppLogicAction\";\n\n\nclass AccountView extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <View activePanel={(this.props.activePanel === \"auth\" ? \"account\" : this.props.activePanel)}>\n                <Account id=\"account\"\n                         fetchedUser={this.props.fetchedUser}\n                         profile={this.props.profile}\n                         setPanel={this.props.setPanelAction}\n                         clearJournalData={this.props.clearJournalData}\n                />\n                <ChooseStudent id=\"choose_student\"\n                               profile={this.props.profile}\n                               setStudent={this.props.setStudentAction}\n                               setPanel={this.props.setPanelAction}\n                               setExp={this.props.setExpAction}\n                />\n            </View>\n        )\n    }\n}\n\nconst mapStateToProps = store => {\n    console.log(\"Account View\", store);\n    return {\n        activePanel: store.activePanel,\n        profile: store.profile,\n        fetchedUser: store.fetchedUser,\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        clearJournalData: () => dispatch(clearData()),\n        setPanelAction: panel => {\n            dispatch(setPanel(panel))\n        },\n        setStudentAction: student => dispatch(setStudent(student)),\n        setExpAction: exp => dispatch(setExp(exp)),\n    }\n};\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(AccountView);","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport \"./mark.css\"\n\nclass Mark extends React.Component {\n    constructor() {\n        super();\n\n        this.gradientColorOne = \"\";\n        this.gradientColorTwo = \"\";\n        this.containerSize = [0, 0, 0];\n        this.routineColor = \"#5690ff\";\n        this.markValue = 0;\n\n        String.prototype.capitalize = function () {\n            return this.replace(/(?:^|\\s)\\S/g, function (a) {\n                return a.toUpperCase();\n            });\n        };\n    }\n\n\n    defineColors = () => {\n        let val = this.props.val.toLowerCase();\n        let gradeSystem = this.props.gradeSystem ? this.props.gradeSystem : 'five';\n\n        if (val === \"зачёт\" || val === \"зч\" || val === \"зачет\") {\n            this.gradientColorOne = \"#1cb336\";\n            this.gradientColorTwo = \"#72de20\";\n            if (this.props.short) {\n                this.containerSize = [`${this.props.size}px`, `${this.props.size}px`, \"50%\"];\n                val = \"Зч\";\n            } else {\n                this.containerSize = [\"68px\", \"22px\", \"11px\"];\n                val = \"Зачёт\";\n            }\n        } else if (val === \"незачёт\" || val === \"нз\" || val === \"нзч\" || val === \"незачет\") {\n            this.gradientColorOne = \"#ff4b2b\";\n            this.gradientColorTwo = \"#ff416c\";\n            if (this.props.short) {\n                this.containerSize = [`${this.props.size}px`, `${this.props.size}px`, \"50%\"];\n                val = \"Нз\";\n            } else {\n                this.containerSize = [\"68px\", \"22px\", \"11px\"];\n                val = \"Незачёт\";\n            }\n        } else if (!isNaN(parseInt(val))) {\n            this.containerSize = [`${this.props.size}px`, `${this.props.size}px`, \"50%\"];\n            if (gradeSystem === 'five')\n                val = 2 * val - 2;\n            if (gradeSystem === 'percent')\n                val /= 10;\n            // else {\n            //\n            // }\n            if (val >= 8) {\n                this.gradientColorOne = \"#1cb336\";\n                this.gradientColorTwo = \"#72de20\";\n            } else if (val >= 6) {\n                this.gradientColorOne = \"#02cd84\";\n                this.gradientColorTwo = \"#00e19d\";\n            } else if (val >= 3) {\n                this.gradientColorOne = \"#ff512f\";\n                this.gradientColorTwo = \"#f09819\";\n            } else {\n                this.gradientColorOne = \"#ff4b2b\";\n                this.gradientColorTwo = \"#ff416c\";\n            }\n            if (gradeSystem === 'five')\n                val = (val + 2) / 2;\n            if (gradeSystem === 'percent')\n                val *= 10\n        } else {\n            this.containerSize = [`${this.props.size}px`, `${this.props.size}px`, \"50%\"];\n            if (val === \"не был\") {\n                val = \"Н\";\n                this.gradientColorOne = \"#86a8e7\";\n                this.gradientColorTwo = \"#5070e1\";\n            } else if (val === \"болел\") {\n                val = \"Б\";\n                this.gradientColorOne = \"#86a8e7\";\n                this.gradientColorTwo = \"#5070e1\";\n            }\n        }\n\n        this.markValue = val;\n    };\n\n    render() {\n        this.defineColors();\n        return (\n            <div className=\"markContainer\" style={{\n                width: this.containerSize[0],\n                height: this.containerSize[1],\n                background: (this.props.is_routine\n                    ? this.routineColor\n                    : `linear-gradient(90deg, ${this.gradientColorOne}, ${this.gradientColorTwo})`),\n                fontSize: (this.props.fontSize ? `${this.props.fontSize}px` : \"14px\"),\n                borderRadius: this.containerSize[2],\n                border: (this.props.is_border ? \"2px solid #f6f6f6\" : \"0px\")\n            }}>\n                <div>{this.markValue}</div>\n                {\n                    (this.props.weight && this.props.weight > 1\n                        ?\n                        <div className=\"markWeight\">\n                            {this.props.weight}\n                        </div>\n                        : null)\n                }\n            </div>\n        )\n    }\n}\n\nMark.propTypes = {\n    size: PropTypes.string.isRequired,\n    val: PropTypes.string.isRequired,\n    is_routine: PropTypes.bool.isRequired,\n    weight: PropTypes.string,\n    fontSize: PropTypes.string,\n    gradeSystem: PropTypes.string,\n    is_border: PropTypes.bool,\n    short: PropTypes.bool,\n};\n\nexport default Mark;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport \"./customSpinner.css\"\nimport Icon44Spinner from '@vkontakte/icons/dist/44/spinner';\n\nconst CustomSpinner = props => (\n    <div className=\"customSpinnerContainer\" style={{backgroundColor: (props.isInverse ? \"#5690ff\" : \"#ffffff\")}}>\n        <div className=\"customSpinnerRotator\" style={{color: (props.isInverse ? \"#ffffff\" :\"#5690ff\" )}}>\n            <Icon44Spinner/>\n        </div>\n    </div>\n);\n\nCustomSpinner.propTypes = {\n    isInverse: PropTypes.bool.isRequired\n};\n\nexport default CustomSpinner;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport \"./advisesRow.css\"\nimport {Button, Div} from \"@vkontakte/vkui\";\n\nclass AdvisesRow extends React.Component {\n    constructor() {\n        super();\n    }\n\n    giveAdvice = () => {\n        let expectedAvg = this.props.expectedMark - 0.5;\n        if (this.props.avg > expectedAvg || this.props.allMarks.length === 0)\n            return false;\n\n        let marksSum = this.props.avg * this.props.allMarks.length;\n        let length = this.props.allMarks.length;\n        let currentAvg = this.props.avg;\n        let steps = 0;\n        let fives = 0;\n        let fours = 0;\n        let threes = 0;\n        while (currentAvg <= expectedAvg && steps <= 11) {\n            if (this.props.expectedMark === 5) {\n                marksSum += 5;\n                steps++;\n                length++;\n                fives++;\n                currentAvg = marksSum / length;\n            }\n            if (this.props.expectedMark === 4) {\n                if (currentAvg >= 3.5) {\n                    marksSum += 5;\n                    steps++;\n                    length++;\n                    fives++;\n                    currentAvg = marksSum / length;\n                } else {\n                    if (fives < 5) {\n                        marksSum += 5;\n                        steps++;\n                        length++;\n                        fives++;\n                        currentAvg = marksSum / length;\n                    } else {\n                        marksSum += 4;\n                        steps++;\n                        length++;\n                        fours++;\n                        currentAvg = marksSum / length;\n                    }\n                }\n            }\n            if (this.props.expectedMark === 3) {\n                if (fours < 3) {\n                    marksSum += 4;\n                    steps++;\n                    length++;\n                    fours++;\n                    currentAvg = marksSum / length;\n                } else if (fives < 3) {\n                    marksSum += 5;\n                    steps++;\n                    length++;\n                    fives++;\n                    currentAvg = marksSum / length;\n                } else {\n                    marksSum += 3;\n                    steps++;\n                    length++;\n                    threes++;\n                    currentAvg = marksSum / length;\n                }\n            }\n        }\n        if (steps >= 11) return false;\n\n        return [fives, fours, threes];\n    };\n\n    declinate = (amount, digit) => {\n        if (digit === 5) {\n            if (amount === 1) return \"пятёрку\";\n            else if (amount >= 2 && amount < 5) return \"пятёрки\";\n            else return \"пятёрок\"\n        } else if (digit === 4) {\n            if (amount === 1) return \"четвёрку\";\n            else if (amount >= 2 && amount < 5) return \"четвёрки\";\n            else return \"четвёрок\"\n        } else {\n            if (amount === 1) return \"тройку\";\n            else if (amount >= 2 && amount < 5) return \"тройки\";\n            else return \"троек\"\n        }\n    };\n\n    render() {\n        let predictions = this.giveAdvice();\n        let str = \"Получите \";\n        if (predictions && predictions[0] !== 0) str += `${predictions[0]} ${this.declinate(predictions[0], 5)}`;\n        if (predictions && predictions[0] !== 0 && predictions[1] !== 0) str += ', ';\n        if (predictions && predictions[1] !== 0) str += `${predictions[1]} ${this.declinate(predictions[1], 4)}`;\n        if (predictions && predictions[1] !== 0 && predictions[2] !== 0) str += ' и ';\n        if (predictions && predictions[2] !== 0) str += `${predictions[2]} ${this.declinate(predictions[2], 3)}`;\n        return (\n            <div style={{display: Boolean(predictions) === false && \"none\"}} className=\"advisesRowContainer\">\n                <div className=\"advisesRowText\">\n                    {str}\n                </div>\n            </div>\n        );\n    }\n}\n\nAdvisesRow.propTypes = {\n    expectedMark: PropTypes.number.isRequired,\n    allMarks: PropTypes.array.isRequired,\n    avg: PropTypes.number,\n};\n\nexport default AdvisesRow;","import {\n    Tabs,\n    Div,\n    Panel,\n    PanelHeader,\n    TabsItem,\n    HorizontalScroll,\n} from '@vkontakte/vkui';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/marks.css\"\nimport {turnIntoDate, reverseRuslanString} from \"../utils/utils\"\n\nimport Mark from \"../custom_components/mark\"\nimport CustomSpinner from \"../custom_components/customSpinner\";\nimport AdvisesRow from \"../custom_components/advisesRow\";\n\nclass Marks extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.marksData = this.props.appData.marks;\n        this.lastMarksData = this.props.appData.lastMarks;\n        this.tabs = [];\n        this.tabsItems = [];\n        let flag = this.props.appData.marks.data.length === 0;\n\n        this.state = {\n            activeTab: \"1\",\n            ready: !flag,\n            error: false,\n            errorLastMarks: false,\n        };\n\n        if (flag)\n            this.loadData();\n        else\n            this.startRender();\n    }\n\n    loadData = async () => {\n        this.props.getMarks(this.props.profile.id, this.props.profile.secret, this.props.profile.student.id);\n        this.props.getLastMarks(this.props.profile.id, this.props.profile.secret, this.props.profile.student.id);\n\n        let id = setInterval(() => {\n            if (this.props.appData.error) {\n                clearInterval(id);\n                this.setState({error: true, ready: true});\n            }\n            if (!this.state.error && this.props.appData.marks.data.length !== 0) {\n                this.marksData = this.props.appData.marks;\n                clearInterval(id);\n                this.startRender();\n            }\n        }, 200);\n        let id2 = setInterval(() => {\n            if (this.props.appData.errorLastMarks) {\n                clearInterval(id2);\n                this.setState({errorLastMarks: true, ready: true});\n            }\n            if (this.props.appData.lastMarks.data.length !== 0 && !this.state.errorLastMarks) {\n                this.lastMarksData = this.props.appData.lastMarks;\n                clearInterval(id2);\n                // this.startRender();\n            }\n        }, 200);\n    };\n\n    startRender = () => {\n        let periods = this.marksData.data[0].periods.length;\n        for (let i = 0; i < periods; i++) {\n            this.tabs.push(this.drawTab(i));\n        }\n\n        this.setState({\n            ready: true,\n        });\n    };\n\n    drawTabsItem = () => {\n        if (this.marksData.data[0]) {\n            let periods = this.marksData.data[0].periods.length;\n            this.tabsItems = [];\n            for (let i = 0; i < periods; i++) {\n                this.tabsItems.push(\n                    <TabsItem\n                        onClick={() => this.setState({activeTab: `${i + 1}`})}\n                        selected={this.state.activeTab === `${i + 1}`}\n                    >\n                        {i + 1}\n                    </TabsItem>\n                );\n            }\n            return this.tabsItems;\n        }\n    };\n\n    drawSpinner = () => {\n        return (\n            <CustomSpinner isInverse={true}/>\n        );\n    };\n\n    drawTab = (currentTab) => {\n        let subjectsFields = [];\n\n        let generateSubject = (subject, currentPeriod) => {\n            let period = subject.periods[currentPeriod];\n            let marks = [];\n            let marksModal = [];\n            let avg = 0;\n            let marksLength = 0;\n            let marksDataframe = [];\n            period.marks.forEach(mark => {\n                marksDataframe.push(mark.value - 0);\n                avg += (!isNaN(mark.value)\n                    ? mark.value * (mark.weight ? mark.weight : 1)\n                    : 0);\n                marksLength += (!isNaN(mark.value) ? (mark.weight ? mark.weight : 1) : 0);\n                marks.push(\n                    <div>\n                        <Mark size=\"16\" val={mark.value.toString()} is_routine={true} fontSize=\"12\"/>\n                    </div>\n                );\n                marksModal.push(\n                    <div className=\"modalMarkMarksInfo\">\n                        <div className=\"modalMarkMarksInfoLeft\">\n                            <Mark size=\"22\" is_routine={false} val={mark.value.toString()} fontSize=\"14\"\n                                  weight={(mark.weight ? mark.weight.toString() : \"1\")}/>\n                        </div>\n                        <div className=\"modalMarkMarksInfoContainer\">\n                            {mark.form\n                                ?\n                                <div className=\"modalMarkMarksInfoForm\">\n                                    {mark.form}\n                                </div>\n                                : null}\n                            {mark.name\n                                ?\n                                <div className=\"modalMarkMarksInfoName\">\n                                    {mark.name}\n                                </div>\n                                : null}\n                            {mark.date\n                                ?\n                                <div className=\"modalMarkMarksInfoDate\">\n                                    {reverseRuslanString(mark.date)}\n                                </div>\n                                : null}\n                        </div>\n                    </div>\n                );\n            });\n            avg /= marksLength;\n            avg = avg.toFixed(2);\n            let modal = (\n                <div>\n                    <div className=\"modalMarkTitle\">\n                        Сведения о предмете\n                    </div>\n                    <div className=\"modalMarkSubjectInfo\">\n                        <div className=\"modalMarkSubjectInfoLeft\">\n                            {(isNaN(avg) ? \"0.00\" : avg)}\n                        </div>\n                        <div className=\"modalMarkSubjectInfoText\">\n                            Средний балл\n                        </div>\n                    </div>\n                    <div className=\"modalMarkSubjectInfo\">\n                        <div className=\"modalMarkSubjectInfoLeft\">\n                            {period.final_mark ?\n                                <Mark size=\"22\" val={period.final_mark.toString()} is_routine={false} fontSize=\"14\"/>\n                                : \"-\"}\n                        </div>\n                        <div className=\"modalMarkSubjectInfoText\">\n                            Итоговая оценка\n                        </div>\n                    </div>\n                    <div className=\"modalMarkTitle\">\n                        Оценки\n                    </div>\n                    {marksModal}\n                    <div className=\"modalEmptyElement\">\n                    </div>\n                </div>\n            );\n            return (\n                <div className=\"allMarksContainer\" onClick={() => this.props.openModal(modal, subject.name)}>\n                    <div className=\"subjectRow\">\n                        <div className=\"subject\">\n                            {subject.name}\n                        </div>\n                        <div className=\"subjectRowMarks\">\n                            {period.final_mark &&\n                            <div className=\"subjectRowMarksFinalMark\">\n                                <Mark size=\"16\" val={period.final_mark.toString()} is_routine={false} fontSize=\"12\"/>\n                            </div>\n                            }\n                            <div className=\"avg\">\n                                {isNaN(avg) ? null : avg}\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"marksRow\">\n                        {marks}\n                    </div>\n                    <div className=\"marksAdviceRowContainer\">\n                        <AdvisesRow\n                            expectedMark={this.props.expectedMark}\n                            allMarks={marksDataframe}\n                            avg={(avg - 0)}\n                        />\n                    </div>\n                </div>\n            );\n        };\n\n        let generateSubjectsFields = (currentPeriod) => {\n            this.marksData.data.forEach(subject => {\n                if (subject.periods.length !== 0)\n                    subjectsFields.push(generateSubject(subject, currentPeriod));\n            })\n        };\n\n        generateSubjectsFields(currentTab);\n\n        let drawLastMarks = () => {\n            if (this.state.errorLastMarks) {\n                return (\n                    <p className=\"errorLastMarks\">Не удалось загрузить последние оценки из-за непредвиденной ошибки.</p>\n                )\n            } else {\n                if (this.lastMarksData.data.length !== 0 && this.lastMarksData.data.lessons.length !== 0) {\n                    let lastMarks = [];\n                    Object.keys(this.lastMarksData.data.dates).forEach(date => {\n                        this.lastMarksData.data.dates[date].forEach(mark => {\n                            let label;\n\n                            let day = turnIntoDate(mark.date);\n                            let today = new Date();\n                            let shift = today.getDate() - day.getDate();\n\n                            if (shift === 0) label = \"Сегодня\";\n                            else if (shift === 1) label = \"Вчера\";\n                            else label = false;\n\n                            lastMarks.push(\n                                <Div className=\"lastMarkContainer\">\n                                    <div className=\"lastMarkVal\">\n                                        <Mark size=\"32\" val={mark.value.toString()} is_routine={false} fontSize=\"20\"/>\n                                    </div>\n                                    <div className=\"lastMarkSubject\">{mark.subject}</div>\n                                    {label && <div className=\"lastMarkDate\"\n                                                   style={{\n                                                       backgroundColor: label === \"Сегодня\"\n                                                           ? \"#5690ff\"\n                                                           : \"#f6f6f6\"\n                                                       , color: label === \"Вчера\" && \"#999999\"\n                                                   }}>{label}</div>}\n                                </Div>\n                            );\n                        });\n                    });\n                    return (\n                        <div>\n                            <Div className=\"marksBlocksTitle\">\n                                ПОСЛЕДНИЕ ОЦЕНКИ\n                            </Div>\n                            <HorizontalScroll className=\"lastMarksContainer\">\n                                {lastMarks.reverse()}\n                            </HorizontalScroll>\n                        </div>\n                    );\n                } else {\n                    return null;\n                }\n            }\n        };\n\n        return (\n            <div id={currentTab}>\n                {drawLastMarks()}\n                <Div className=\"marksBlocksTitle\">\n                    ВСЕ ОЦЕНКИ\n                </Div>\n                {subjectsFields}\n            </div>\n        );\n    };\n\n    drawResultTab = () => {\n        let subjectFields = [];\n\n        let drawSubjectField = (subject) => {\n            let periods = subject.periods.length;\n            let marks = [];\n            for (let i = 0; i < periods; i++) {\n                marks.push(subject.periods[i].final_mark);\n            }\n            let renderedMarks = [];\n            marks.forEach(mark => {\n                if (mark)\n                    renderedMarks.push(\n                        <div className=\"resultMarksContainerMark\">\n                            <Mark size=\"24\" val={mark.toString()} is_routine={true} fontSize=\"12\" short={true}/>\n                        </div>\n                    )\n            });\n\n            return (\n                <Div className=\"resultMarksContainer\">\n                    <div className=\"resultMarksContainerSubject\">{subject.name}</div>\n                    <div className=\"resultMarksContainerMarks\">\n                        {renderedMarks}\n                        <div className=\"resultMarksContainerResultedMark\">\n                            <div className=\"resultMarksContainerResultedTitle\">\n                                Итог\n                            </div>\n                            {subject.year_mark ?\n                                <Mark size=\"24\" val={subject.year_mark.toString()} is_routine={false} fontSize=\"12\"\n                                      short={true}/>\n                                : null}\n                        </div>\n                    </div>\n                </Div>\n            );\n        };\n\n        this.marksData.data.forEach(subject => {\n            if (subject.periods.length !== 0)\n                subjectFields.push(drawSubjectField(subject));\n        });\n\n        return (\n            <div>\n                {subjectFields}\n            </div>\n        )\n    };\n\n    render() {\n        return (\n            <Panel id={this.props.id}>\n                <PanelHeader noShadow={true}>\n                    Оценки\n                </PanelHeader>\n                {this.state.error ?\n                    <p className=\"marksScreenError\">Непредвиденная ошибка. Пожалуйста, попробуйте позже.</p>\n                    :\n                    <div className=\"marksScreen\">\n                        <Div>\n                            <Tabs theme=\"header\" type=\"buttons\" className=\"marksTabs\">\n                                {this.drawTabsItem()}\n                                <TabsItem\n                                    onClick={() => this.setState({activeTab: 'result'})}\n                                    selected={this.state.activeTab === 'result'}\n                                >\n                                    Итоговые\n                                </TabsItem>\n                            </Tabs>\n                        </Div>\n                        {this.state.ready ? this.tabs[this.state.activeTab - 1] : this.drawSpinner()}\n                        {this.state.activeTab === 'result' ? this.drawResultTab() : null}\n                    </div>\n                }\n            </Panel>\n        )\n    }\n\n}\n\nMarks.propTypes = {\n    id: PropTypes.string.isRequired,\n    getMarks: PropTypes.func.isRequired,\n    getLastMarks: PropTypes.func.isRequired,\n    profile: PropTypes.any.isRequired,\n    appData: PropTypes.any.isRequired,\n    openModal: PropTypes.func.isRequired,\n    closeModal: PropTypes.func.isRequired,\n    expectedMark: PropTypes.string.isRequired,\n};\n\nexport default Marks;","import React from 'react';\nimport {View, ModalRoot, ModalPageHeader, withPlatform, ANDROID, IOS, HeaderButton, ModalPage} from '@vkontakte/vkui';\nimport Marks from '../panels/marks'\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\nimport \"./styles/Marks.css\"\n\nimport {connect} from \"react-redux\";\nimport {getLastMarks, getMarks} from \"../redux/actions/AppLogicAction\";\n\nclass MarksView extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            modalMarks: null,\n            modalSubject: \"\",\n            modalContent: {},\n            activeModal: null,\n        };\n        this.closeModal = () => {\n            this.setState({activeModal: null})\n        };\n    }\n\n    setModalMark = (modal, name) => {\n        this.setState({\n            modalSubject: name,\n            modalContent: modal,\n            activeModal: \"modalMark\",\n        })\n    };\n\n    render() {\n        let modal =\n            <ModalRoot activeModal={this.state.activeModal}>\n                <ModalPage\n                    id=\"modalMark\"\n                    onClose={this.closeModal}\n                    settlingHeight={50}\n                    dynamicContentHeight={true}\n                    header={\n                        <ModalPageHeader\n                            left={\n                                <HeaderButton onClick={this.closeModal}><Icon24Cancel\n                                    style={{color: \"#999999\"}}/></HeaderButton>}\n                        >\n                            {this.state.modalSubject}\n                        </ModalPageHeader>\n                    }>\n                    {this.state.modalContent}\n                </ModalPage>\n            </ModalRoot>\n        ;\n        return (\n            <View activePanel={this.props.activePanel}\n                  modal={modal}>\n                <Marks id=\"marks\"\n                       profile={this.props.profile}\n                       appData={this.props.appLogic}\n                       getMarks={this.props.getMarksAction}\n                       getLastMarks={this.props.getLastMarksAction}\n                       openModal={this.setModalMark}\n                       closeModal={this.closeModal}\n                       expectedMark={this.props.expectedMark}\n                />\n            </View>\n        )\n    }\n}\n\nconst mapStateToProps = store => {\n    // console.log(\"Marks View\", store);\n    return {\n        activePanel: store.activePanel,\n        profile: store.profile,\n        appLogic: store.appLogic,\n        expectedMark: store.expectedMark,\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        getMarksAction: (userId, secret, student_id) => {\n            dispatch(getMarks(userId, secret, student_id))\n        },\n        getLastMarksAction: (userId, secret, student_id) => {\n            dispatch(getLastMarks(userId, secret, student_id))\n        }\n    }\n};\n\nwithPlatform(MarksView);\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(MarksView);","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport \"./scheduleWeekBar.css\"\nimport {Button, Div} from \"@vkontakte/vkui\";\n\nclass ScheduleWeekBar extends React.Component {\n    constructor() {\n        super();\n    }\n\n    render() {\n        this.day = (this.props.selectedDay <= this.props.weekDuration - 1 ?\n            this.props.selectedDay\n            :   this.props.weekDuration - 1);\n        return (\n            <Div className=\"scheduleWeekTopBar\">\n                <div className=\"scheduleWeekDay\">\n                    <span>ПН</span>\n                    <Button level=\"tertiary\" style={{margin: 0, padding: 0, color: \"#fff\"}}\n                            onClick={() => this.props.clickFunc(0)}>\n                        <div\n                            className={`scheduleWeekDayDate ${this.day === 0 ? 'scheduleWeekDaySelected' : null}`}>\n                            {this.props.dates[0]}\n                        </div>\n                    </Button>\n                </div>\n                <div className=\"scheduleWeekDay\">\n                    <span>ВТ</span>\n                    <Button level=\"tertiary\" style={{margin: 0, padding: 0, color: \"#fff\"}}\n                            onClick={() => this.props.clickFunc(1)}>\n                        <div\n                            className={`scheduleWeekDayDate ${this.day === 1 ? 'scheduleWeekDaySelected' : null}`}>\n                            {this.props.dates[1]}\n                        </div>\n                    </Button>\n                </div>\n                <div className=\"scheduleWeekDay\">\n                    <span>СР</span>\n                    <Button level=\"tertiary\" style={{margin: 0, padding: 0, color: \"#fff\"}}\n                            onClick={() => this.props.clickFunc(2)}>\n                        <div\n                            className={`scheduleWeekDayDate ${this.day === 2 ? 'scheduleWeekDaySelected' : null}`}>\n                            {this.props.dates[2]}\n                        </div>\n                    </Button>\n                </div>\n                <div className=\"scheduleWeekDay\">\n                    <span>ЧТ</span>\n                    <Button level=\"tertiary\" style={{margin: 0, padding: 0, color: \"#fff\"}}\n                            onClick={() => this.props.clickFunc(3)}>\n                        <div\n                            className={`scheduleWeekDayDate ${this.day === 3 ? 'scheduleWeekDaySelected' : null}`}>\n                            {this.props.dates[3]}\n                        </div>\n                    </Button>\n                </div>\n                <div className=\"scheduleWeekDay\">\n                    <span>ПТ</span>\n                    <Button level=\"tertiary\" style={{margin: 0, padding: 0, color: \"#fff\"}}\n                            onClick={() => this.props.clickFunc(4)}>\n                        <div\n                            className={`scheduleWeekDayDate ${this.day === 4 ? 'scheduleWeekDaySelected' : null}`}>\n                            {this.props.dates[4]}\n                        </div>\n                    </Button>\n                </div>\n                {(\n                    this.props.weekDuration === 6 ?\n                        <div className=\"scheduleWeekDay\">\n                            <span>СБ</span>\n                            <Button level=\"tertiary\" style={{margin: 0, padding: 0, color: \"#fff\"}}\n                                    onClick={() => this.props.clickFunc(5)}>\n                                <div\n                                    className={`scheduleWeekDayDate ${this.day === 5 ? 'scheduleWeekDaySelected' : null}`}>\n                                    {this.props.dates[5]}\n                                </div>\n                            </Button>\n                        </div>\n                        :\n                        null\n                )}\n            </Div>\n\n        );\n    }\n}\n\nScheduleWeekBar.propTypes = {\n    selectedDay: PropTypes.number.isRequired,\n    weekDuration: PropTypes.number.isRequired,\n    dates: PropTypes.array.isRequired,\n    clickFunc: PropTypes.func.isRequired,\n};\n\nexport default ScheduleWeekBar;\n","import React from 'react';\n\nconst SubjectHWIcon = props => (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n            d=\"M5 3C3.89 3 3 3.89 3 5V19C3 20.11 3.89 21 5 21H19C20.11 21 21 20.11 21 19V5C21 3.89 20.11 3 19 3H5ZM5 5H19V19H5V5ZM7 7V9H17V7H7ZM7 11V13H17V11H7ZM7 15V17H14V15H7Z\"\n            fill=\"#A8ADAF\"/>\n    </svg>\n);\n\nexport default SubjectHWIcon","import React from 'react';\n\nconst SubjectRoomIcon = props => (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n            d=\"M12 11.5C11.337 11.5 10.7011 11.2366 10.2322 10.7678C9.76339 10.2989 9.5 9.66304 9.5 9C9.5 8.33696 9.76339 7.70107 10.2322 7.23223C10.7011 6.76339 11.337 6.5 12 6.5C12.663 6.5 13.2989 6.76339 13.7678 7.23223C14.2366 7.70107 14.5 8.33696 14.5 9C14.5 9.3283 14.4353 9.65339 14.3097 9.95671C14.1841 10.26 13.9999 10.5356 13.7678 10.7678C13.5356 10.9999 13.26 11.1841 12.9567 11.3097C12.6534 11.4353 12.3283 11.5 12 11.5ZM12 2C10.1435 2 8.36301 2.7375 7.05025 4.05025C5.7375 5.36301 5 7.14348 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 7.14348 18.2625 5.36301 16.9497 4.05025C15.637 2.7375 13.8565 2 12 2Z\"\n            fill=\"#A8ADAF\"/>\n    </svg>\n);\n\nexport default SubjectRoomIcon","import React from 'react';\n\nconst SubjectTopicIcon = props => (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n            d=\"M11 13.5V21.5H3V13.5H11ZM9 15.5H5V19.5H9V15.5ZM12 2L17.5 11H6.5L12 2ZM12 5.86L10.08 9H13.92L12 5.86ZM17.5 13C20 13 22 15 22 17.5C22 20 20 22 17.5 22C15 22 13 20 13 17.5C13 15 15 13 17.5 13ZM17.5 15C16.837 15 16.2011 15.2634 15.7322 15.7322C15.2634 16.2011 15 16.837 15 17.5C15 18.163 15.2634 18.7989 15.7322 19.2678C16.2011 19.7366 16.837 20 17.5 20C18.163 20 18.7989 19.7366 19.2678 19.2678C19.7366 18.7989 20 18.163 20 17.5C20 16.837 19.7366 16.2011 19.2678 15.7322C18.7989 15.2634 18.163 15 17.5 15Z\"\n            fill=\"#A8ADAF\"/>\n    </svg>\n);\n\nexport default SubjectTopicIcon","import React from 'react';\n\nconst SubjectModuleIcon = props => (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n            d=\"M16 5V11H21V5H16ZM10 11H15V5H10V11ZM16 18H21V12H16V18ZM10 18H15V12H10V18ZM4 18H9V12H4V18ZM4 11H9V5H4V11Z\"\n            fill=\"#A8ADAF\"/>\n    </svg>\n);\n\nexport default SubjectModuleIcon","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport \"./pullToRefreshContext.css\"\nimport Icon24Replay from '@vkontakte/icons/dist/24/replay';\n\nconst PullToRefreshContext = props => (\n    <div className=\"pullToRefreshContextContainer\">\n        <div className=\"pullToRefreshContextIconContainer\">\n            <Icon24Replay/>\n        </div>\n    </div>\n);\n\nPullToRefreshContext.propTypes = {};\n\nexport default PullToRefreshContext;","import {Gallery, Panel, PanelHeader, Div} from '@vkontakte/vkui';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/schedule.css\"\nimport Mark from \"../custom_components/mark\"\nimport CustomSpinner from \"../custom_components/customSpinner\"\nimport {getRusMonthName, scheduleGetDates, scheduleNextWeek, schedulePrevWeek} from \"../utils/utils\"\nimport ScheduleWeekBar from \"../custom_components/scheduleTopBar\"\nimport Icon24Chevron from '@vkontakte/icons/dist/24/chevron';\nimport SubjectHWIcon from \"../custom_components/icon-pack/SubjectHWIcon\"\nimport SubjectRoomIcon from \"../custom_components/icon-pack/SubjectRoomIcon\"\nimport SubjectTopicIcon from \"../custom_components/icon-pack/SubjectTopicIcon\"\nimport SubjectModuleIcon from \"../custom_components/icon-pack/SubjectModuleIcon\"\nimport PullToRefreshContext from \"../custom_components/pullToRefreshContext\"\n\nimport {PullToRefresh, PullDownContent, ReleaseContent, RefreshContent} from \"react-js-pull-to-refresh\";\n\n\nclass Schedule extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.dayDates = scheduleGetDates();\n        this.scheduleData = this.props.appData.journal;\n        let flag = this.props.appData.journal.data.length === 0;\n\n        this.state = {\n            currentDay: (new Date().getDay() <= 6 && new Date().getDay() > 0 ? new Date().getDay() - 1 : 0),\n            month: getRusMonthName(new Date().getMonth()),\n            weekDuration: (!flag ? this.scheduleData.data.days.length : 5),\n            ready: !flag,\n            error: false,\n            fetching: false,\n        };\n\n        if (flag)\n            this.loadData();\n    }\n\n    loadData = async () => {\n        this.props.getJournal(this.props.profile.id, this.props.profile.secret, this.dayDates[7], this.dayDates[8], this.props.profile.student.id);\n\n        let id = setInterval(() => {\n            if (this.props.appData.error) {\n                clearInterval(id);\n                this.setState({\n                    error: true,\n                    ready: true,\n                    fetching: false,\n                });\n            } else {\n                if (this.props.appData.journal.data.length !== 0) {\n                    this.scheduleData = this.props.appData.journal;\n                    clearInterval(id);\n                    this.setState({\n                        ready: true,\n                        weekDuration: (this.props.appData.journal.data.days.length < 5 ? 5 : this.props.appData.journal.data.days.length), // if holidays, length is equal to 0\n                        fetching: false,\n                    });\n                    return 0;\n                }\n            }\n        }, 200);\n    };\n\n    drawSpinner = () => {\n        return (\n            <CustomSpinner isInverse={false}/>\n        );\n    };\n\n    drawTopBar = () => { //FIXME\n        let clickFunc = day => {\n            this.setState({currentDay: day});\n        };\n        return (\n            <ScheduleWeekBar selectedDay={this.state.currentDay}\n                             weekDuration={(this.state.weekDuration === 0 ? 5 : this.state.weekDuration)}\n                             dates={this.dayDates}\n                             clickFunc={clickFunc}/>\n        );\n    };\n\n    generateScheduleTale = (day) => {\n        let generateSubjectTale = (subject) => {\n            let marks = [];\n            let homework = null;\n            let modalMarksPresentation = [];\n            if (subject) {\n                if (subject.marks) {\n                    subject.marks.forEach(mark => {\n                        marks.push( //Append weight here\n                            <div style={{marginRight: \"4px\"}}>\n                                <Mark size=\"24\" val={(mark.score ? mark.score.toString() : mark.value.toString())}\n                                      is_routine={false}\n                                      weight={(mark.weight ? mark.weight.toString() : \"1\")}\n                                      is_border={true}\n                                      short={true}\n                                      gradeSystem={mark.type}/>\n                            </div>\n                        );\n                        modalMarksPresentation.push(\n                            <div className=\"modalScheduleInfoRow\">\n                                <div className=\"modalScheduleInfoRowLeft\">\n                                    <Mark size=\"22\" val={(mark.score ? mark.score.toString() : mark.value.toString())}\n                                          is_routine={false} fontSize=\"14\"\n                                          weight={(mark.weight ? mark.weight.toString() : \"1\")}/>\n                                </div>\n                                <div className=\"modalScheduleInfoRowText\">\n                                    {(mark.score ? mark.score.toString() : mark.value.toString()) === \"Болел\" && \"Болел\"}\n                                    {(mark.score ? mark.score.toString() : mark.value.toString()) === \"Не был\" && \"Пропуск\"}\n                                </div>\n                            </div>\n                        );\n                    });\n                }\n                if (subject.assignments) {\n                    subject.assignments.forEach(assignment => {\n                        try {\n                            homework = assignment.text\n                        } catch (e) {\n\n                        }\n                    });\n                }\n            }\n            let modal = (\n                subject.time &&\n                <div>\n                    {subject.marks &&\n                    <div>\n                        <div className=\"modalScheduleTitle\">\n                            Сведения о предмете\n                        </div>\n                        {modalMarksPresentation}\n                    </div>}\n                    {homework &&\n                    <div>\n                        <div className=\"modalScheduleTitle\">\n                            Домашнее задание\n                        </div>\n                        <div className=\"modalScheduleInfoRow\">\n                            <div className=\"modalScheduleInfoRowLeft\">\n                                <SubjectHWIcon/>\n                            </div>\n                            <div className=\"modalScheduleInfoRowText\">\n                                {homework}\n                            </div>\n                        </div>\n                    </div>}\n                    {subject.room &&\n                    <div>\n                        <div className=\"modalScheduleTitle\">\n                            Кабинет\n                        </div>\n                        <div className=\"modalScheduleInfoRow\">\n                            <div className=\"modalScheduleInfoRowLeft\">\n                                <SubjectRoomIcon/>\n                            </div>\n                            <div className=\"modalScheduleInfoRowText\">\n                                {subject.room}\n                            </div>\n                        </div>\n                    </div>}\n                    {subject.label\n                        ? subject.label.title &&\n                        <div>\n                            <div className=\"modalScheduleTitle\">\n                                Тема урока\n                            </div>\n                            <div className=\"modalScheduleInfoRow\">\n                                <div className=\"modalScheduleInfoRowLeft\">\n                                    <SubjectTopicIcon/>\n                                </div>\n                                {subject.label.title}\n                                <div className=\"modalScheduleInfoRowText\">\n                                </div>\n                            </div>\n                        </div>\n                        : null}\n                    {subject.label ?\n                        subject.label.module &&\n                        <div>\n                            <div className=\"modalScheduleTitle\">\n                                Модуль\n                            </div>\n                            <div className=\"modalScheduleInfoRow\">\n                                <div className=\"modalScheduleInfoRowLeft\">\n                                    <SubjectModuleIcon/>\n                                </div>\n                                <div className=\"modalScheduleInfoRowText\">\n                                    {subject.label.module}\n                                </div>\n                            </div>\n                        </div>\n                        : null}\n                    <div className=\"modalEmptyElement\">\n                    </div>\n                </div>\n            );\n\n            return (\n                <Div className=\"scheduleSubjectTaleContainer\" style={{paddingBottom: 0}}>\n                    <div className=\"scheduleSubjectTale\" onClick={() => this.props.openModal(modal, subject.name)}>\n                        <div className=\"scheduleSubjectTaleNumber\">\n                            {subject.number}\n                        </div>\n                        <div className=\"scheduleSubjectTaleInfo\">\n                            <div className=\"scheduleSubjectTaleSubjectName\">\n                                {subject.name}\n                            </div>\n                            {homework ?\n                                <div className=\"scheduleSubjectTaleHomework\">\n                                    {homework}\n                                </div>\n                                : null}\n                            {\n                                subject.time ?\n                                    <div className=\"scheduleSubjectTaleTimetable\">\n                                        {subject.time[0]} - {subject.time[1]}\n                                    </div>\n                                    : null\n                            }\n                        </div>\n                        <div className=\"scheduleSubjectTaleMarks\">\n                            {\n                                marks.length > 2\n                                    ? marks.forEach((markDiv, iter) => {\n                                        markDiv.props.style.position = \"absolute\";\n                                        markDiv.props.style.left = 9 * iter;\n                                    })\n                                    : null\n                            }\n                            {marks}\n                        </div>\n                    </div>\n                </Div>\n            )\n        };\n\n        let subjectTales = [];\n\n        let subjects = day.subjects;\n        subjects.forEach((subject) => {\n            let sbj = generateSubjectTale(subject);\n            subjectTales.push(sbj)\n        });\n\n        subjectTales.push(\n            <div className=\"scheduleSubjectLastChild\">\n            </div>\n        );\n\n        return (\n            <div className=\"scheduleTale\">\n                {subjectTales}\n            </div>\n        );\n    };\n    generateEmptyTale = () => {\n        return (\n            <div className=\"scheduleTale\">\n                <p style={{textAlign: \"center\", color: \"#000000\"}}>Сегодня нет занятий</p>\n            </div>\n        )\n    };\n    generateErrorSchedule = () => {\n        return (\n            <div className=\"scheduleTale\">\n                <p className=\"scheduleTaleError\">Непредвиденная ошибка. Пожалуйста, попробуйте позже.</p>\n            </div>\n        )\n    };\n\n    generateSchedule = () => {\n        let days = this.scheduleData.data.days;\n        let tales = [];\n\n        if (this.state.error) {\n            for (let i = 0; i < 5; i++) {\n                tales.push(this.generateErrorSchedule());\n            }\n        } else {\n            days.forEach((day) => {\n                tales.push(this.generateScheduleTale(day));\n            });\n        }\n\n        if (tales.length === 0) {\n            for (let i = 0; i < 5; i++) {\n                tales.push(this.generateEmptyTale());\n            }\n        }\n\n        tales.push(<div></div>);\n        return tales\n    };\n\n    drawShedule = () => {\n        try {\n            if (this.state.currentDay === 0)\n                document.getElementById(\"scheduleWeekSwiperLeft\")\n                    .style.display = \"flex\";\n            else\n                document.getElementById(\"scheduleWeekSwiperLeft\")\n                    .style.display = \"none\";\n            if (this.state.currentDay >= (this.state.weekDuration < 5 ? 4 : this.state.weekDuration - 1))\n                document.getElementById(\"scheduleWeekSwiperRight\")\n                    .style.display = \"flex\";\n            else\n                document.getElementById(\"scheduleWeekSwiperRight\")\n                    .style.display = \"none\";\n\n            if (this.state.weekDuration === 6)\n                document.querySelector(\".Gallery__slide:last-child\").style.width = \"50px\";\n        } catch (e) {\n\n        }\n        return (\n            <Gallery\n                slideWidth=\"100%\"\n                className=\"scheduleSliderContainer\"\n                slideIndex={this.state.currentDay}\n                onChange={slideIndex => {\n                    // this.setState({\n                    //     currentDay: (slideIndex >= (this.state.weekDuration < 5 ?\n                    //         5 :\n                    //         this.state.weekDuration) ? slideIndex - 1 : slideIndex)\n                    // });\n                    this.setState({\n                        currentDay: (slideIndex >= (this.state.weekDuration < 5 ? 5 : this.state.weekDuration)\n                            ? slideIndex - 1\n                            : slideIndex)\n                    });\n                }}\n            >\n                {this.generateSchedule()}\n            </Gallery>\n        );\n    };\n\n\n    prevWeek = () => {\n        let newDatesArr = schedulePrevWeek(this.dayDates[7]);\n        this.props.getJournal(this.props.profile.id,\n            this.props.profile.secret,\n            newDatesArr[7],\n            newDatesArr[8],\n            this.props.profile.student.id);\n        this.dayDates = newDatesArr;\n        this.setState({\n            ready: false,\n            month: getRusMonthName(this.dayDates[7].getMonth()),\n            currentDay: (this.state.weekDuration < 5 ? this.state.weekDuration - 1 : 4),\n        });\n        document.getElementById(\"scheduleWeekSwiperLeft\")\n            .style.display = \"none\";\n\n        let id = setInterval(() => {\n                if (this.props.appData.error) {\n                    clearInterval(id);\n                    this.setState({error: true});\n                    this.setState({ready: true});\n                } else {\n                    if (this.props.appData.journal.data.length !== 0) {\n                        this.scheduleData = this.props.appData.journal;\n                        clearInterval(id);\n                        this.setState({\n                            ready: true,\n                            weekDuration: (this.props.appData.journal.data.days.length < 5 ? 5 : this.props.appData.journal.data.days.length),\n                        });\n\n                    }\n                }\n            },\n            200\n        );\n\n    };\n    nextWeek = () => {\n        let newDatesArr = scheduleNextWeek(this.dayDates[7]);\n        this.props.getJournal(this.props.profile.id,\n            this.props.profile.secret,\n            newDatesArr[7],\n            newDatesArr[8],\n            this.props.profile.student.id);\n        this.dayDates = newDatesArr;\n        this.setState({\n            ready: false,\n            month: getRusMonthName(this.dayDates[7].getMonth()),\n            currentDay: 0,\n        });\n        document.getElementById(\"scheduleWeekSwiperRight\")\n            .style.display = \"none\";\n\n        let id = setInterval(() => {\n            if (this.props.appData.error) {\n                clearInterval(id);\n                this.setState({error: true});\n                this.setState({ready: true});\n            } else {\n                if (this.props.appData.journal.data.length !== 0) {\n                    this.scheduleData = this.props.appData.journal;\n                    clearInterval(id);\n                    this.setState({\n                        ready: true,\n                        weekDuration: (this.props.appData.journal.data.days.length < 5 ? 5 : this.props.appData.journal.data.days.length),\n                    });\n                }\n            }\n        }, 200);\n    };\n\n    refresh = () => {\n        return new Promise((resolve, reject) => {\n            this.setState({fetching: true});\n            this.loadData();\n            setTimeout(() => {\n                let id = setInterval(() => {\n                    if (!this.state.fetching) {\n                        clearInterval(id);\n                        resolve();\n                    }\n                }, 400);\n            }, 400);\n        })\n            .then(r => {\n            })\n    };\n\n    render() {\n        return (\n            <Panel id={this.props.id} style={{backgroundColor: \"#5690ff\"}}>\n                <PanelHeader\n                    noShadow>\n                    <div className=\"scheduleHeaderMonth\">{this.state.month}</div>\n                </PanelHeader>\n                {this.drawTopBar()}\n                <Div id=\"scheduleWeekSwiperLeft\" onClick={this.prevWeek}>\n                    <div className=\"up\"></div>\n                    <div className=\"down\"></div>\n                    <div style={{transform: \"scaleX(-1)\"}}>\n                        <Icon24Chevron/>\n                    </div>\n                </Div>\n                <Div id=\"scheduleWeekSwiperRight\" onClick={this.nextWeek}>\n                    <div className=\"up\"></div>\n                    <div className=\"down\"></div>\n                    <Icon24Chevron/>\n                </Div>\n                <div className=\"pullToRefreshContainer\">\n                    {\n                        (this.state.ready\n                            ?\n                            <PullToRefresh\n                                pullDownContent={<PullDownContent\n                                    label=\"\"\n                                />}\n                                releaseContent={<ReleaseContent\n                                    label=\"\"\n                                />}\n                                refreshContent={<PullToRefreshContext/>}\n                                pullDownThreshold={75}\n                                onRefresh={this.refresh}\n                                triggerHeight={160}\n                                backgroundColor=\"#5690ff\"\n                                startInvisible={true}>\n                                {this.drawShedule()}\n                            </PullToRefresh>\n                            : this.drawSpinner())\n                    }\n                </div>\n            </Panel>\n        )\n    }\n}\n\nSchedule.propTypes = {\n    id: PropTypes.string.isRequired,\n    profile: PropTypes.any.isRequired,\n    getJournal: PropTypes.func.isRequired,\n    appData: PropTypes.any.isRequired,\n    openModal: PropTypes.func.isRequired,\n};\n\nexport default Schedule;","import React from 'react';\nimport {\n    HeaderButton,\n    withPlatform,\n    ANDROID,\n    IOS,\n    ModalPage,\n    ModalPageHeader,\n    ModalRoot,\n    View,\n} from '@vkontakte/vkui';\nimport Schedule from '../panels/schedule'\nimport {connect} from \"react-redux\";\nimport {getJournal} from \"../redux/actions/AppLogicAction\";\nimport \"./styles/Schedule.css\"\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\n\nclass ScheduleView extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            modalSubject: \"\",\n            modalContent: {},\n            activeModal: null,\n        };\n        this.closeModal = () => {\n            this.setState({activeModal: null})\n        };\n    }\n\n    setModalSchedule = (modal, name) => {\n        this.setState({\n            modalSubject: name,\n            modalContent: modal,\n            activeModal: \"modalSchedule\",\n        })\n    };\n\n    render() {\n        let modal =\n            <ModalRoot activeModal={this.state.activeModal}>\n                <ModalPage\n                    id=\"modalSchedule\"\n                    onClose={this.closeModal}\n                    settlingHeight={50}\n                    header={\n                        <ModalPageHeader\n                            left={\n                                <HeaderButton onClick={this.closeModal}><Icon24Cancel/></HeaderButton>}\n                        >\n                            {this.state.modalSubject}\n                        </ModalPageHeader>\n                    }>\n                    {this.state.modalContent}\n                </ModalPage>\n            </ModalRoot>\n        ;\n        return (\n            <View activePanel={(this.props.activePanel === \"auth\" ? \"schedule\" : this.props.activePanel)}\n                  modal={modal}>\n                <Schedule id=\"schedule\"\n                          profile={this.props.profile}\n                          getJournal={this.props.getJournalAction}\n                          appData={this.props.appLogic}\n                          openModal={this.setModalSchedule}\n                />\n            </View>\n        )\n    }\n}\n\nwithPlatform(ScheduleView);\n\nconst mapStateToProps = store => {\n    // console.log(\"Schedule View\", store);\n    return {\n        activePanel: store.activePanel,\n        profile: store.profile,\n        appLogic: store.appLogic,\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        getJournalAction: (userId, secret, start, end, student_id) => {\n            dispatch(getJournal(userId, secret, start, end, student_id))\n        }\n    }\n};\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ScheduleView);","import React from 'react';\n\nconst BigPlusIcon = props => (\n    <svg width=\"42\" height=\"42\" viewBox=\"0 0 42 42\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n              d=\"M35.8224 30.415C36.3826 30.1174 36.75 29.54 36.75 28.875V13.125C36.75 12.46 36.3826 11.8826 35.8224 11.585L21.9974 3.81509C21.7176 3.6051 21.3674 3.5 21 3.5C20.6326 3.5 20.2824 3.6051 20.0026 3.81509L6.17755 11.585C5.61743 11.8826 5.25 12.46 5.25 13.125V28.875C5.25 29.54 5.61743 30.1174 6.17755 30.415L20.0026 38.1849C20.2824 38.3949 20.6326 38.5 21 38.5C21.2166 38.5 21.4272 38.4635 21.621 38.3904C21.7558 38.3396 21.8825 38.271 21.9974 38.1849L35.8224 30.415ZM33.25 14L21 7L8.75 14V28L21 35L33.25 28V14Z\"\n              fill=\"white\"/>\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n              d=\"M29.75 22.25H22.25V29.75H19.75V22.25H12.25V19.75H19.75V12.25H22.25V19.75H29.75V22.25Z\" fill=\"white\"/>\n    </svg>\n);\n\nexport default BigPlusIcon;","import React from 'react';\n\nconst VKbot = props => (\n    <svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g filter=\"url(#filter0_d)\">\n            <circle cx=\"14\" cy=\"10\" r=\"10\" fill=\"white\"/>\n        </g>\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n              d=\"M20.3786 6.89022C20.4713 6.58122 20.3786 6.35416 19.9376 6.35416H18.4793C18.1084 6.35416 17.9375 6.5503 17.8448 6.76659C17.8448 6.76659 17.1032 8.57425 16.0526 9.74845C15.7127 10.0883 15.5582 10.1965 15.3728 10.1965C15.2801 10.1965 15.1459 10.0883 15.1459 9.77936V6.89022C15.1459 6.51941 15.0383 6.35416 14.7293 6.35416H12.4376C12.2059 6.35416 12.0665 6.52626 12.0665 6.68936C12.0665 7.04088 12.5918 7.12194 12.6459 8.11076V10.2583C12.6459 10.7292 12.5609 10.8145 12.3755 10.8145C11.8811 10.8145 10.6785 8.99879 9.96527 6.92111C9.82549 6.51728 9.6853 6.35416 9.31259 6.35416H7.85425C7.43759 6.35416 7.35425 6.5503 7.35425 6.76659C7.35425 7.15286 7.84866 9.06866 9.65629 11.6025C10.8614 13.3328 12.5593 14.2708 14.1043 14.2708C15.0312 14.2708 15.1459 14.0625 15.1459 13.7036V12.3958C15.1459 11.9792 15.2337 11.896 15.5273 11.896C15.7436 11.896 16.1144 12.0041 16.9796 12.8384C17.9684 13.8272 18.1314 14.2708 18.6876 14.2708H20.1459C20.5626 14.2708 20.7709 14.0625 20.6507 13.6514C20.5192 13.2416 20.0471 12.6471 19.4207 11.9423C19.0808 11.5407 18.5709 11.1081 18.4164 10.8917C18.2001 10.6137 18.2619 10.49 18.4164 10.2429C18.4164 10.2429 20.1932 7.73995 20.3786 6.89022Z\"\n              fill=\"url(#paint0_linear)\"/>\n        <defs>\n            <filter id=\"filter0_d\" x=\"0\" y=\"0\" width=\"28\" height=\"28\" filterUnits=\"userSpaceOnUse\"\n                    color-interpolation-filters=\"sRGB\">\n                <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset dy=\"4\"/>\n                <feGaussianBlur stdDeviation=\"2\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0\"/>\n                <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\n                <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect1_dropShadow\" result=\"shape\"/>\n            </filter>\n            <linearGradient id=\"paint0_linear\" x1=\"14.0194\" y1=\"6.35416\" x2=\"14.0194\" y2=\"14.2708\"\n                            gradientUnits=\"userSpaceOnUse\">\n                <stop stop-color=\"#69A9E6\"/>\n                <stop offset=\"1\" stop-color=\"#3277B2\"/>\n            </linearGradient>\n        </defs>\n    </svg>\n);\n\nexport default VKbot;","import {Div, Button, Panel, PanelHeader, FixedLayout} from '@vkontakte/vkui';\nimport connect from '@vkontakte/vkui-connect';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/plus.css\"\n\nimport InviteUserContainer from \"../custom_components/inviteUserContainer\"\nimport BigPlusIcon from \"../custom_components/icon-pack/BigPlusIcon\"\nimport TGbot from \"../custom_components/icon-pack/TGbot\"\nimport VKbot from \"../custom_components/icon-pack/VKbot\"\nimport AliceBot from \"../custom_components/icon-pack/AliceBot\"\n\nimport Shaverma from \"../custom_components/icon-pack/Shaverma\"\nimport PlusInvitationIcon from \"../custom_components/icon-pack/PlusInvitaionIcon\"\nimport PlusNotificationIcon from \"../custom_components/icon-pack/PlusNotificationIcon\"\n\n\nclass Plus extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            currentDay: (this.props.currentDay ? this.props.currentDay : 1),\n        };\n\n        this.appId = 0;\n        this.action = \"pay-to-group\";\n        this.groupId = 0;\n    }\n\n    doPay = () => {\n        let json = {\n            app_id: this.appId,\n            action: this.action,\n            params: {\n                action: this.action,\n                amount: 1,\n                description: \"Buying subscription\",\n                data: {},\n                group_id: this.groupId\n            }\n        };\n\n        let response = connect.send(\"VKWebAppOpenPayForm\",\n            JSON.stringify(json))\n    };\n\n    render() {\n        return (\n            <Panel id={this.props.id}>\n                <PanelHeader\n                    noShadow={true}\n                    left={<Div style={{fontWeight: 'bold', fontSize: '20px'}}><span>Booklet Plus</span></Div>}>\n                </PanelHeader>\n                <FixedLayout style={{width: \"100%\"}}>\n                    <Div className=\"plusBlueBack\">\n                        <span>Расширь возможности своего дневника</span>\n                        <BigPlusIcon/>\n                    </Div>\n                </FixedLayout>\n                <div style={{padding: \"0 16px 0 16px\", marginBottom: \"8px\"}}>\n                    <Button level=\"tertiary\" className=\"plusVkContainer\">\n                        <div style={{height: \"34px\", display: \"flex\", alignItems: \"end\"}}>\n                            <VKbot/>\n                        </div>\n                        <div className=\"plusBotTextContainer\">\n                            Бот для ВКонтакте\n                        </div>\n                    </Button>\n                </div>\n                {/*<div style={{padding: \"0 16px 0 16px\", marginBottom: \"8px\"}}>*/}\n                {/*    <Button level=\"tertiary\" className=\"plusTelegramContainer\">*/}\n                {/*        <div style={{height: \"34px\", display: \"flex\", alignItems: \"end\"}}>*/}\n                {/*            <TGbot/>*/}\n                {/*        </div>*/}\n                {/*        <div className=\"plusBotTextContainer\">*/}\n                {/*            Бот для Телеграм*/}\n                {/*        </div>*/}\n                {/*    </Button>*/}\n                {/*</div>*/}\n                {/*<div style={{padding: \"0 16px 0 16px\", marginBottom: \"8px\"}}>*/}\n                {/*    <Button level=\"tertiary\" className=\"plusAliceContainer\">*/}\n                {/*        <div style={{height: \"34px\", display: \"flex\", alignItems: \"end\"}}>*/}\n                {/*            <AliceBot/>*/}\n                {/*        </div>*/}\n                {/*        <div className=\"plusBotTextContainer\">*/}\n                {/*            Навык для Алисы*/}\n                {/*        </div>*/}\n                {/*    </Button>*/}\n                {/*</div>*/}\n                {/*<div className=\"plusOfferContainer\">*/}\n                {/*    <Div className=\"plusOfferInfo\">*/}\n                {/*        <span className=\"plusOfferTitle\">*/}\n                {/*            <div style={{marginRight: \"10px\"}}>*/}\n                {/*                <PlusInvitationIcon/>*/}\n                {/*            </div>*/}\n                {/*            Бесплатный доступ к уведомлениям*/}\n                {/*        </span>*/}\n                {/*        <span className=\"plusOfferText\">*/}\n                {/*            Пригласите пятерых друзей и получите звездюлей*/}\n                {/*        </span>*/}\n                {/*        <div className=\"plusOfferAdditional\">*/}\n                {/*            <InviteUserContainer inputColor={[\"rgb(21 237 237)\", \"rgb(2 156 245)\"]}*/}\n                {/*                                 is_invited={true}*/}\n                {/*                                 shadowColor=\"rgb(17 221 239)\"/>*/}\n                {/*            <InviteUserContainer inputColor={[\"rgb(32 217 110)\", \"rgb(39 174 96)\"]}*/}\n                {/*                                 shadowColor=\"rgb(32 217 110)\"/>*/}\n                {/*            <InviteUserContainer inputColor={[\"rgb(255 223 64)\", \"rgb(255 131 89)\"]}*/}\n                {/*                                 shadowColor=\"rgb(255 203 70)\"/>*/}\n                {/*            <InviteUserContainer inputColor={[\"rgb(255 124 110)\", \"rgb(245 49 127)\"]}*/}\n                {/*                                 shadowColor=\"rgb(250 89 118)\"/>*/}\n                {/*            <InviteUserContainer inputColor={[\"rgb(255 99 222)\", \"rgb(177 34 229)\"]}*/}\n                {/*                                 shadowColor=\"rgb(232 80 225)\"/>*/}\n                {/*        </div>*/}\n                {/*    </Div>*/}\n                {/*    <Button level=\"tertiary\" className=\"plusButton\"*/}\n                {/*            style={{background: \"linear-gradient(rgb(77 229 101), rgb(74 195 122))\"}}>*/}\n                {/*        Пригласить друзей*/}\n                {/*    </Button>*/}\n                {/*</div>*/}\n                {/*<div className=\"plusOfferContainer\">*/}\n                {/*    <Div className=\"plusOfferInfo\">*/}\n                {/*        <span className=\"plusOfferTitle\">*/}\n                {/*            <div style={{marginRight: \"10px\"}}>*/}\n                {/*                <PlusNotificationIcon/>*/}\n                {/*            </div>*/}\n                {/*            Уведомления*/}\n                {/*        </span>*/}\n                {/*        <span className=\"plusOfferText\">*/}\n                {/*            — Новые оценки*/}\n                {/*        </span>*/}\n                {/*        <span className=\"plusOfferText\">*/}\n                {/*            — Текущий/следующий урок*/}\n                {/*        </span>*/}\n                {/*        <span className=\"plusOfferText\">*/}\n                {/*            — События в классе*/}\n                {/*        </span>*/}\n                {/*        <span className=\"plusOfferText\">*/}\n                {/*            — Отчётность за день*/}\n                {/*        </span>*/}\n                {/*        <div className=\"plusOfferAdditional\">*/}\n                {/*            <div className=\"plusShaverma\">*/}\n                {/*                <Shaverma/>*/}\n                {/*            </div>*/}\n                {/*            <span className=\"plusOfferText\">*/}\n                {/*                149 рублей за год — как шаверма в центре Москвы*/}\n                {/*            </span>*/}\n                {/*        </div>*/}\n                {/*    </Div>*/}\n                {/*    <Button level=\"tertiary\" className=\"plusButton\">*/}\n                {/*        Купить — 149 руб.*/}\n                {/*    </Button>*/}\n                {/*</div>*/}\n            </Panel>\n        );\n    }\n}\n\n\nPlus.propTypes = {\n    id: PropTypes.string.isRequired,\n};\n\nexport default Plus;","import React from 'react';\nimport {View} from '@vkontakte/vkui';\nimport Plus from \"../panels/plus\";\nimport {connect} from \"react-redux\";\n\nclass PlusView extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <View activePanel={this.props.activePanel}>\n                <Plus  id=\"plus\"/>\n            </View>\n        )\n    }\n}\n\nconst mapStateToProps = store => {\n    // console.log(\"Plus View\", store);\n    return {\n        activePanel: store.activePanel,\n        profile: store.profile,\n    }\n};\n\nexport default connect(mapStateToProps)(PlusView)","import React from 'react';\n\nconst VKSettingsIcon = props => (\n    <svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <rect width=\"28\" height=\"28\" rx=\"14\" fill=\"#5181B8\"/>\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n              d=\"M20.6787 10.5417C20.7761 10.2294 20.6787 10 20.2156 10H18.684C18.2945 10 18.115 10.1982 18.0176 10.4168C18.0176 10.4168 17.2387 12.2435 16.1354 13.43C15.7784 13.7735 15.6161 13.8828 15.4214 13.8828C15.3241 13.8828 15.1831 13.7735 15.1831 13.4613V10.5417C15.1831 10.167 15.0701 10 14.7456 10H12.3387C12.0954 10 11.949 10.1739 11.949 10.3387C11.949 10.694 12.5007 10.7759 12.5575 11.7751V13.9453C12.5575 14.4211 12.4682 14.5073 12.2735 14.5073C11.7543 14.5073 10.4913 12.6725 9.74221 10.5729C9.59541 10.1648 9.44817 10 9.05673 10H7.52513C7.08753 10 7 10.1982 7 10.4168C7 10.8071 7.51925 12.7431 9.41771 15.3035C10.6833 17.0521 12.4665 18 14.0892 18C15.0627 18 15.1832 17.7895 15.1832 17.4268V16.1053C15.1832 15.6842 15.2754 15.6002 15.5837 15.6002C15.8108 15.6002 16.2003 15.7095 17.109 16.5525C18.1474 17.5517 18.3186 18 18.9028 18H20.4344C20.872 18 21.0908 17.7895 20.9646 17.374C20.8264 16.9599 20.3306 16.3592 19.6727 15.647C19.3157 15.2411 18.7803 14.804 18.618 14.5853C18.3908 14.3043 18.4557 14.1794 18.618 13.9296C18.618 13.9296 20.484 11.4004 20.6787 10.5417Z\"\n              fill=\"white\"/>\n    </svg>\n);\n\nexport default VKSettingsIcon;","import React from 'react';\n\nconst SettingsNotificationsIcon = props => (\n    <svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <rect width=\"28\" height=\"28\" rx=\"14\" fill=\"#5690FF\"/>\n        <path\n            d=\"M17 17.75H10.25V12.875C10.25 11 11.75 9.5 13.625 9.5C15.5 9.5 17 11 17 12.875V17.75ZM18.5 17V12.875C18.5 10.5725 16.895 8.645 14.75 8.135V7.625C14.75 7.32663 14.6315 7.04048 14.4205 6.8295C14.2095 6.61853 13.9234 6.5 13.625 6.5C13.3266 6.5 13.0405 6.61853 12.8295 6.8295C12.6185 7.04048 12.5 7.32663 12.5 7.625V8.135C10.3475 8.645 8.75 10.5725 8.75 12.875V17L7.25 18.5V19.25H20V18.5L18.5 17ZM13.625 21.5C14.0228 21.5 14.4044 21.342 14.6857 21.0607C14.967 20.7794 15.125 20.3978 15.125 20H12.125C12.125 20.3978 12.283 20.7794 12.5643 21.0607C12.8456 21.342 13.2272 21.5 13.625 21.5Z\"\n            fill=\"white\"/>\n    </svg>\n);\n\nexport default SettingsNotificationsIcon;","import React from 'react';\n\nconst DarkThemeIcon = props => (\n    <svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <rect width=\"28\" height=\"28\" rx=\"14\" fill=\"#5690FF\"/>\n        <path\n            d=\"M17.8334 8.72666L16.1467 10.02L16.7534 12.06L15 10.8533L13.2467 12.06L13.8534 10.02L12.1667 8.72666L14.2934 8.66666L15 6.66666L15.7067 8.66666L17.8334 8.72666ZM20.1667 13.3333L19.0734 14.1667L19.4667 15.4867L18.3334 14.7067L17.2 15.4867L17.5934 14.1667L16.5 13.3333L17.8734 13.3L18.3334 12L18.7934 13.3L20.1667 13.3333ZM18.6467 16.6333C19.2 16.58 19.7934 17.3667 19.44 17.8667C19.2267 18.1667 19 18.4467 18.72 18.7133C16.1134 21.3333 11.8934 21.3333 9.29338 18.7133C6.68671 16.1133 6.68671 11.8867 9.29338 9.28666C9.56005 9.01999 9.84005 8.77999 10.14 8.56666C10.64 8.21332 11.4267 8.80666 11.3734 9.35999C11.1934 11.2667 11.8334 13.2467 13.3 14.7067C14.76 16.1733 16.7334 16.8133 18.6467 16.6333ZM17.5534 17.98C15.6667 17.8733 13.8 17.0933 12.3534 15.6667C10.9067 14.2067 10.1334 12.3333 10.0267 10.4533C8.15338 12.5467 8.22671 15.76 10.2334 17.7733C12.2467 19.78 15.46 19.8533 17.5534 17.98Z\"\n            fill=\"white\"/>\n    </svg>\n);\n\nexport default DarkThemeIcon;","import React from 'react';\n\nconst BookletCheck = props => (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n              d=\"M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0Z\"\n              fill=\"#5690FF\"/>\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n              d=\"M8 15L3 9.99999L4.41 8.58999L8 12.17L15.59 4.57999L17 5.99999L8 15Z\" fill=\"white\"/>\n    </svg>\n);\n\nexport default BookletCheck;","import React from 'react';\n\nconst GetOutIcon = props => (\n    <svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <rect width=\"28\" height=\"28\" rx=\"14\" fill=\"#FF4939\"/>\n        <path\n            d=\"M14.1812 11.5556C12.3688 11.5556 10.7274 12.1111 9.46214 13L7 11V16H13.1553L10.6795 13.9889C11.6302 13.3444 12.8407 12.9444 14.1812 12.9444C16.6023 12.9444 18.661 14.2278 19.3791 16L21 15.5667C20.0493 13.2389 17.3615 11.5556 14.1812 11.5556Z\"\n            fill=\"white\"/>\n    </svg>\n);\n\nexport default GetOutIcon;","import {Panel, PanelHeader, Button, Switch, Tooltip, Link, Snackbar, Separator} from '@vkontakte/vkui';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/settings.css\"\nimport VKSettingsIcon from \"../custom_components/icon-pack/VKSettingsIcon\"\nimport SettingsNotificationsIcon from \"../custom_components/icon-pack/SettingsNotificationsIcon\"\nimport DarkThemeIcon from \"../custom_components/icon-pack/DarkThemeIcon\"\nimport BookletCheck from \"../custom_components/icon-pack/BookletCheck\"\nimport Mark from \"../custom_components/mark\"\nimport GetOutIcon from \"../custom_components/icon-pack/GetOutIcon\"\nimport QuestionIcon from \"../custom_components/icon-pack/QuestionIcon\"\nimport Icon24Error from '@vkontakte/icons/dist/24/error';\nimport {unbind_user} from \"../redux/actions/ProfileAction\"\nimport connect from '@vkontakte/vk-connect-promise';\nimport {getVkParams} from \"../utils/utils\"\n\nconst axios = require('axios');\n\nclass Settings extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            tooltip: false,\n            snackbar: null,\n            ready: false,\n        };\n\n        this.settings = (localStorage.getItem(\"appSettings\") ? JSON.parse(localStorage.getItem(\"appSettings\")) : {});\n    }\n\n    signOut = () => {\n        console.log(\"sign out data\", this.props.profile.id, this.props.profile.secret);\n        unbind_user(this.props.profile.id, this.props.profile.secret);\n        localStorage.removeItem(\"userData\");\n        this.props.signOutClear();\n        this.props.setView(\"AuthorizationView\");\n        this.props.setPanel(\"choose_diary\");\n    };\n\n    askForNotifications = () => {\n        if (!this.settings) {\n            this.settings = {};\n        }\n        let vk_info = window.location.search.slice(1).split('&')\n            .map((queryParam) => {\n                let kvp = queryParam.split('=');\n                return {key: kvp[0], value: kvp[1]}\n            })\n            .reduce((query, kvp) => {\n                query[kvp.key] = decodeURIComponent(kvp.value);\n                return query\n            }, {});\n        if (this.settings.notifications) {\n            this.settings.notifications = false;\n            this.setState({\n                snackbar:\n                    <Snackbar\n                        layout=\"vertical\"\n                        onClose={() => this.setState({snackbar: null})}\n                        before={<SettingsNotificationsIcon/>}\n                        duration={1500}\n                    >\n                        Уведомления выключены\n                    </Snackbar>\n            });\n        } else {\n            console.log(\"vk info\", vk_info, vk_info.vk_are_notifications_enabled);\n            if (vk_info.vk_are_notifications_enabled === 0) {\n                connect.send(\"VKWebAppAllowNotifications\", {})\n                    .then(answer => {\n\n                    })\n            }\n            this.settings.notifications = true;\n            this.setState({\n                snackbar:\n                    <Snackbar\n                        layout=\"vertical\"\n                        onClose={() => this.setState({snackbar: null})}\n                        before={<SettingsNotificationsIcon/>}\n                        duration={1500}\n                    >\n                        Уведомления включены\n                    </Snackbar>\n            });\n        }\n        localStorage.setItem(\"appSettings\", JSON.stringify(this.settings));\n    };\n\n    subscribeGroup = () => {\n        connect.send(\"VKWebAppCallAPIMethod\", {\n            method: \"groups.isMember\",\n            request_id: \"group_subscription\",\n            params: {\n                group_id: \"171343913\",\n                user_id: getVkParams().vk_user_id,\n                v: \"5.101\",\n                access_token: \"f865feccf865feccf865fecc0cf80fafb0ff865f865fecca4ac75d0909fd9d72a2d0402\",\n            }\n        })\n            .then(resp => {\n                console.log(\"subscr\", resp);\n                if (resp.data.response === 1 || resp.data.member === 1) {\n                    console.log(\"here\");\n                    this.setState({\n                        snackbar:\n                            <Snackbar\n                                layout=\"vertical\"\n                                onClose={() => this.setState({snackbar: null})}\n                                before={<BookletCheck/>}\n                                duration={1500}\n                            >\n                                Вы уже подписались =)\n                            </Snackbar>\n                    });\n                } else {\n                    connect.send(\"VKWebAppJoinGroup\", {\"group_id\": 171343913});\n                }\n            })\n            .catch(err => console.log(err));\n    };\n\n    redButtonPush = () => {\n        let method = \"https://bklet.ml/api/helps/dev_assist/\";\n        let vk_info = window.location.search.slice(1).split('&')\n            .map((queryParam) => {\n                let kvp = queryParam.split('=');\n                return {key: kvp[0], value: kvp[1]}\n            })\n            .reduce((query, kvp) => {\n                query[kvp.key] = decodeURIComponent(kvp.value);\n                return query\n            }, {});\n        let json = {\n            id: this.props.profile.id,\n            secret: this.props.profile.secret,\n            vk_user_id: vk_info.vk_user_id\n        };\n\n        axios.post(method, json)\n            .then(res => {\n                this.setState({\n                    snackbar:\n                        <Snackbar\n                            layout=\"vertical\"\n                            onClose={() => this.setState({snackbar: null})}\n                            before={<Icon24Error style={{color: \"#ef464d\"}}/>}\n                            duration={1500}\n                        >\n                            Ваше сообщение получено, скоро всё исправим\n                        </Snackbar>\n                });\n            });\n    };\n\n    render() {\n        return (\n            <Panel id={this.props.id}>\n                <PanelHeader noShadow>\n                    Настройки\n                </PanelHeader>\n                <div className=\"groupSettingsContainer\">\n                    <div className=\"settingsTitleContainer\">\n                        <div className=\"settingsTitle\">\n                            Ссылки\n                        </div>\n                    </div>\n                    <Button level=\"tertiary\" className=\"settingsSettingContainer\">\n                        <VKSettingsIcon/>\n                        <div className=\"settingsSettingInfo\">\n                            <div className=\"settingsSettingTitle\" style={{color: \"#5181b8\"}}>\n                                <Link\n                                    href=\"vk://vk.com/bklet\"\n                                    target=\"_blank\"\n                                >\n                                    Группа ВК\n                                </Link>\n                            </div>\n                            <div className=\"settingsSettingSwitch\">\n                                <Button level=\"secondary\" onClick={this.subscribeGroup}>Подписаться</Button>\n                            </div>\n                        </div>\n                    </Button>\n                </div>\n                <div className=\"groupSettingsContainer\">\n                    <div className=\"settingsTitleContainer\">\n                        <div className=\"settingsTitle\">\n                            Дневник\n                        </div>\n                    </div>\n                    <Button level=\"tertiary\" className=\"settingsSettingContainer\" onClick={this.props.chooseMark}>\n                        <div style={{width: \"24px\"}}>\n                            <Mark size=\"24\" val={this.props.expectedMark.toString()} is_routine={false}/>\n                        </div>\n                        <div className=\"settingsSettingInfo\">\n                            <div className=\"settingsSettingTitle\">\n                                Желаемая оценка\n                            </div>\n                        </div>\n                    </Button>\n                    <div className=\"settingsSettingContainer\" style={{paddingRight: \"-16px\"}}>\n                        <SettingsNotificationsIcon/>\n                        <div className=\"settingsSettingInfo\">\n                            <div className=\"settingsSettingTitle\">\n                                Уведомления\n                            </div>\n                            <div>\n                                <Switch className=\"settingsSettingSwitcher\"\n                                        id=\"settingsNotificationsSwitcher\"\n                                        onChange={this.askForNotifications}\n                                        defaultChecked={this.settings\n                                            ? (this.settings.notifications\n                                                ? this.settings.notifications\n                                                : false)\n                                            : false\n                                        }\n                                />\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"settingsSettingContainer\" style={{paddingRight: \"-16px\"}}\n                         onClick={() => this.setState({tooltip: true})}>\n                        <DarkThemeIcon/>\n                        <div className=\"settingsSettingInfo\">\n                            <div className=\"settingsSettingTitle\">\n                                Тёмная тема\n                            </div>\n                            <div>\n                                <Tooltip\n                                    text=\"Обязательно появится в релизе\"\n                                    isShown={this.state.tooltip}\n                                    onClose={() => this.setState({tooltip: false})}\n                                    offsetX={-50}\n                                    offsetY={5}\n                                    cornerOffset={55}\n                                >\n                                    <Switch className=\"settingsSettingSwitcher\" disabled/>\n                                </Tooltip>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"groupSettingsContainer\">\n                    <Button level=\"tertiary\" className=\"settingsSettingContainer\">\n                        <Icon24Error style={{color: \"#ef464d\"}}/>\n                        <div className=\"settingsSettingInfo\">\n                            <div className=\"settingsSettingTitle\" style={{color: \"#ef464d\"}}\n                                 onClick={this.redButtonPush}>\n                                Красная кнопка\n                            </div>\n                            <div className=\"settingsSettingSwitch\">\n                                <Link\n                                    href=\"vk://vk.com/wall-171343913_127\"\n                                    target=\"_blank\"\n\n                                >\n                                    <QuestionIcon/>\n                                </Link>\n                            </div>\n                        </div>\n                    </Button>\n                    <Separator/>\n                    <Button level=\"tertiary\" className=\"settingsSettingContainer\" style={{marginTop: \"35px\"}}\n                            onClick={this.signOut}>\n                        <GetOutIcon/>\n                        <div className=\"settingsSettingInfo\">\n                            <div className=\"settingsSettingTitle\" style={{color: \"#ff4939\"}}>\n                                Выйти\n                            </div>\n                        </div>\n                    </Button>\n                </div>\n                {this.state.snackbar}\n            </Panel>\n        )\n    }\n}\n\nSettings.propTypes = {\n    id: PropTypes.string.isRequired,\n    expectedMark: PropTypes.number.isRequired,\n    chooseMark: PropTypes.func.isRequired,\n    setView: PropTypes.func.isRequired,\n    setPanel: PropTypes.func.isRequired,\n    signOutClear: PropTypes.func.isRequired,\n    profile: PropTypes.any.isRequired,\n};\n\nexport default Settings;","import React from 'react';\n\nconst PurposeMarkFive = props => (\n    <svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n            d=\"M28 14C28 21.732 21.732 28 14 28C6.26801 28 0 21.732 0 14C0 6.26801 6.26801 0 14 0C21.732 0 28 6.26801 28 14Z\"\n            fill=\"url(#paint0_linear)\"/>\n        <path\n            d=\"M10.425 14.4648L11.171 8H18.5561V9.84959H13.0787L12.7009 12.9146C13.3368 12.5741 14.0546 12.4038 14.8541 12.4038C16.1637 12.4038 17.1805 12.7943 17.9045 13.5752C18.6348 14.3561 19 15.4072 19 16.7283C19 18.0318 18.5971 19.0711 17.7912 19.8462C16.9853 20.6154 15.8804 21 14.4764 21C13.2172 21 12.1721 20.6682 11.341 20.0047C10.5163 19.3354 10.0693 18.4546 10 17.3625H12.2193C12.3075 17.9849 12.5467 18.4634 12.937 18.7981C13.3274 19.1269 13.8374 19.2913 14.4669 19.2913C15.1721 19.2913 15.7198 19.0565 16.1102 18.5867C16.5068 18.117 16.7051 17.477 16.7051 16.6667C16.7051 15.8857 16.4879 15.2692 16.0535 14.8171C15.6191 14.3591 15.021 14.1301 14.2592 14.1301C13.8437 14.1301 13.4911 14.1829 13.2015 14.2886C12.9119 14.3884 12.5971 14.5881 12.2571 14.8875L10.425 14.4648Z\"\n            fill=\"white\"/>\n        <defs>\n            <linearGradient id=\"paint0_linear\" x1=\"0\" y1=\"14\" x2=\"28\" y2=\"14\" gradientUnits=\"userSpaceOnUse\">\n                <stop stop-color=\"#1CB336\"/>\n                <stop offset=\"1\" stop-color=\"#72DE20\"/>\n            </linearGradient>\n        </defs>\n    </svg>\n);\n\nexport default PurposeMarkFive;","import React from 'react';\n\nconst PurposeMarkFour = props => (\n    <svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n            d=\"M28 14C28 21.732 21.732 28 14 28C6.26801 28 0 21.732 0 14C0 6.26801 6.26801 0 14 0C21.732 0 28 6.26801 28 14Z\"\n            fill=\"url(#paint1_linear)\"/>\n        <path\n            d=\"M17.0365 15.8482H18.6112V17.5447H17.0365V20.3636H14.9223V17.5447H9.44982L9.38892 16.2571L14.8527 7.69601H17.0365V15.8482ZM11.6075 15.8482H14.9223V10.5584L14.7657 10.8368L11.6075 15.8482Z\"\n            fill=\"white\"/>\n        <defs>\n            <linearGradient id=\"paint1_linear\" x1=\"0\" y1=\"14\" x2=\"28\" y2=\"14\" gradientUnits=\"userSpaceOnUse\">\n                <stop stop-color=\"#02CD84\"/>\n                <stop offset=\"1\" stop-color=\"#00E19D\"/>\n            </linearGradient>\n        </defs>\n    </svg>\n);\n\nexport default PurposeMarkFour;","import React from 'react';\n\nconst PurposeMarkThree = props => (\n    <svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n            d=\"M28 14C28 21.732 21.732 28 14 28C6.26801 28 0 21.732 0 14C0 6.26801 6.26801 0 14 0C21.732 0 28 6.26801 28 14Z\"\n            fill=\"url(#paint2_linear)\"/>\n        <path\n            d=\"M12.5756 13.5354H13.8012C14.4196 13.5296 14.9082 13.3616 15.2671 13.0314C15.6315 12.7012 15.8137 12.2233 15.8137 11.5976C15.8137 10.9951 15.6618 10.5287 15.3582 10.1985C15.06 9.86252 14.6018 9.69452 13.9834 9.69452C13.4424 9.69452 12.9979 9.85963 12.6501 10.1898C12.3023 10.5143 12.1284 10.9401 12.1284 11.4672H10.1159C10.1159 10.8184 10.2788 10.2275 10.6046 9.69452C10.9358 9.16154 11.3941 8.74733 11.9793 8.45187C12.57 8.15062 13.2298 8 13.9586 8C15.1622 8 16.1063 8.31863 16.7909 8.95588C17.481 9.58734 17.8261 10.4679 17.8261 11.5976C17.8261 12.1653 17.6522 12.7012 17.3043 13.2052C16.962 13.7034 16.5176 14.08 15.971 14.3349C16.6335 14.5724 17.136 14.9461 17.4783 15.4559C17.8261 15.9657 18 16.574 18 17.2807C18 18.4162 17.6273 19.32 16.882 19.992C16.1422 20.664 15.1677 21 13.9586 21C12.7992 21 11.8496 20.6756 11.1097 20.0267C10.3699 19.3779 10 18.5147 10 17.4372H12.0124C12.0124 17.9933 12.1891 18.4452 12.5424 18.7928C12.9013 19.1404 13.3816 19.3142 13.9834 19.3142C14.6073 19.3142 15.0987 19.1404 15.4576 18.7928C15.8164 18.4452 15.9959 17.9412 15.9959 17.2807C15.9959 16.6145 15.8081 16.1018 15.4327 15.7426C15.0573 15.3835 14.4997 15.2039 13.7598 15.2039H12.5756V13.5354Z\"\n            fill=\"white\"/>\n        <defs>\n            <linearGradient id=\"paint2_linear\" x1=\"0\" y1=\"14\" x2=\"28\" y2=\"14\" gradientUnits=\"userSpaceOnUse\">\n                <stop stop-color=\"#FF512F\"/>\n                <stop offset=\"1\" stop-color=\"#F09819\"/>\n            </linearGradient>\n        </defs>\n    </svg>\n);\n\nexport default PurposeMarkThree;","import React from 'react';\nimport {View, ActionSheet, ActionSheetItem, withPlatform, ANDROID, IOS,} from '@vkontakte/vkui';\nimport Settings from '../panels/settings'\nimport {connect} from \"react-redux\";\nimport {setMark} from \"../redux/actions/ExpectedMarkAction\";\nimport PurposeMarkFive from \"../custom_components/icon-pack/PurposeMarkFive\"\nimport PurposeMarkFour from \"../custom_components/icon-pack/PurposeMarkFour\"\nimport PurposeMarkThree from \"../custom_components/icon-pack/PurposeMarkThree\"\nimport \"./styles/Settings.css\"\nimport {setPanel} from \"../redux/actions/PanelAction\";\nimport {setView} from \"../redux/actions/ViewAction\";\nimport {clearProfile} from \"../redux/actions/ProfileAction\";\nimport {clearData} from \"../redux/actions/AppLogicAction\";\n\nclass SettingsView extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            popout: null,\n        };\n    }\n\n    chooseMark = () => {\n        this.setState({\n            popout:\n                <ActionSheet\n                    onClose={() => this.setState({popout: null})}\n                    title=\"Выбери желаемую оценку\"\n                >\n                    <ActionSheetItem autoclose\n                                     onClick={() => {\n                                         this.props.setMarkAction(5);\n                                     }}\n                                     before={<PurposeMarkFive/>}>\n                        Всегда стремись к лучшему =)\n                    </ActionSheetItem>\n                    <ActionSheetItem autoclose\n                                     onClick={() => {\n                                         this.props.setMarkAction(4);\n                                     }}\n                                     before={<PurposeMarkFour/>}>\n                        Не переоценивай себя ;)\n                    </ActionSheetItem>\n                    <ActionSheetItem autoclose\n                                     onClick={() => {\n                                         this.props.setMarkAction(3);\n                                     }}\n                                     before={<PurposeMarkThree/>}>\n                        Никогда не отчаивайся!\n                    </ActionSheetItem>\n                    {this.props.platform === IOS && <ActionSheetItem autoclose theme=\"cancel\">Cancel</ActionSheetItem>}\n                </ActionSheet>\n        });\n    };\n\n    render() {\n        return (\n            <View activePanel={(this.props.activePanel === \"auth\" ? \"settings\" : this.props.activePanel)}\n                  popout={this.state.popout}>\n                <Settings id=\"settings\"\n                          expectedMark={this.props.expectedMark}\n                          chooseMark={this.chooseMark}\n                          setView={this.props.setViewAction}\n                          setPanel={this.props.setPanelAction}\n                          profile={this.props.profile}\n                          signOutClear={this.props.signOutClear}\n                />\n            </View>\n        )\n    }\n}\n\nwithPlatform(SettingsView);\n\nconst mapStateToProps = store => {\n    // console.log(\"Settings View\", store);\n    return {\n        activePanel: store.activePanel,\n        profile: store.profile,\n        expectedMark: store.expectedMark\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        signOutClear: () => {\n            dispatch(clearProfile());\n            dispatch(clearData());\n        },\n        setMarkAction: mark => dispatch(setMark(mark)),\n        setPanelAction: panel => dispatch(setPanel(panel)),\n        setViewAction: view => dispatch(setView(view)),\n    }\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(SettingsView);","export function setMark(mark) {\n    return {\n        type: \"SET_MARK\",\n        value: mark\n    }\n}","import React from \"react\";\nimport { Epic, Tabbar, TabbarItem } from '@vkontakte/vkui';\nimport \"./styles/BottomBar.css\"\n\nimport AccountIcon from \"../custom_components/icon-pack/AccountIcon\"\nimport MarksIcon from \"../custom_components/icon-pack/MarksIcon\"\nimport ScheduleIcon from \"../custom_components/icon-pack/ScheduleIcon\"\nimport PlusIcon from \"../custom_components/icon-pack/PlusIcon\"\nimport SettingsIcon from \"../custom_components/icon-pack/SettingsIcon\"\n\n\nimport AccountView from \"./AccountView\";\nimport MarksView from \"./MarksView\";\nimport ScheduleView from \"./ScheduleView\";\nimport PlusView from \"./PlusView\";\nimport SettingsView from \"./SettingsView\";\nimport {setPanel} from \"../redux/actions/PanelAction\";\nimport {connect} from \"react-redux\";\n\n\nclass BottomBar extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            activeStory: 'Schedule',\n        };\n        this.onStoryChange = this.onStoryChange.bind(this);\n    }\n\n    onStoryChange(e) {\n        switch (e.currentTarget.dataset.story) {\n            case \"Account\":\n                this.props.setPanelAction(\"account\");\n                break;\n            case \"Marks\":\n                this.props.setPanelAction(\"marks\");\n                break;\n            case \"Schedule\":\n                this.props.setPanelAction(\"schedule\");\n                break;\n            case \"Plus\":\n                this.props.setPanelAction(\"plus\");\n                break;\n            case \"Settings\":\n                this.props.setPanelAction(\"settings\");\n                break;\n        }\n        this.setState({activeStory: e.currentTarget.dataset.story})\n    }\n\n    render() {\n        return (\n            <Epic className=\"bottomBarItself\" activeStory={this.state.activeStory} tabbar={\n                <Tabbar>\n                    <TabbarItem\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'Account'}\n                        data-story=\"Account\">\n                        <AccountIcon size=\"24\" selected={this.state.activeStory === 'Account'}/></TabbarItem>\n                    <TabbarItem\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'Marks'}\n                        data-story=\"Marks\">\n                        <MarksIcon size=\"24\" selected={this.state.activeStory === 'Marks'}/>\n                    </TabbarItem>\n                    <TabbarItem\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'Schedule'}\n                        data-story=\"Schedule\"\n                    ><ScheduleIcon size=\"24\" selected={this.state.activeStory === 'Schedule'}/></TabbarItem>\n                    {/*<TabbarItem*/}\n                    {/*    onClick={this.onStoryChange}*/}\n                    {/*    selected={this.state.activeStory === 'Plus'}*/}\n                    {/*    data-story=\"Plus\"*/}\n                    {/*><PlusIcon size=\"24\" selected={this.state.activeStory === 'Plus'}/></TabbarItem>*/}\n                    <TabbarItem\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'Settings'}\n                        data-story=\"Settings\"\n                    ><SettingsIcon size=\"24\" selected={this.state.activeStory === 'Settings'}/></TabbarItem>\n                </Tabbar>\n            }>\n                <AccountView id=\"Account\" >\n                </AccountView>\n                <MarksView id=\"Marks\" activePanel={this.props.activePanel}\n                           userId={this.props.userId}\n                           userSecret={this.props.userSecret}>\n                </MarksView>\n                <ScheduleView id=\"Schedule\" activePanel={this.props.activePanel}\n                              userId={this.props.userId}\n                              userSecret={this.props.userSecret}>\n                </ScheduleView>\n                <PlusView id=\"Plus\">\n                </PlusView>\n                <SettingsView id=\"Settings\">\n                </SettingsView>\n            </Epic>\n        )\n    }\n}\n\nconst mapStateToProps = store => {\n    // console.log(\"BottomBar\", store);\n    return {\n        activePanel: store.activePanel,\n        profile: store.profile,\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setPanelAction: panel => dispatch(setPanel(panel)),\n    }\n};\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(BottomBar);","import React from 'react';\nimport VKconnect from '@vkontakte/vk-connect-promise';\nimport {Root} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport {connect} from 'react-redux'\n\nimport AuthorizationView from \"./views/AuthorizationView\"\nimport BottomBar from \"./views/BottomBar\"\nimport {setUser} from \"./redux/actions/FetchedUserAction\";\nimport {getVkParams} from \"./utils/utils\";\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        let vk_params = getVkParams();\n\n        VKconnect.send(\"VKWebAppGetUserInfo\", {})\n            .then(resp => {\n                let user = resp.data;\n                user.vk_user_id = vk_params.vk_user_id;\n                user.notifications = vk_params.vk_are_notifications_enabled;\n                user.group = vk_params.vk_viewer_group_role;\n                this.props.setUserAction(user);\n            })\n            .catch(err => console.log(err))\n    }\n\n    render() {\n        return (\n            <Root activeView={this.props.activeView}>\n                <AuthorizationView\n                    id=\"AuthorizationView\"\n                >\n                </AuthorizationView>\n                <BottomBar id=\"MainView\"/>\n            </Root>\n        );\n    }\n}\n\nconst mapStateToProps = store => {\n    // console.log(\"App\", store);\n    return {\n        activeView: store.activeView,\n        activePanel: store.activePanel,\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setUserAction: user => dispatch(setUser(user)),\n    }\n};\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(App);\n","export function setUser(user) {\n    return {\n        type: \"SET_USER\",\n        data: user\n    }\n}","import connect from '@vkontakte/vk-connect-promise';\n\nlet initialState = (localStorage.getItem(\"userData\") ? \"MainView\" : \"AuthorizationView\");\n\nconnect.send(\"VKWebAppStorageGet\", {\n    \"keys\": [\"userData\"],\n})\n    .then(res => {\n        console.log(\"VK Storage Get Success\", res);\n        initialState = \"MainView\";\n    })\n    .catch(err => {\n        console.log(\"VK Storage Get Fail\", err);\n        initialState = (localStorage.getItem(\"userData\") ? \"MainView\" : \"AuthorizationView\");\n    });\n\nconst activeView = (state = initialState, action) => {\n    switch (action.type) {\n        case \"SET_VIEW\":\n            return action.value;\n\n        default:\n            return state;\n    }\n};\n\nexport default activeView;","import connect from \"@vkontakte/vk-connect-promise\";\n\nlet initialState = (localStorage.getItem(\"userData\") ? \"schedule\" : \"choose_diary\");\n\nconnect.send(\"VKWebAppStorageGet\", {\n    \"keys\": [\"userData\"],\n})\n    .then(res => {\n        console.log(\"VK Storage Get Success\", res);\n        initialState = \"schedule\";\n    })\n    .catch(err => {\n        console.log(\"VK Storage Get Fail\", err);\n        initialState = (localStorage.getItem(\"userData\") ? \"schedule\" : \"choose_diary\");\n    });\n\nconst activePanel = (state = initialState, action) => {\n    switch (action.type) {\n        case \"SET_PANEL\":\n            return action.value;\n\n        default:\n            return state;\n    }\n};\n\nexport default activePanel","const fetchedUser = (state = null, action) => {\n    switch (action.type) {\n        case \"SET_USER\":\n            return {\n                ...state,\n                ...action.data,\n            };\n        default:\n            return state;\n    }\n};\n\nexport default fetchedUser;","let initialState = (localStorage.getItem(\"appSettings\")\n        ? (JSON.parse(localStorage.getItem(\"appSettings\")).expectedMark\n            ? JSON.parse(localStorage.getItem(\"appSettings\")).expectedMark\n            : 5)\n        : 5\n);\n\nconst expectedMark = (state = initialState, action) => {\n    switch (action.type) {\n        case \"SET_MARK\":\n            let settings = (localStorage.getItem(\"appSettings\")\n                ? JSON.parse(localStorage.getItem(\"appSettings\"))\n                : {});\n            settings.expectedMark = action.value;\n            localStorage.setItem(\"appSettings\", JSON.stringify(settings));\n            return action.value;\n        default:\n            return state;\n    }\n};\n\nexport default expectedMark;","const initialState = {\n    journal: {\n        data: []\n    },\n    marks: {\n        data: []\n    },\n    lastMarks: {\n        data: []\n    },\n    isFetching: false,\n    error: false,\n    errorLastMarks: false,\n};\n\nfunction appLogic(state = initialState, action) {\n    switch (action.type) {\n        case \"GET_JOURNAL_REQUEST\":\n            return {\n                ...state,\n                journal: action.data,\n                isFetching: true,\n                error: false,\n            };\n        case \"GET_JOURNAL_SUCCESS\":\n            return {\n                ...state,\n                journal: action.data,\n                isFetching: false,\n                error: false,\n            };\n        case \"GET_JOURNAL_FAIL\":\n            return {\n                ...state,\n                isFetching: false,\n                error: true,\n            };\n        case \"GET_MARKS_REQUEST\":\n            return {\n                ...state,\n                marks: action.data,\n                isFetching: true,\n                error: false,\n            };\n        case \"GET_MARKS_SUCCESS\":\n            return {\n                ...state,\n                marks: action.data,\n                isFetching: false,\n                error: false,\n            };\n        case \"GET_MARKS_FAIL\":\n            return {\n                ...state,\n                isFetching: false,\n                error: true,\n            };\n        case \"GET_LAST_MARKS_REQUEST\":\n            return {\n                ...state,\n                lastMarks: action.data,\n                isFetching: true,\n                errorLastMarks: false,\n            };\n        case \"GET_LAST_MARKS_SUCCESS\":\n            return {\n                ...state,\n                lastMarks: action.data,\n                isFetching: false,\n                errorLastMarks: false,\n            };\n        case \"GET_LAST_MARKS_FAIL\":\n            return {\n                ...state,\n                isFetching: false,\n                errorLastMarks: true,\n            };\n        case \"CLEAR_DATA\":\n            return {\n                journal: {\n                    data: []\n                },\n                marks: {\n                    data: []\n                },\n                lastMarks: {\n                    data: []\n                },\n                isFetching: false,\n                error: false,\n                errorLastMarks: false,\n            };\n        default:\n            return state\n    }\n}\n\nexport default appLogic;","import connect from '@vkontakte/vk-connect-promise';\n\nlet localData = JSON.parse(localStorage.getItem(\"userData\"));\n\nconnect.send(\"VKWebAppStorageGet\", {\n    \"keys\": [\"userData\"],\n})\n    .then(res => {\n        console.log(\"VK Storage Get Success\", res);\n        localData = JSON.parse(\n            res.data.keys[0].value\n        )\n    })\n    .catch(err => {\n        console.log(\"VK Storage Get Fail\", err);\n        localData = JSON.parse(localStorage.getItem(\"userData\"));\n    });\n\nlet initialState;\n\nif (localData) {\n    initialState = {\n        id: (localData.id ? localData.id : null),\n        secret: (localData.secret ? localData.secret : null),\n        diary: (localData.diary ? localData.diary : null),\n        students: (localData.students ? localData.students : null),\n        student: (localData.student\n            ? localData.student\n            : (localData.students\n                ? localData.students[0]\n                : null)),\n        errMessage: null,\n        isFetching: false,\n        error: false,\n    }\n} else {\n    initialState = {\n        id: null,\n        secret: null,\n        diary: null,\n        students: null,\n        student: null,\n        errMessage: null,\n        isFetching: false,\n        error: false,\n    }\n}\n\nfunction profile(state = initialState, action) {\n    switch (action.type) {\n        case \"DO_AUTHORIZATION_REQUEST\":\n            return {\n                ...state,\n                id: action.data.id,\n                secret: action.data.secret,\n                students: action.data.students,\n                student: action.data.studentId,\n                isFetching: true,\n                error: false,\n            };\n        case \"DO_VK_AUTHORIZATION_SUCCESS\":\n            return {\n                ...state,\n                id: action.data.id,\n                secret: action.data.secret,\n                students: action.data.students,\n                student: action.data.student,\n                isFetching: false,\n                error: false,\n            };\n\n        case \"DO_VK_AUTHORIZATION_FAIL\":\n            return {\n                ...state,\n            };\n\n        case \"DO_AUTHORIZATION_SUCCESS\":\n            let localData = {\n                id: action.data.id,\n                secret: action.data.secret,\n                students: action.data.students,\n            };\n            localStorage.setItem(\"userData\", JSON.stringify(localData));\n            return {\n                ...state,\n                id: action.data.id,\n                secret: action.data.secret,\n                students: action.data.students,\n                student: action.data.student,\n                isFetching: false,\n                error: false,\n            };\n        case \"DO_AUTHORIZATION_FAIL\":\n            return {\n                ...state,\n                errMessage: action.data,\n                isFetching: false,\n                error: true,\n            };\n        case \"SET_DIARY\":\n            let locDataDiary = localStorage.getItem(\"userData\")\n            if (locDataDiary) {\n                locDataDiary = JSON.parse(locDataDiary);\n                locDataDiary.diary = action.data;\n                localStorage.setItem(\"userData\", JSON.stringify(locDataDiary));\n            }\n            return {\n                ...state,\n                diary: action.data,\n                isFetching: false\n            };\n        case \"SET_EXPERIENCE\":\n            let locData1 = localStorage.getItem(\"userData\")\n                ? JSON.parse(localStorage.getItem(\"userData\"))\n                : {};\n            console.log(\"SET_EXPERIENCE\", state.student, action.data, locData1);\n            locData1.student = {\n                ...state.student,\n                exp: action.data,\n            };\n            localStorage.setItem(\"userData\", JSON.stringify(locData1));\n            return {\n                ...state,\n                student: {\n                    ...state.student,\n                    exp: action.data,\n                }\n            };\n        case \"SET_STUDENT\":\n            let locData = localStorage.getItem(\"userData\")\n                ? JSON.parse(localStorage.getItem(\"userData\"))\n                : {};\n            locData.student = action.data;\n            localStorage.setItem(\"userData\", JSON.stringify(locData));\n            // connect.send(\"VKWebAppStorageGet\", {\n            //     \"keys\": [\"userData\"],\n            // })\n            //     .then(res => {\n            //         console.log(\"VK Storage Get Success\", res);\n            //         userData = JSON.parse(\n            //             res.data.keys[0].value\n            //         );\n            //         userData.student = action.data;\n            //         connect.send(\"VKWebAppStorageSet\", {\n            //             \"key\": \"userData\",\n            //             \"value\": JSON.stringify(userData),\n            //         })\n            //             .then(res => console.log(\"VK Storage Set Success\", res))\n            //             .catch(err => {\n            //                 console.log(\"VK Storage Set Fail\", err);\n            //             });\n            //     })\n            //     .catch(err => {\n            //         console.log(\"VK Storage Get Fail\", err);\n            //     });\n            return {\n                ...state,\n                student: action.data\n            };\n\n        case \"CLEAR_PROFILE\":\n            return {\n                id: null,\n                secret: null,\n                diary: null,\n                students: null,\n                student: null,\n                errMessage: null,\n                isFetching: false,\n                error: false,\n            };\n\n        default:\n            return state\n    }\n}\n\nexport default profile;","import {combineReducers} from \"redux\"\n\nimport activeView from \"./activeViewR\"\nimport activePanel from \"./activePanelR\"\nimport fetchedUser from \"./fetchedUserR\"\nimport expectedMark from \"./expectedMarkR\"\nimport appLogic from \"./appLogicR\"\nimport profile from \"./profileR\"\n\nexport const rootReducer = combineReducers({\n    activeView: activeView,\n    activePanel: activePanel,\n    fetchedUser: fetchedUser,\n    expectedMark: expectedMark,\n    appLogic: appLogic,\n    profile: profile,\n});","import { createStore, applyMiddleware } from \"redux\";\nimport { rootReducer } from \"../reducers/main\"\nimport thunk from 'redux-thunk'\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\n\nexport default store;","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nfunction registerValidSW(swUrl) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the old content will have been purged and\n\t\t\t\t\t\t\t// the fresh content will have been added to the cache.\n\t\t\t\t\t\t\t// It's the perfect time to display a \"New content is\n\t\t\t\t\t\t\t// available; please refresh.\" message in your web app.\n\t\t\t\t\t\t\tconsole.log('New content is available; please refresh.');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\tresponse.headers.get('content-type').indexOf('javascript') === -1\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.');\n\t\t});\n}\n\nconst isLocalhost = Boolean(window.location.hostname === 'localhost' ||\n\t// [::1] is the IPv6 localhost address.\n\twindow.location.hostname === '[::1]' ||\n\t// 127.0.0.1/8 is considered localhost for IPv4.\n\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));\n\nexport default function register() {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Lets check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t'worker. To learn more, visit https://goo.gl/SC7cgQ'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not local host. Just register service worker\n\t\t\t\tregisterValidSW(swUrl);\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\nimport store from \"./redux/store/main\";\nimport {Provider} from \"react-redux\"\nimport registerServiceWorker from './sw';\nimport mVKMiniAppsScrollHelper from '@vkontakte/mvk-mini-apps-scroll-helper';\nimport './index.css'\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n\nconst root = document.getElementById('root');\nmVKMiniAppsScrollHelper(root);\n\n\nReactDOM.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>\n    , root);\n\nregisterServiceWorker();"],"sourceRoot":""}