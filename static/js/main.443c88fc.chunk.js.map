{"version":3,"sources":["custom_components/icon-pack/AuthAccount.js","custom_components/icon-pack/AuthPassword.js","custom_components/icon-pack/AuthRestore.js","custom_components/customInput.js","panels/auth.js","panels/choose_diary.js","panels/choose_student.js","redux/actions/profileAction.js","redux/actions/PanelAction.js","redux/actions/ViewAction.js","custom_components/accountUserContainer.js","views/AuthorizationView.js","custom_components/icon-pack/MarksIcon.js","custom_components/icon-pack/ScheduleIcon.js","custom_components/icon-pack/SettingsIcon.js","custom_components/levelCircle.js","panels/account.js","views/AccountView.js","custom_components/mark.js","custom_components/customSpinner.js","panels/marks.js","utils/utils.js","redux/actions/AppLogicAction.js","views/MarksView.js","custom_components/scheduleTopBar.js","custom_components/icon-pack/SubjectHWIcon.js","custom_components/icon-pack/SubjectRoomIcon.js","panels/schedule.js","views/ScheduleView.js","custom_components/icon-pack/bigPlusIcon.js","custom_components/icon-pack/VKbot.js","panels/plus.js","views/PlusView.js","custom_components/icon-pack/VKSettingsIcon.js","custom_components/icon-pack/SettingsNotificationsIcon.js","custom_components/icon-pack/DarkThemeIcon.js","custom_components/icon-pack/GetOutIcon.js","panels/settings.js","views/SettingsView.js","redux/actions/expectedMarkAction.js","views/BottomBar.js","App.js","redux/reducers/activeViewR.js","redux/reducers/activePanelR.js","redux/reducers/fetchedUserR.js","redux/reducers/expectedMarkR.js","redux/reducers/appLogicR.js","redux/reducers/profileR.js","redux/reducers/main.js","redux/store/main.js","sw.js","index.js"],"names":["AuthAccount","props","react_default","a","createElement","width","height","viewBox","fill","xmlns","d","AuthPassword","AuthRestore","fill-rule","clip-rule","CustomInput","clickCapture","document","getElementById","concat","id","focus","style","marginTop","color","className","onClick","placeholder","type","onFocus","onBlur","value","autoComplete","axios","require","Auth","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","btnBack","setPanel","buttonClick","login","password","e","school","trim","length","setSpinner","console","log","profile","diary","region","province","city","getProfile","setInterval","error","clearInterval","Error","openError","openUnsupported","openIncorrect","setState","secret","student","setView","drawRegionsSelector","options","get","then","reg_resp","data","forEach","reg","push","name","regions","vkui","onChange","provinces","size","drawProvincesSelector","province_resp","cities","drawCitiesSelector","city_resp","schools","drawSchoolsSelector","school_resp","state","ready","netschoolSelector","left","PanelHeaderBack_default","icon_pack_AuthAccount","custom_components_customInput","icon_pack_AuthPassword","href","target","margin","icon_pack_AuthRestore","level","React","Component","ChooseDiary","choose","setDiary","_this2","visibility","ChooseStudent","setStudent","drawStudents","students","class","baseUrl","doAuthorize","dispatch","dispatcher","json","post","response","list","status","localData","localStorage","setItem","JSON","stringify","window","location","search","slice","split","map","queryParam","kvp","key","reduce","query","decodeURIComponent","res","catch","err","bind_user","auth","panel","view","fill_color","outline_color","AuthorizationView","viewScreenSpinner","_ref","asyncToGenerator","regenerator_default","mark","_callee","switcher","wrap","_context","prev","next","popout","stop","_x","apply","arguments","callIncorrect","actionsLayout","actions","title","autoclose","onClose","callError","callUnsupported","netschoolSaving","netschoolData","activePanel","panels_choose_diary","setDiaryAction","setPanelAction","panels_auth","fetchedUser","setViewAction","getProfileAction","netschoolSave","panels_choose_student","setStudentAction","connect","store","MarksIcon","selected","stroke","stroke-width","ScheduleIcon","x","y","SettingsIcon","LevelCircle","backgroundColor","boxShadow","val","AccountUserContainer","num","number","custom_components_levelCircle","Account","noShadow","fontWeight","fontSize","display","flexDirection","justifyContent","custom_components_accountUserContainer","padding","AccountView","panels_account","defineColor","colors","toLowerCase","String","prototype","capitalize","replace","toUpperCase","Mark","container","mark_value","short","background","is_routine","borderRadius","weight","CustomSpinner","isInverse","spinner_default","Marks","loadData","id2","getMarks","getLastMarks","appData","marks","marksData","startRender","errorLastMarks","periods","i","tabs","drawTab","drawTabsItem","tabsItems","_loop","activeTab","drawSpinner","custom_components_customSpinner","currentTab","currentPeriod","subjectsFields","subject","period","marksModal","avg","src_custom_components_mark","toString","form","toFixed","modal","isNaN","year_mark","openModal","generateSubject","drawResultTab","subjectFields","final_mark","renderedMarks","drawSubjectField","lastMarksData","lastMarks","flag","paddingTop","paddingBottom","theme","setCorrectYear","str","correctYear","getRusMonthName","monthNum","normalTimeout","normalInterval","getJournal","start","end","student_id","intervalId","queries","toLocaleDateString","timeoutID","setTimeout","error_msg","clearTimeout","getSchedule","getAndAggregateMarks","endDate","Date","startDate","dueDate","getFullYear","getMonth","getDate","getLMarks","MarksView","setModalMark","modalMarks","activeModal","closeModal","settlingHeight","header","IS_PLATFORM_ANDROID","cancel_default","panels_marks","appLogic","getMarksAction","getLastMarksAction","userId","ScheduleWeekBar","clickFunc","selectedDay","dates","weekDuration","SubjectHWIcon","SubjectRoomIcon","Schedule","dayDates","journal","scheduleData","days","drawTopBar","scheduleTopBar","currentDay","day","generateScheduleTale","subjectTales","subjects","sbj","homework","modalMarksPresentation","score","assignments","assignment","text","time","icon_pack_SubjectHWIcon","room","icon_pack_SubjectRoomIcon","label","module","generateSubjectTale","generateEmptyTale","generateErrorSchedule","generateSchedule","tales","drawShedule","getElementsByTagName","overflow","slideWidth","slideIndex","querySelector","prevWeek","newDatesArr","currentStart","newStart","newEnd","resArr","date","schedulePrevWeek","month","nextWeek","scheduleNextWeek","today","dayOfWeek","getDay","monday","shift","scheduleGetDates","transform","chevron_default","ScheduleView","setModalSchedule","modalSchedule","panels_schedule","getJournalAction","BigPlusIcon","VKbot","filter","cx","cy","r","filterUnits","color-interpolation-filters","flood-opacity","result","in","values","dy","stdDeviation","mode","in2","x1","y1","x2","y2","gradientUnits","stop-color","offset","Plus","doPay","app_id","appId","action","params","amount","description","group_id","groupId","send","bigPlusIcon","marginBottom","alignItems","icon_pack_VKbot","PlusView","panels_plus","VKSettingsIcon","rx","SettingsNotificationsIcon","DarkThemeIcon","GetOutIcon","Settings","signOut","removeItem","askForNotifications","settings","notifications","answer","_valueTracker","setValue","tooltip","getItem","parse","icon_pack_VKSettingsIcon","chooseMark","expectedMark","paddingRight","icon_pack_SettingsNotificationsIcon","getRef","ref","icon_pack_DarkThemeIcon","isShown","offsetX","offsetY","cornerOffset","disabled","icon_pack_GetOutIcon","SettingsView","setMarkAction","osname","IOS","platform","panels_settings","setMark","BottomBar","activeStory","onStoryChange","bind","assertThisInitialized","currentTarget","dataset","story","tabbar","data-story","icon_pack_MarksIcon","icon_pack_ScheduleIcon","icon_pack_SettingsIcon","views_AccountView","views_MarksView","userSecret","views_ScheduleView","views_PlusView","views_SettingsView","App","VKconnect","subscribe","detail","activeView","views_AuthorizationView","views_BottomBar","initialState","undefined","isFetching","objectSpread","studentId","locData","rootReducer","combineReducers","createStore","applyMiddleware","thunk","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","isLocalhost","Boolean","hostname","match","WebFont","load","google","families","ReactDOM","render","es","src_App","URL","process","origin","addEventListener","fetch","headers","indexOf","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.443c88fc.chunk.js","sourcesContent":["import React from 'react';\n\nconst AuthAccount = props => (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n            d=\"M12 19.2C9.5 19.2 7.29 17.92 6 16C6.03 14 10 12.9 12 12.9C14 12.9 17.97 14 18 16C16.71 17.92 14.5 19.2 12 19.2ZM12 5C12.7956 5 13.5587 5.31607 14.1213 5.87868C14.6839 6.44129 15 7.20435 15 8C15 8.79565 14.6839 9.55871 14.1213 10.1213C13.5587 10.6839 12.7956 11 12 11C11.2044 11 10.4413 10.6839 9.87868 10.1213C9.31607 9.55871 9 8.79565 9 8C9 7.20435 9.31607 6.44129 9.87868 5.87868C10.4413 5.31607 11.2044 5 12 5ZM12 2C10.6868 2 9.38642 2.25866 8.17317 2.7612C6.95991 3.26375 5.85752 4.00035 4.92893 4.92893C3.05357 6.8043 2 9.34784 2 12C2 14.6522 3.05357 17.1957 4.92893 19.0711C5.85752 19.9997 6.95991 20.7362 8.17317 21.2388C9.38642 21.7413 10.6868 22 12 22C14.6522 22 17.1957 20.9464 19.0711 19.0711C20.9464 17.1957 22 14.6522 22 12C22 6.47 17.5 2 12 2Z\"\n            fill=\"#5690FF\"/>\n    </svg>\n);\n\nexport default AuthAccount;","import React from 'react';\n\nconst AuthPassword = props => (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n            d=\"M12 17C12.5304 17 13.0391 16.7893 13.4142 16.4142C13.7893 16.0391 14 15.5304 14 15C14 13.89 13.1 13 12 13C11.4696 13 10.9609 13.2107 10.5858 13.5858C10.2107 13.9609 10 14.4696 10 15C10 15.5304 10.2107 16.0391 10.5858 16.4142C10.9609 16.7893 11.4696 17 12 17ZM18 8C18.5304 8 19.0391 8.21071 19.4142 8.58579C19.7893 8.96086 20 9.46957 20 10V20C20 20.5304 19.7893 21.0391 19.4142 21.4142C19.0391 21.7893 18.5304 22 18 22H6C5.46957 22 4.96086 21.7893 4.58579 21.4142C4.21071 21.0391 4 20.5304 4 20V10C4 8.89 4.9 8 6 8H7V6C7 4.67392 7.52678 3.40215 8.46447 2.46447C9.40215 1.52678 10.6739 1 12 1C12.6566 1 13.3068 1.12933 13.9134 1.3806C14.52 1.63188 15.0712 2.00017 15.5355 2.46447C15.9998 2.92876 16.3681 3.47995 16.6194 4.08658C16.8707 4.69321 17 5.34339 17 6V8H18ZM12 3C11.2044 3 10.4413 3.31607 9.87868 3.87868C9.31607 4.44129 9 5.20435 9 6V8H15V6C15 5.20435 14.6839 4.44129 14.1213 3.87868C13.5587 3.31607 12.7956 3 12 3Z\"\n            fill=\"#5690FF\"/>\n    </svg>\n);\n\nexport default AuthPassword;","import React from 'react';\n\nconst AuthRestore = props => (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n              d=\"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM7.83325 7H8H16.1666V15.0178C16.1642 15.0422 16.1619 15.0668 16.1596 15.0915C16.1433 15.2695 16.1266 15.4522 16.0383 15.6106C15.8966 15.8913 15.5994 16.0846 15.2883 16.1009C15.1025 16.1082 14.9158 16.106 14.7291 16.1037C14.3322 16.0988 13.9352 16.0939 13.546 16.1816C13.1488 16.2651 12.7805 16.4578 12.4627 16.7088C12.1613 16.938 11.9032 17.2149 11.6452 17.4917L11.6452 17.4917L11.6452 17.4917L11.6452 17.4917L11.6452 17.4917C11.538 17.6068 11.4308 17.7218 11.3205 17.8333L11.3202 17.3625V17.3624V17.3624V17.3623C11.3199 16.9441 11.3196 16.526 11.3216 16.1076C10.82 16.102 10.3185 16.1028 9.81703 16.1036H9.81699H9.81695H9.81691C9.46747 16.1042 9.11809 16.1047 8.76881 16.1031C8.4377 16.1059 8.1127 15.9098 7.96214 15.6123C7.86338 15.4346 7.85144 15.2292 7.83981 15.0294L7.83981 15.0294C7.83777 14.9943 7.83574 14.9594 7.83325 14.9248V7Z\"\n              fill=\"#5690FF\"/>\n    </svg>\n);\n\nexport default AuthRestore;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport \"./customInput.css\"\n\nconst CustomInput = props => {\n        function clickCapture() {\n            document.getElementById(`${props.id}-i`).focus();\n            document.getElementById(props.id).style.marginTop = \"-28px\";\n            document.getElementById(props.id).style.color = \"#5690ff\";\n        }\n        function clickLost() {\n            document.getElementById(props.id).style.color = \"#757575\";\n            if (document.getElementById(`${props.id}-i`).value === \"\"){\n                document.getElementById(props.id).style.marginTop = \"0\";\n            }\n\n        }\n\n        return (\n            <div className=\"customInputContainer\">\n        <span id={props.id}\n              className=\"customInputTip\"\n              onClick={clickCapture}\n        >\n            {props.placeholder}\n        </span>\n                <input id={`${props.id}-i`}\n                    type={props.type}\n                       className=\"customInput\"\n                       onFocus={clickCapture}\n                       onBlur={clickLost}\n                       autoComplete=\"off\"\n                />\n            </div>\n        )\n    };\n\nCustomInput.propTypes = {\n    id: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n    placeholder: PropTypes.string,\n};\n\nexport default CustomInput;","import {Div, Panel, PanelHeader, Link, Button, Select, Spinner} from '@vkontakte/vkui';\nimport PanelHeaderBack from '@vkontakte/vkui/dist/components/PanelHeaderBack/PanelHeaderBack';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/auth.css\"\n\nimport AuthAccount from \"../custom_components/icon-pack/AuthAccount\"\nimport AuthPassword from \"../custom_components/icon-pack/AuthPassword\"\nimport AuthGift from \"../custom_components/icon-pack/AuthGift\"\nimport AuthRestore from \"../custom_components/icon-pack/AuthRestore\"\n\nimport CustomInput from \"../custom_components/customInput\"\n\nconst axios = require('axios');\n\nclass Auth extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: false,\n            schools: null,\n            provinces: null,\n            cities: null,\n            ready: false,\n            netschoolSelector: (this.props.profile.diary === \"netschool\" ? <Spinner size=\"medium\"/> : null),\n            regions: <Spinner size=\"medium\"/>\n        };\n\n        this.region = null;\n        this.province = null;\n        this.city = null;\n        this.school = \"\";\n\n        // this.netschoolChoose();\n        this.drawRegionsSelector()\n    }\n\n    btnBack = () => {\n        this.props.setPanel(\"choose_diary\")\n    };\n\n    buttonClick = () => {\n        let login = document.getElementById(\"loginInput-i\").value;\n        let password = document.getElementById(\"passInput-i\").value;\n        try {\n            let inviteCode = document.getElementById(\"inviteCodeInput-i\").value;\n        } catch (e) {\n            let inviteCode = \"\";\n        }\n        try {\n            this.school = document.getElementById(\"schoolSelect\").value;\n        } catch (e) {\n            this.school = \"\"\n        }\n\n        if (login.trim().length !== 0 && password.trim().length !== 0) {\n            this.props.setSpinner(true);\n            console.log(\"per data\", login, password, this.props.profile.diary,\n                this.region, this.province, this.city, this.school);\n            this.props.getProfile(login, password, this.props.profile.diary,\n                this.region, this.province, this.city, this.school);\n\n            let id = setInterval(() => {\n                if (this.props.profile.error) {\n                    clearInterval(id);\n                    this.props.setSpinner(false);\n                    if (this.props.profile.id instanceof Error) {\n                        this.props.openError();\n                    } else {\n                        if (this.props.profile.diary !== \"netschool\")\n                            this.props.openUnsupported();\n                        else\n                            this.props.openIncorrect();\n                    }\n                    this.setState({error: true});\n                } else {\n                    if (this.props.profile.secret) {\n                        clearInterval(id);\n                        this.props.setSpinner(false);\n                        if (this.props.profile.student === null) {\n                            this.props.setPanel(\"choose_student\");\n                        } else {\n                            this.props.setView(\"MainView\", \"schedule\");\n                        }\n                    }\n                }\n            }, 200);\n        }\n    };\n\n    drawRegionsSelector = () => {\n        let options = [];\n        axios.get(\"https://bklet.ml/api/auth/get_data\")\n            .then(reg_resp => {\n                reg_resp.data.data.forEach(reg => {\n                    options.push(\n                        <option value={reg.id}>{reg.name}</option>\n                    )\n                });\n                this.setState({\n                    regions:\n                        <Select\n                            id=\"regionSelect\"\n                            placeholder=\"Выберите ваш регион\"\n                            onChange={() => {\n                                this.region = document.getElementById(\"regionSelect\").value;\n                                this.setState({\n                                    provinces:\n                                        <Spinner size=\"medium\"/>\n                                });\n                                this.drawProvincesSelector();\n                            }}\n                        >\n                            {options}\n                        </Select>\n                })\n            })\n    };\n    drawProvincesSelector = () => {\n        let options = [];\n        axios.get(\"https://bklet.ml/api/auth/get_data/?region=\" + this.region)\n            .then(province_resp => {\n                province_resp.data.data.forEach(province => {\n                    options.push(\n                        <option value={province.id}>{province.name}</option>\n                    )\n                });\n                this.setState({\n                    provinces:\n                        <Select\n                            id=\"provinceSelect\"\n                            placeholder=\"Выберите ваш район\"\n                            onChange={() => {\n                                this.province = document.getElementById(\"provinceSelect\").value;\n                                this.setState({\n                                    cities:\n                                        <Spinner size=\"medium\"/>\n                                });\n                                this.drawCitiesSelector();\n                            }}\n                        >\n                            {options}\n                        </Select>\n                });\n            })\n    };\n    drawCitiesSelector = () => {\n        let options = [];\n        axios.get(`https://bklet.ml/api/auth/get_data/?region=${this.region}&province=${this.province}`)\n            .then(city_resp => {\n                city_resp.data.data.forEach(city => {\n                    options.push(\n                        <option value={city.id}>{city.name}</option>\n                    )\n                });\n                console.log(\"lalalala\", options);\n                this.setState({\n                    cities:\n                        <Select\n                            id=\"citySelect\"\n                            placeholder=\"Выберите ваш город\"\n                            onChange={() => {\n                                this.city = document.getElementById(\"citySelect\").value;\n                                this.setState({\n                                    schools:\n                                        <Spinner size=\"medium\"/>\n                                });\n                                this.drawSchoolsSelector();\n                            }}\n                        >\n                            {options}\n                        </Select>\n                });\n            })\n    };\n    drawSchoolsSelector = () => {\n        let options = [];\n        axios.get(`https://bklet.ml/api/auth/get_data/?region=${this.region}&province=${this.province}&city=${this.city}`)\n            .then(school_resp => {\n                school_resp.data.data.forEach(school => {\n                    options.push(\n                        <option value={school.id}>{school.name}</option>\n                    )\n                });\n                console.log(\"lalalala\", options);\n                this.setState({\n                    schools:\n                        <Select\n                            id=\"schoolSelect\"\n                            placeholder=\"Выберите вашу школу\"\n                            onChange={() => {\n                                this.school = document.getElementById(\"schoolSelect\").value;\n                            }}\n                        >\n                            {options}\n                        </Select>\n                });\n            })\n    };\n\n\n    render() {\n        return (\n            <Panel id={this.props.id}>\n                <PanelHeader left={<PanelHeaderBack onClick={this.btnBack}/>}>\n                    Авторизация\n                </PanelHeader>\n                <div className=\"authGroup\">\n                    <Div className=\"welcome\">\n                        Добро пожаловать,\n                    </Div>\n                    <Div className=\"large_tip\">\n                        Войдите с помощью данных аккаунта вашего дневника\n                    </Div>\n                    <Div className=\"inputContainer\">\n                        <div className=\"inputIcon\">\n                            <AuthAccount/>\n                        </div>\n                        <div className=\"inputInput\">\n                            <CustomInput id=\"loginInput\"\n                                         type=\"text\"\n                                         placeholder=\"Логин\"\n                            />\n                        </div>\n                    </Div>\n                    <Div className=\"inputContainer\">\n                        <div className=\"inputIcon\">\n                            <AuthPassword/>\n                        </div>\n                        <div className=\"inputInput\">\n                            <CustomInput id=\"passInput\"\n                                         type=\"password\"\n                                         placeholder=\"Пароль\"\n                            />\n                        </div>\n                    </Div>\n                    {(this.props.profile.diary === \"netschool\" ?\n                        <Div>\n                            {this.state.regions}\n                        </Div>\n                        : null)}\n                    {(this.state.provinces ?\n                        <Div>\n                            {this.state.provinces}\n                        </Div>\n                        : null)}\n                    {(this.state.cities ?\n                        <Div>\n                            {this.state.cities}\n                        </Div>\n                        : null)}\n                    {(this.state.schools ?\n                        <Div>\n                            {this.state.schools}\n                        </Div>\n                        : null)}\n                    {/*<Div>*/}\n                    {/*    <span*/}\n                    {/*        className=\"medium_tip\">Введите код приглашения, при его наличии, или оставьте поле пустым</span>*/}\n                    {/*</Div>*/}\n                    {/*<Div className=\"inviteInput\">*/}\n                    {/*    <div className=\"inputIcon\">*/}\n                    {/*        <AuthGift/>*/}\n                    {/*    </div>*/}\n                    {/*    <CustomInput id=\"inviteCodeInput\"*/}\n                    {/*                 type=\"text\"*/}\n                    {/*    />*/}\n                    {/*</Div>*/}\n                    <Div>\n            <span className=\"annotate\">Нажимая войти, вы соглашаетесь на обработку, хранение, передачу ваших персональных данных.\n                <br/>\n                <Link href=\"https://google.com\" target=\"_blank\">Регламент</Link> и <Link href=\"https://google.com\"\n                                                                                         target=\"_blank\">политика конфиденциальности</Link></span>\n                    </Div>\n                    <Div className=\"restorePassword\">\n                        <div className=\"inputIcon\" style={{margin: 0}}>\n                            <AuthRestore/>\n                        </div>\n                        <div>Забыли данные учетной записи?\n                                <Link\n                                    href=\"https://google.com\"\n                                    target=\"_blank\"\n                                    className=\"restoreLink\">Восстановить</Link>\n                            </div>\n                    </Div>\n                    <Div>\n                        <Button level=\"tertiary\" className=\"getInButton\"\n                                onClick={this.buttonClick}>\n                            Войти\n                        </Button>\n                    </Div>\n                </div>\n            </Panel>\n        )\n    }\n\n}\n\nAuth.propTypes = {\n    id: PropTypes.string.isRequired,\n    fetchedUser: PropTypes.shape({\n        photo_200: PropTypes.string,\n        first_name: PropTypes.string,\n        last_name: PropTypes.string,\n        city: PropTypes.shape({\n            title: PropTypes.string,\n        }),\n    }),\n    profile: PropTypes.any.isRequired,\n    setView: PropTypes.func.isRequired,\n    setPanel: PropTypes.func.isRequired,\n    getProfile: PropTypes.func.isRequired,\n    setSpinner: PropTypes.func,\n    openError: PropTypes.func.isRequired,\n    openIncorrect: PropTypes.func.isRequired,\n    openUnsupported: PropTypes.func,\n};\n\nexport default Auth;","import {Div, Panel, Button} from '@vkontakte/vkui';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/choose_diary.css\"\n\nimport MosRuIcon from \"../custom_components/icon-pack/MosRuIcon\"\nimport MosregIcon from \"../custom_components/icon-pack/MosregIcon\"\n\nclass ChooseDiary extends React.Component {\n    constructor(props) {\n        super(props);\n        this.d = \"\"\n    }\n\n    choose = (diary) => {\n        this.props.setPanel(\"auth\");\n        this.props.setDiary(diary)\n    };\n\n    render() {\n        return (\n            <Panel id={this.props.id}>\n                {/*<PanelHeader noShadow={true}></PanelHeader>*/}\n                <Div className=\"chooseDiaryScreen\">\n                        <span className=\"chooseDiaryScreenTitle\">\n                            Выберите ваш дневник\n                        </span>\n                    <div className=\"chooseDiaryScreenDiaryDiaries\">\n                        <Button level=\"tertiary\" className=\"chooseDiaryScreenDiaryContainer\"\n                                onClick={() => {\n                                    this.d = \"mosru\";\n                                    this.choose(this.d);\n                                }}>\n                            {/*<div className=\"chooseDiaryScreenDiaryContainerIcon\"*/}\n                            {/*     // style={{backgroundColor: \"#ff3000\"}}*/}\n                            {/*>*/}\n                            {/*</div>*/}\n                            <span className=\"chooseDiaryScreenDiaryContainerTitle\">Дневник МЭШ (mos.ru)</span>\n                            <div className=\"chooseDiaryScreenDiaryContainerChecker\">\n                            </div>\n                        </Button>\n                        <Button level=\"tertiary\" className=\"chooseDiaryScreenDiaryContainer\"\n                                onClick={() => {\n                                    this.d = \"mosregru\";\n                                    this.choose(this.d);\n                                }}>\n                            {/*<div className=\"chooseDiaryScreenDiaryContainerIcon\"*/}\n                            {/*     // style={{backgroundColor: \"#ffa000\"}}*/}\n                            {/*>*/}\n                            {/*</div>*/}\n                            <span className=\"chooseDiaryScreenDiaryContainerTitle\">Школьный портал Московской области</span>\n                            <div className=\"chooseDiaryScreenDiaryContainerChecker\">\n                            </div>\n                        </Button>\n                        <Button level=\"tertiary\" className=\"chooseDiaryScreenDiaryContainer\"\n                                onClick={() => {\n                                    this.d = \"netschool\";\n                                    this.choose(this.d);\n                                }}>\n                            {/*<div className=\"chooseDiaryScreenDiaryContainerIcon\"*/}\n                            {/*     // style={{backgroundColor: \"#ffff00\"}}*/}\n                            {/*>*/}\n                            {/*</div>*/}\n                            <span className=\"chooseDiaryScreenDiaryContainerTitle\">Сетевой Город</span>\n                            <div className=\"chooseDiaryScreenDiaryContainerChecker\">\n                            </div>\n                        </Button>\n                        <Button level=\"tertiary\" className=\"chooseDiaryScreenDiaryContainer\"\n                                onClick={() => {\n                                    this.d = \"edutatar\";\n                                    this.choose(this.d);\n                                }}>\n                            {/*<div className=\"chooseDiaryScreenDiaryContainerIcon\"*/}\n                            {/*     // style={{backgroundColor: \"#0080ff\"}}*/}\n                            {/*>*/}\n                            {/*</div>*/}\n                            <span className=\"chooseDiaryScreenDiaryContainerTitle\">Электронное образование в Республике Татарстан</span>\n                            <div className=\"chooseDiaryScreenDiaryContainerChecker\">\n                            </div>\n                        </Button>\n                    </div>\n                    <Button level=\"tertiary\" className=\"getInButton\" style={{visibility: \"hidden\"}}>\n                        Войти\n                    </Button>\n                </Div>\n            </Panel>\n        )\n    }\n\n}\n\nChooseDiary.propTypes = {\n    id: PropTypes.string.isRequired,\n    setPanel: PropTypes.func.isRequired,\n    setDiary: PropTypes.func.isRequired,\n};\n\nexport default ChooseDiary;","import {Div, Panel, Button} from '@vkontakte/vkui';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/choose_student.css\"\n\nimport MosRuIcon from \"../custom_components/icon-pack/MosRuIcon\"\nimport MosregIcon from \"../custom_components/icon-pack/MosregIcon\"\n\nclass ChooseStudent extends React.Component {\n    constructor(props) {\n        super(props);\n        this.d = \"\";\n\n        this.students = [];\n        this.drawStudents();\n    }\n\n    choose = (student) => {\n        this.props.setStudent(student);\n        this.props.setView(\"MainView\");\n        this.props.setPanel(\"schedule\");\n    };\n\n    drawStudents = () => {\n        this.props.profile.students.forEach(student => {\n           this.students.push(\n               <Button level=\"tertiary\" className=\"chooseStudentScreenStudentContainer\"\n                       onClick={() => {\n                           this.d = student;\n                           this.choose(this.d)\n                       }}>\n                   <div className=\"chooseStudentScreenStudentName\">\n                       {student.name}\n                   </div>\n                   <div className=\"chooseStudentScreenStudentGrade\">\n                       {student.class} класс\n                   </div>\n               </Button>\n           )\n        });\n    };\n\n    render() {\n        return (\n            <Panel id={this.props.id}>\n                <Div className=\"chooseStudentScreen\">\n                    <span className=\"chooseStudentTitle\">\n                        Выберите ученика\n                    </span>\n                    <div className=\"chooseStudentScreenStudents\">\n                        {this.students}\n                    </div>\n                </Div>\n            </Panel>\n        )\n    }\n\n}\n\nChooseStudent.propTypes = {\n    id: PropTypes.string.isRequired,\n    profile: PropTypes.any.isRequired,\n    setStudent: PropTypes.func.isRequired,\n    setView: PropTypes.func,\n    setPanel: PropTypes.func.isRequired,\n};\n\nexport default ChooseStudent;","const axios = require('axios');\nlet baseUrl = \"https://bklet.ml/\";\n\nexport function doAuthorize(login, password, diary, region, province, city, school) {\n    return dispatch => {\n        dispatch({\n            type: \"DO_AUTHORIZATION_REQUEST\",\n            data: {\n                id: null,\n                secret: null,\n                students: [],\n                student: null,\n            },\n        });\n\n        auth(login, password, diary, dispatch, region, province, city, school)\n    }\n}\n\nfunction auth(login, password, diary, dispatcher, region, province, city, school) {\n    let methodUrl = \"api/auth/\";\n    let json = {\n        diary: diary,\n        login: login,\n        password: password,\n        region: region,\n        province: province,\n        city: city,\n        school: school,\n    };\n    // let json = {\n    //     region: 40,\n    //     province: -3,\n    //     city: 3,\n    //     school: 527,\n    //     login: \"banshi_shi@yahoo.com\",\n    //     password: \"Ibubyf19811\",\n    //     diary: \"mosru\"\n    // };\n    console.log(baseUrl + methodUrl, json);\n\n    axios.post(baseUrl + methodUrl, json)\n        .then((response) => {\n            console.log(\"resp\", response.data);\n            let students = [];\n            response.data.students.list.forEach(e => {\n                students.push(e);\n            });\n            if (response.data.status) {\n                let localData = {\n                    id: response.data.id,\n                    secret: response.data.secret,\n                    students: students,\n                    diary: diary,\n                    student: (students.length === 1 ? students[0] : null),\n                    // student: null,\n                };\n                localStorage.setItem(\"userData\", JSON.stringify(localData));\n                bind_user(response.data.id, response.data.secret);\n                dispatcher({\n                    type: \"DO_AUTHORIZATION_SUCCESS\",\n                    data: {\n                        id: response.data.id,\n                        secret: response.data.secret,\n                        students: students,\n                        student: (students.length === 1 ? students[0] : null),\n                        // student: null,\n                    },\n                })\n            } else {\n                dispatcher({\n                    type: \"DO_AUTHORIZATION_FAIL\",\n                    data: response.data\n                })\n            }\n        })\n        .catch(error => {\n            console.log(\"auth error\", error);\n            dispatcher({\n                type: \"DO_AUTHORIZATION_FAIL\",\n                data: error\n            })\n        });\n}\n\nexport function setDiary(diary) {\n    return {\n        type: \"SET_DIARY\",\n        data: diary,\n    }\n}\n\nexport function setStudent(student) {\n    return {\n        type: \"SET_STUDENT\",\n        data: student,\n    }\n}\n\nfunction bind_user(id, secret) {\n    let methodUrl = \"api/auth/bind_account/vk/\";\n    let json = window.location.search.slice(1).split('&')\n        .map((queryParam) => {\n            let kvp = queryParam.split('=');\n            return {key: kvp[0], value: kvp[1]}\n        })\n        .reduce((query, kvp) => {\n            query[kvp.key] = decodeURIComponent(kvp.value);\n            return query\n        }, {});\n    json.id = id;\n    json.secret = secret;\n    console.log(\"bind data\", json);\n\n    axios.post(baseUrl + methodUrl, json)\n        .then(res => {\n            console.log(\"bind result\", res)\n        })\n        .catch(err => {\n            console.log(\"bind fail\", err)\n        });\n}","export function setPanel(panel) {\n    return {\n        type: \"SET_PANEL\",\n        value: panel\n    }\n}","export function setView(view) {\n    return {\n        type: \"SET_VIEW\",\n        value: view\n    }\n}","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport {Div} from '@vkontakte/vkui';\nimport \"./accountUserContainer.css\"\n\nimport LevelCircle from \"./levelCircle\"\n\nvar fill_color;\nvar outline_color;\n\nfunction setCirclesColor(num) {\n    if (num === \"1\") {\n        fill_color = \"rgb(255 214 0)\";\n        outline_color = \"rgba(255, 214, 0, 0.5)\"\n    } else if (num === \"2\") {\n        fill_color = \"rgb(180 180 180)\";\n        outline_color = \"rgba(180, 180, 180, 0.5)\"\n    } else if (num ===\"3\") {\n        fill_color = \"rgb(255 186 86)\";\n        outline_color = \"rgba(255, 186, 86, 0.5)\"\n    }\n}\n\nconst AccountUserContainer = props => (\n    <div className=\"accountUserContainer\">\n        {setCirclesColor(props.number)}\n        <div className=\"accountUserNumeration\">{props.number}</div>\n        <Div className=\"accountUserInfo\">\n            <span className=\"accountUserName\">{props.name}</span>\n            <LevelCircle color={fill_color} outline_color={outline_color} val={props.level}/>\n        </Div>\n    </div>\n);\n\nAccountUserContainer.propTypes = {\n    number: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    level: PropTypes.string.isRequired\n};\n\nexport default AccountUserContainer;","import React from 'react';\nimport {View, ScreenSpinner, Alert} from '@vkontakte/vkui';\nimport Auth from '../panels/auth'\nimport ChooseDiary from '../panels/choose_diary'\nimport ChooseStudent from '../panels/choose_student'\nimport \"./styles/Authorization.css\"\nimport {connect} from 'react-redux'\nimport {doAuthorize, setDiary, setStudent} from \"../redux/actions/profileAction\";\nimport {setPanel} from \"../redux/actions/PanelAction\";\nimport {setView} from \"../redux/actions/ViewAction\";\n\n\nclass AuthorizationView extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            popout: null,\n        }\n    }\n\n    viewScreenSpinner = async (switcher) => {\n        this.setState({popout: (switcher ? <ScreenSpinner/> : null)});\n    };\n\n    callIncorrect = () => {\n        this.setState({\n            popout:\n                <Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'ОК',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.setState({popout: null})}\n                >\n                    <h2>Ошибка авторизации</h2>\n                    <p>Неправильный логин или пароль</p>\n                </Alert>\n        })\n    };\n    callError = () => {\n        this.setState({\n            popout:\n                <Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'ОК',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.setState({popout: null})}\n                >\n                    <h2>Ошибка авторизации</h2>\n                    <p>Проблемы с подключением. Пожалуйста, перепроверьте правильность введённых данных и попробуйте ещё\n                        раз.</p>\n                </Alert>\n        })\n    };\n    callUnsupported = () => {\n        this.setState({\n            popout:\n                <Alert\n                    actionsLayout=\"vertical\"\n                    actions={[{\n                        title: 'ОК',\n                        autoclose: true,\n                        style: 'cancel'\n                    }]}\n                    onClose={() => this.setState({popout: null})}\n                >\n                    <h2>Ошибка авторизации</h2>\n                    <p>Опс, войти не получилось. Вполне возможно, что ваша школа ещё не поддерживается нашим дневником.\n                        К сожалению вам приёдтся подождать, пока мы не добавим вашу школу. Об обновлениях поддержки\n                        мы обязательно напишем в нашей группе в ВК.</p>\n                </Alert>\n        })\n    };\n\n    netschoolSaving = (login, password) => {\n        this.setState({\n            netschoolData: {\n                login: login,\n                password: password,\n            }\n        })\n    };\n\n    render() {\n        return (\n            <View popout={this.state.popout} activePanel={this.props.activePanel === \"settings\" ? \"choose_diary\" : this.props.activePanel   }>\n                <ChooseDiary id=\"choose_diary\"\n                             setDiary={this.props.setDiaryAction}\n                             setPanel={this.props.setPanelAction}\n                />\n                <Auth id=\"auth\"\n                      diary={this.props.diary}\n                      fetchedUser={this.props.fetchedUser}\n                      setSpinner={this.viewScreenSpinner}\n                      setPanel={this.props.setPanelAction}\n                      setView={this.props.setViewAction}\n                      profile={this.props.profile}\n                      getProfile={this.props.getProfileAction}\n                      openError={this.callError}\n                      openIncorrect={this.callIncorrect}\n                      netschoolSave={this.netschoolSaving}\n                      openUnsupported={this.callUnsupported}\n                />\n                <ChooseStudent id=\"choose_student\"\n                               profile={this.props.profile}\n                               setStudent={this.props.setStudentAction}\n                               setView={this.props.setViewAction}\n                               setPanel={this.props.setPanelAction}\n                />\n            </View>\n        )\n    }\n}\n\n\nconst mapStateToProps = store => {\n    console.log(\"Auth View\", store);\n    return {\n        activePanel: store.activePanel,\n        diary: store.diary,\n        fetchedUser: store.fetchedUser,\n        profile: store.profile,\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setDiaryAction: diary => dispatch(setDiary(diary)),\n        getProfileAction: (login, password, diary, region, province, city, school) => {\n            dispatch(doAuthorize(login, password, diary, region, province, city, school));\n        },\n        setPanelAction: panel => dispatch(setPanel(panel)),\n        setViewAction: view => dispatch(setView(view)),\n        setStudentAction: student => dispatch(setStudent(student)),\n    }\n};\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(AuthorizationView);","import React from 'react';\nimport PropTypes from \"prop-types\";\n\nvar default_stroke_color = \"#A8ADAF\";\nvar active_stroke_color = \"#5690FF\";\n\nconst MarksIcon = props => (\n    <svg width={props.size} height={props.size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 16.6944 7.30558 20.5 12 20.5C16.6944 20.5 20.5 16.6944 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12Z\" fill={props.selected ? active_stroke_color : default_stroke_color}/>\n        <path d=\"M9 16.5C9 16.5 14.5 18 14.5 14.5C14.5 11 10 12 10 12V8H14.5\" stroke={props.selected ? active_stroke_color : default_stroke_color} stroke-width=\"1.5\"/>\n    </svg>\n\n);\n\nMarksIcon.propTypes = {\n    size: PropTypes.string.isRequired,\n    selected: PropTypes.bool.isRequired,\n    stroke_color: PropTypes.string,\n};\n\nexport default MarksIcon;","import React from 'react';\nimport PropTypes from \"prop-types\";\n\nvar default_stroke_color = \"#A8ADAF\";\nvar active_stroke_color = \"#5690FF\";\n\nconst ScheduleIcon = props => (\n    <svg width={props.size} height={props.size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M4.75 6C4.75 4.20507 6.20507 2.75 8 2.75H16C17.7949 2.75 19.25 4.20507 19.25 6V21.25H4.75V6Z\" stroke={props.selected ? active_stroke_color : default_stroke_color} stroke-width=\"1.5\"/>\n        <rect x=\"7\" y=\"6\" width=\"10\" height=\"1.5\" fill={props.selected ? active_stroke_color : default_stroke_color}/>\n        <rect x=\"7\" y=\"11\" width=\"10\" height=\"1.5\" fill={props.selected ? active_stroke_color : default_stroke_color}/>\n        <rect x=\"7\" y=\"16\" width=\"10\" height=\"1.5\" fill={props.selected ? active_stroke_color : default_stroke_color}/>\n    </svg>\n\n\n);\n\nScheduleIcon.propTypes = {\n    size: PropTypes.string.isRequired,\n    selected: PropTypes.bool.isRequired,\n    stroke_color: PropTypes.string,\n};\n\nexport default ScheduleIcon;","import React from 'react';\nimport PropTypes from \"prop-types\";\n\nvar default_stroke_color = \"#A8ADAF\";\nvar active_stroke_color = \"#5690FF\";\n\nconst SettingsIcon = props => (\n    <svg width={props.size} height={props.size} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M12.0051 15.86C9.88505 15.86 8.14504 14.14 8.14504 12C8.14504 9.88003 9.86505 8.14002 12.0051 8.14002C14.1251 8.14002 15.8651 9.86003 15.8651 12C15.8651 14.12 14.1251 15.86 12.0051 15.86ZM12.0051 9.56004C10.6651 9.56004 9.56506 10.66 9.56506 12C9.56506 13.34 10.6651 14.44 12.0051 14.44C13.3451 14.44 14.445 13.34 14.445 12C14.445 10.66 13.3451 9.56004 12.0051 9.56004ZM12.0051 21.2H11.9051C11.2051 21.2 10.6051 21.12 10.5651 21.12C10.2451 21.08 10.005 20.84 9.94504 20.52L9.74504 19.08C9.30504 18.94 8.88506 18.76 8.48506 18.54L7.34504 19.4C7.08504 19.6 6.74506 19.58 6.48506 19.4C6.46506 19.38 5.98506 19 5.48506 18.52L5.40505 18.44C4.90505 17.94 4.54505 17.46 4.52505 17.44C4.32505 17.18 4.32505 16.84 4.52505 16.58L5.40505 15.42C5.18505 15.02 5.02506 14.58 4.88506 14.14L3.48506 13.94C3.16506 13.9 2.92506 13.64 2.88506 13.32C2.88506 13.3 2.80505 12.68 2.80505 11.98V11.88C2.80505 11.18 2.88506 10.58 2.88506 10.54C2.92506 10.22 3.16506 9.98002 3.48506 9.92002L4.92505 9.72002C5.06505 9.28002 5.24506 8.86004 5.46506 8.46004L4.60505 7.32002C4.40505 7.06002 4.42505 6.72004 4.60505 6.46004C4.62505 6.44004 5.00506 5.96004 5.48506 5.46004L5.56506 5.38003C6.06506 4.88003 6.54506 4.52003 6.56506 4.50003C6.82506 4.30003 7.16505 4.30003 7.42505 4.50003L8.58506 5.38003C8.98506 5.16003 9.42506 5.00004 9.86506 4.86004L10.0651 3.46004C10.1051 3.14004 10.3651 2.90004 10.6851 2.86004C10.7051 2.86004 11.325 2.78003 12.025 2.78003H12.125C12.825 2.78003 13.4251 2.86004 13.4651 2.86004C13.7851 2.90004 14.0251 3.14004 14.0851 3.46004L14.2851 4.90003C14.7251 5.04003 15.145 5.22002 15.545 5.44002L16.6851 4.58003C16.9451 4.38003 17.285 4.40003 17.545 4.58003C17.565 4.60003 18.045 4.98004 18.545 5.46004L18.625 5.54002C19.125 6.04002 19.4851 6.52002 19.5051 6.54002C19.7051 6.80002 19.7051 7.14003 19.5051 7.40003L18.625 8.56004C18.845 8.96004 19.005 9.40002 19.145 9.84002L20.545 10.04C20.865 10.08 21.105 10.34 21.145 10.66C21.145 10.68 21.225 11.3 21.225 12V12.1C21.225 12.8 21.145 13.4 21.145 13.44C21.105 13.76 20.865 14 20.545 14.06L19.1051 14.26C18.9651 14.7 18.7851 15.12 18.5651 15.52L19.425 16.66C19.625 16.92 19.605 17.26 19.425 17.52C19.405 17.54 19.025 18.02 18.545 18.52L18.4651 18.6C17.9651 19.1 17.4851 19.46 17.4651 19.48C17.2051 19.68 16.8651 19.68 16.6051 19.48L15.445 18.6C15.045 18.82 14.6051 18.98 14.1651 19.12L13.9651 20.52C13.9251 20.84 13.665 21.08 13.345 21.12C13.305 21.12 12.7051 21.2 12.0051 21.2ZM11.2851 19.76C11.4651 19.78 11.6851 19.78 11.9051 19.78H12.0051C12.2251 19.78 12.445 19.78 12.625 19.76L12.8051 18.44C12.8451 18.14 13.065 17.92 13.345 17.84C13.965 17.7 14.5651 17.46 15.1051 17.12C15.2651 17.02 15.465 17 15.645 17.04C15.745 17.06 15.845 17.12 15.925 17.18L16.9851 17.98C17.1251 17.86 17.285 17.72 17.445 17.56L17.525 17.48C17.685 17.32 17.825 17.16 17.945 17.02L17.145 15.96C16.965 15.72 16.9651 15.4 17.1051 15.16C17.4451 14.64 17.685 14.06 17.825 13.46C17.885 13.16 18.125 12.92 18.425 12.88L19.7651 12.7C19.7851 12.52 19.7851 12.3 19.7851 12.08V11.98C19.7851 11.76 19.7851 11.54 19.7651 11.36L18.445 11.18C18.165 11.14 17.9251 10.92 17.8651 10.64C17.7251 10.02 17.4851 9.44003 17.1651 8.90003C17.1251 8.86003 17.1051 8.80002 17.0851 8.74002C17.0051 8.52002 17.0451 8.26003 17.1851 8.08003L18.0051 7.00003C17.8851 6.86003 17.7451 6.70002 17.5851 6.54002L17.5051 6.46004C17.3451 6.30004 17.185 6.16002 17.045 6.04002L15.9851 6.84002C15.7251 7.02002 15.385 7.02002 15.145 6.84002C14.625 6.52002 14.045 6.28002 13.445 6.12002C13.165 6.06002 12.9451 5.82002 12.9051 5.52002L12.725 4.18003C12.545 4.16003 12.3251 4.16004 12.1051 4.16004H12.0051C11.7851 4.16004 11.5651 4.16003 11.3851 4.18003L11.2051 5.50003C11.1651 5.82003 10.9251 6.06003 10.6051 6.10003C10.0051 6.24003 9.42505 6.48003 8.90505 6.80003C8.74505 6.90003 8.54506 6.92003 8.36506 6.88003C8.26506 6.86003 8.16506 6.80002 8.08506 6.74002L7.04504 5.94002C6.90504 6.06002 6.74506 6.20004 6.58506 6.36004L6.50505 6.44002C6.34505 6.60002 6.20506 6.76003 6.08506 6.90003L6.88506 7.96004C7.06506 8.20004 7.06505 8.50004 6.92505 8.76004C6.90505 8.78004 6.90506 8.80002 6.88506 8.82002C6.56506 9.34002 6.32506 9.92002 6.18506 10.52C6.12506 10.8 5.88506 11.02 5.58506 11.06L4.24504 11.24C4.22504 11.42 4.22505 11.64 4.22505 11.86V11.96C4.22505 12.18 4.22504 12.4 4.24504 12.58L5.56506 12.76C5.88506 12.8 6.12506 13.04 6.16506 13.36V13.38C6.30506 13.98 6.54506 14.54 6.86506 15.06C6.96506 15.24 7.00505 15.46 6.92505 15.66C6.90505 15.74 6.84506 15.82 6.78506 15.9L6.00505 16.94C6.12505 17.08 6.26505 17.24 6.42505 17.4L6.50505 17.48C6.66505 17.64 6.82506 17.78 6.96506 17.9L8.02505 17.1C8.28505 16.9 8.66505 16.92 8.90505 17.12C9.42505 17.44 9.98506 17.66 10.5651 17.8C10.8451 17.86 11.0651 18.1 11.1051 18.4L11.2851 19.76Z\" fill={props.selected ? active_stroke_color : default_stroke_color}/>\n    </svg>\n);\n\nSettingsIcon.propTypes = {\n    size: PropTypes.string.isRequired,\n    selected: PropTypes.bool.isRequired,\n    stroke_color: PropTypes.string,\n};\n\nexport default SettingsIcon;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport \"./levelCircle.css\"\n\nconst LevelCircle = props => (\n    <div className=\"levelCircleContainer\" style={{backgroundColor: props.color, boxShadow: `0 0 0 4px ${props.outline_color}`}}>\n        <span>{props.val}</span>\n    </div>\n);\n\nLevelCircle.propTypes = {\n    color: PropTypes.string.isRequired,\n    outline_color: PropTypes.bool.isRequired,\n    val: PropTypes.any.isRequired\n};\n\nexport default LevelCircle;","import {Div, Group, Button, Panel, PanelHeader, InfoRow, Progress} from '@vkontakte/vkui';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/account.css\"\n\nimport AccountUserContainer from \"../custom_components/accountUserContainer\"\n\nconst Account = ({id}) => (\n    <Panel id={id}>\n        <PanelHeader\n            noShadow={true}\n            left={<Div style={{fontWeight: 'bold', fontSize: '20px'}}><span>Аккаунт</span></Div>}>\n        </PanelHeader>\n        <div className=\"accountStudentInfo\">\n            <Div className=\"studentInfoContainer\">\n                <div id=\"studentInfo\">\n                <span id=\"studentName\">\n                    Иван Пешехонов\n                </span>\n                    <span id=\"studentGrade\">\n                    11 класс\n                </span>\n                </div>\n                <div/>\n            </Div>\n            <Div className=\"accountProgress\">\n                <div style={{display: 'flex', flexDirection: 'row', justifyContent: 'space-between'}}>\n                    <span>Успеваемость</span>\n                </div>\n                <InfoRow title=\"Уровень\" id=\"progressBar\">\n                    <Progress value={90}/>\n                </InfoRow>\n            </Div>\n        </div>\n        <div className=\"accountTasks\">\n            <Div className=\"accountBlockTitle\">\n                ЗАДАЧИ\n            </Div>\n        </div>\n        <div className=\"accountGradeTop\">\n            <Div style={{fontSize: \"14px\"}}>\n                Топ класса\n            </Div>\n            <Div className=\"userTopElement\">\n                <AccountUserContainer number=\"1\" name=\"Наташа Мазнова\" level=\"20\"/>\n            </Div>\n            <Div className=\"userTopElement\">\n                <AccountUserContainer number=\"2\" name=\"Катя Стрёмная\" level=\"20\"/>\n            </Div>\n            <Div className=\"userTopElement\">\n                <AccountUserContainer number=\"3\" name=\"Иван Пешехонов\" level=\"20\"/>\n            </Div>\n            <Div className=\"userTopElement\">\n                <span id=\"overPlace\">Ты находишься на 6 месте</span>\n            </Div>\n        </div>\n        <div className=\"accountImportantantNotifications\">\n            <Div className=\"accountBlockTitle\">\n                ВАЖНЫЕ УВЕДОМЛЕНИЯ\n            </Div>\n        </div>\n        <Group className=\"lastNotificationsContainer\">\n            <span className=\"inversedTitle\">\n                ПОСЛЕДНИЕ СОБЫТИЯ\n            </span>\n            <div className=\"notification notificationTop\">\n                Володя Ржавый получил 5 за контрольную по уроку алгебра. Единственный в классе!\n            </div>\n            <div className=\"notification\">\n                Ирина Шикина достигла 10 уровня\n            </div>\n            <div className=\"notification\">\n                Твой класс получил рекордные 26 оценок за неделю. Из них 15 пятёрок!\n            </div>\n            <div className=\"notification notificationBottom\">\n                <Button level=\"tertiary\" style={{margin: 0, padding: 0}}>\n                    <span style={{fontSize: \"15px\", fontWeight: \"700\", color: \"#fff\"}}>\n                        Подробнее\n                    </span>\n                </Button>\n            </div>\n        </Group>\n    </Panel>\n);\n\nAccount.propTypes = {\n    id: PropTypes.string.isRequired,\n};\n\nexport default Account;","import React from 'react';\nimport { View } from '@vkontakte/vkui';\nimport Account from '../panels/account'\nimport {connect} from \"react-redux\";\n\n\nclass AccountView extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <View activePanel={(this.props.activePanel === \"auth\" ? \"account\" : this.props.activePanel)}>\n                <Account id=\"account\"/>\n            </View>\n        )\n    }\n}\n\nconst mapStateToProps = store => {\n    console.log(\"Account View\", store);\n    return {\n        activePanel: store.activePanel,\n        profile: store.profile\n    }\n};\n\nexport default connect(mapStateToProps)(AccountView)","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport \"./mark.css\"\n\nfunction defineColor(val) {\n    let colors = [];\n\n    if (val === \"5\" || val.toLowerCase() === \"зачёт\" || val === \"Зч\") {\n        colors[1] = \"#1cb336\";\n        colors[0] = \"#72de20\";\n    } else if (val === \"4\") {\n        colors[0] = \"#02cd84\";\n        colors[1] = \"#00e19d\";\n    } else if (val === \"3\") {\n        colors[0] = \"#ff512f\";\n        colors[1] = \"#f09819\";\n    } else if (val === \"2\" || val.toLowerCase() === \"незачёт\" || val === \"Нзч\") {\n        colors[0] = \"#ff4b2b\";\n        colors[1] = \"#ff416c\";\n    }\n    return colors;\n} //TODO add 10 system support\n\nString.prototype.capitalize = function() {\n    return this.replace(/(?:^|\\s)\\S/g, function(a) { return a.toUpperCase(); });\n};\n\nconst Mark = props => {\n    let container = false;\n    let mark_value = props.val.toLowerCase();\n    if (props.short){\n        if (mark_value === \"зачёт\") mark_value = \"Зч\";\n        if (mark_value === \"незачёт\") mark_value = \"Нзч\";\n    } else {\n        mark_value = mark_value.capitalize()\n    }\n    if (mark_value === \"Зачёт\" || mark_value === \"Незачёт\")\n        container = true;\n\n    return (\n        <div className=\"markContainer\" style={{\n            width: (container ? \"68px\" : `${props.size}px `),\n            height: (container ? \"22px\" : `${props.size}px `),\n            background: (props.is_routine ? \"#5690ff\"\n                : `linear-gradient(90deg, ${defineColor(props.val)[0]}, ${defineColor(props.val)[1]})`),\n            fontSize: (props.fontSize ? `${props.fontSize}px` : \"14px\"),\n            borderRadius: (container ? \"11px\" : \"50%\")\n        }}>\n            <span>{mark_value}</span>\n            {(props.weight && props.weight > 1 ?\n                <div className=\"markWeight\">\n                    {props.weight}\n                </div>\n                : null)}\n        </div>\n    )\n};\n\nMark.propTypes = {\n    size: PropTypes.string.isRequired,\n    val: PropTypes.string.isRequired,\n    is_routine: PropTypes.bool.isRequired,\n    weight: PropTypes.string,\n    fontSize: PropTypes.string,\n    short: PropTypes.bool,\n};\n\nexport default Mark;","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport \"./customSpinner.css\"\nimport Icon44Spinner from '@vkontakte/icons/dist/44/spinner';\n\nconst CustomSpinner = props => (\n    <div className=\"customSpinnerContainer\" style={{backgroundColor: (props.isInverse ? \"#5690ff\" : \"#ffffff\")}}>\n        <div className=\"customSpinnerRotator\" style={{color: (props.isInverse ? \"#ffffff\" :\"#5690ff\" )}}>\n            <Icon44Spinner/>\n        </div>\n    </div>\n);\n\nCustomSpinner.propTypes = {\n    isInverse: PropTypes.bool.isRequired\n};\n\nexport default CustomSpinner;","import {\n    Tabs,\n    Div,\n    Panel,\n    PanelHeader,\n    TabsItem,\n    HorizontalScroll,\n} from '@vkontakte/vkui';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/marks.css\"\n\nimport Mark from \"../custom_components/mark\"\nimport CustomSpinner from \"../custom_components/customSpinner\";\n\nclass Marks extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.marksData = this.props.appData.marks;\n        this.lastMarksData = this.props.appData.lastMarks;\n        this.tabs = [];\n        this.tabsItems = [];\n        let flag = this.props.appData.marks.data.length === 0;\n\n        this.state = {\n            activeTab: \"1\",\n            ready: !flag,\n            error: false,\n            errorLastMarks: false,\n        };\n\n        if (flag)\n            this.loadData();\n        else\n            this.startRender();\n    }\n\n    loadData = async () => {\n        this.props.getMarks(this.props.profile.id, this.props.profile.secret, this.props.profile.student.id);\n        this.props.getLastMarks(this.props.profile.id, this.props.profile.secret, this.props.profile.student.id);\n\n        let id = setInterval(() => {\n            if (this.props.appData.error) {\n                console.log(\"err marks\");\n                clearInterval(id);\n                this.setState({error: true, ready: true});\n            }\n            if (!this.state.error && this.props.appData.marks.data.length !== 0) {\n                this.marksData = this.props.appData.marks;\n                clearInterval(id);\n                console.log(\"GONNA RENDER\", this.marksData);\n                this.startRender();\n            }\n        }, 200);\n        let id2 = setInterval(() => {\n            if (this.props.appData.errorLastMarks) {\n                console.log(\"err last\");\n                clearInterval(id2);\n                this.setState({errorLastMarks: true, ready: true});\n            }\n            // if (this.props.appData.lastMarks.data.length !== 0 && !this.state.errorLastMarks) {\n            //     this.lastMarksData = this.props.appData.lastMarks;\n            //     clearInterval(id2);\n            //     this.startRender();\n            // }\n        }, 200);\n    };\n\n    startRender = () => {\n        let periods = this.marksData.data[0].periods.length;\n        console.log(\"periods length\", periods);\n        for (let i = 0; i < periods; i++) {\n            this.tabs.push(this.drawTab(i));\n        }\n\n        this.setState({\n            ready: true,\n        });\n    };\n\n    drawTabsItem = () => {\n        if (this.marksData.data[0]) {\n            let periods = this.marksData.data[0].periods.length;\n            this.tabsItems = [];\n            for (let i = 0; i < periods; i++) {\n                this.tabsItems.push(\n                    <TabsItem\n                        onClick={() => this.setState({activeTab: `${i + 1}`})}\n                        selected={this.state.activeTab === `${i + 1}`}\n                    >\n                        {i + 1}\n                    </TabsItem>\n                );\n            }\n            return this.tabsItems;\n        }\n    };\n\n    drawSpinner = () => {\n        return (\n            <CustomSpinner isInverse={true}/>\n        );\n    };\n\n    drawTab = (currentTab) => {\n        let subjectsFields = [];\n\n        let generateSubject = (subject, currentPeriod) => {\n            let period = subject.periods[currentPeriod];\n            let marks = [];\n            let marksModal = [];\n            let avg = 0;\n            period.marks.forEach(mark => {\n                avg += mark.value * (mark.weight ? mark.weight : 1);\n                marks.push(\n                    <div>\n                        <Mark size=\"16\" val={mark.value.toString()} is_routine={true} fontSize=\"12\"/>\n                    </div>\n                );\n                marksModal.push(\n                    <div className=\"modalMarkMarksInfo\">\n                        <div className=\"modalMarkMarksInfoLeft\">\n                            <Mark size=\"22\" is_routine={false} val={mark.value.toString()} fontSize=\"14\"\n                                  weight={(mark.weight ? mark.weight.toString() : \"1\")}/>\n                        </div>\n                        <div className=\"modalMarkMarksInfoContainer\">\n                            <div className=\"modalMarkMarksInfoForm\">\n                                {mark.form}\n                            </div>\n                            <div className=\"modalMarkMarksInfoName\">\n                                {mark.name}\n                            </div>\n                            <div className=\"modalMarkMarksInfoDate\">\n                                14 никогдабря\n                            </div>\n                        </div>\n                    </div>\n                );\n            });\n            avg /= marks.length;\n            avg = avg.toFixed(2);\n            let modal = (\n                <div>\n                    <div className=\"modalMarkTitle\">\n                        Сведения о предмете\n                    </div>\n                    <div className=\"modalMarkSubjectInfo\">\n                        <div className=\"modalMarkSubjectInfoLeft\">\n                            {(isNaN(avg) ? \"0.00\" : avg)}\n                        </div>\n                        <div className=\"modalMarkSubjectInfoText\">\n                            Средний балл\n                        </div>\n                    </div>\n                    <div className=\"modalMarkSubjectInfo\">\n                        <div className=\"modalMarkSubjectInfoLeft\">\n                            {subject.year_mark ?\n                                <Mark size=\"22\" val={subject.year_mark.toString()} is_routine={false} fontSize=\"14\"/>\n                                : \"-\"}\n                        </div>\n                        <div className=\"modalMarkSubjectInfoText\">\n                            Итоговая оценка\n                        </div>\n                    </div>\n                    <div className=\"modalMarkTitle\">\n                        Оценки\n                    </div>\n                    {marksModal}\n                </div>\n            );\n            return (\n                <div className=\"allMarksContainer\" onClick={() => this.props.openModal(modal, subject.name)}>\n                    <div className=\"subjectRow\">\n                        <div className=\"subject\">\n                            {subject.name}\n                        </div>\n                        <div className=\"avg\">\n                            {isNaN(avg) ? null : avg}\n                        </div>\n                    </div>\n                    <div className=\"marksRow\">\n                        {marks}\n                    </div>\n                    {/*<div className=\"advicesRow\">*/}\n                    {/*    <div className=\"adviceContainer\">*/}\n                    {/*        Получите 1 пятерку*/}\n                    {/*    </div>*/}\n                    {/*</div>*/}\n                </div>\n            );\n        };\n\n        let generateSubjectsFields = (currentPeriod) => {\n            this.marksData.data.forEach(subject => {\n                if (subject.periods.length !== 0)\n                    subjectsFields.push(generateSubject(subject, currentPeriod));\n            })\n        };\n\n        generateSubjectsFields(currentTab);\n\n        let drawLastMarks = () => {\n            console.log(\"lastmarks\", this.lastMarksData.data);\n            if (this.state.errorLastMarks) {\n                return (\n                    <p className=\"errorLastMarks\">Не удалось загрузить последние оценки из-за непредвиденной ошибки.</p>\n                )\n            } else {\n                if (this.lastMarksData.data.length !== 0 && this.lastMarksData.data.lessons.length !== 0) {\n                    return (\n                        <div>\n                            <Div className=\"marksBlocksTitle\" style={{paddingTop: \"0\"}}>\n                                ПОСЛЕДНИЕ ОЦЕНКИ\n                            </Div>\n                            <HorizontalScroll className=\"lastMarksContainer\">\n                                <Div className=\"lastMarkContainer\">\n                                    <div className=\"lastMarkVal\">\n                                        <Mark size=\"36\" val=\"5\" is_routine={false} fontSize=\"20\"/>\n                                    </div>\n                                    <div className=\"lastMarkSubject\">Математика</div>\n                                    <div className=\"lastMarkDate\">Сегодня</div>\n                                </Div>\n                            </HorizontalScroll>\n                        </div>\n                    );\n                } else {\n                    return null;\n                }\n            }\n        };\n\n        return (\n            <div id={currentTab}>\n                {/*{drawLastMarks()}*/}\n                <Div className=\"marksBlocksTitle\">\n                    ВСЕ ОЦЕНКИ\n                </Div>\n                {subjectsFields}\n            </div>\n        );\n    };\n\n    drawResultTab = () => {\n        let subjectFields = [];\n\n        let drawSubjectField = (subject) => {\n            let periods = subject.periods.length;\n            let marks = [];\n            for (let i = 0; i < periods; i++) {\n                marks.push(subject.periods[i].final_mark);\n            }\n            let renderedMarks = [];\n            marks.forEach(mark => {\n                if (mark)\n                    renderedMarks.push(\n                        <div className=\"resultMarksContainerMark\">\n                            <Mark size=\"24\" val={mark.toString()} is_routine={true} fontSize=\"12\" short={true}/>\n                        </div>\n                    )\n            });\n\n            return (\n                <Div className=\"resultMarksContainer\">\n                    <div className=\"resultMarksContainerSubject\">{subject.name}</div>\n                    <div className=\"resultMarksContainerMarks\">\n                        {renderedMarks}\n                        <div className=\"resultMarksContainerResultedMark\">\n                            {subject.year_mark ? <Mark size=\"24\" val={subject.year_mark.toString()} is_routine={false} fontSize=\"12\"\n                                                       short={true}/>\n                            : null}\n                        </div>\n                    </div>\n                </Div>\n            );\n        };\n\n        this.marksData.data.forEach(subject => {\n            if (subject.periods.length !== 0)\n                subjectFields.push(drawSubjectField(subject));\n        });\n\n        return (\n            <div>\n                {subjectFields}\n            </div>\n        )\n    };\n\n    render() {\n        return (\n            <Panel id={this.props.id}>\n                <PanelHeader noShadow={true}>\n                    Оценки\n                </PanelHeader>\n                {this.state.error ?\n                    <p className=\"marksScreenError\">Непредвиденная ошибка. Пожалуйста, попробуйте позже.</p>\n                    :\n                    <div className=\"marksScreen\">\n                        <Div style={{paddingTop: \"13px\", paddingBottom: \"13px\",}}>\n                            <Tabs theme=\"header\" type=\"buttons\" className=\"marksTabs\">\n                                {this.drawTabsItem()}\n                                <TabsItem\n                                    onClick={() => this.setState({activeTab: 'result'})}\n                                    selected={this.state.activeTab === 'result'}\n                                >\n                                    Итоговые\n                                </TabsItem>\n                            </Tabs>\n                        </Div>\n                        {this.state.ready ? this.tabs[this.state.activeTab - 1] : this.drawSpinner()}\n                        {this.state.activeTab === 'result' ? this.drawResultTab() : null}\n                    </div>\n                }\n            </Panel>\n        )\n    }\n\n}\n\nMarks.propTypes = {\n    id: PropTypes.string.isRequired,\n    getMarks: PropTypes.func.isRequired,\n    getLastMarks: PropTypes.func.isRequired,\n    profile: PropTypes.any.isRequired,\n    appData: PropTypes.any.isRequired,\n    openModal: PropTypes.func.isRequired,\n    closeModal: PropTypes.func.isRequired,\n};\n\nexport default Marks;","export function scheduleGetDates() {\n    let today = new Date();\n    let dayOfWeek = today.getDay();\n    let monday = null;\n\n    if (dayOfWeek > 0){\n        let shift = dayOfWeek - 1;\n        monday = new Date(today.getFullYear(), today.getMonth(), today.getDate() - shift)\n    } else\n        monday = new Date(today.getFullYear(), today.getMonth(), today.getDate() + 1);\n\n    let dates = [];\n\n    for (let i = 0; i < 7; i++) {\n        let date = new Date(monday.getFullYear(), monday.getMonth(), monday.getDate() + i);\n\n        dates.push(date.getDate());\n    }\n\n    console.log(\"tot\", today);\n    console.log(\"mom\", monday);\n\n    dates.push(monday);\n    dates.push(new Date(monday.getFullYear(), monday.getMonth(), monday.getDate() + 6));\n\n    return dates;\n}\n\nexport function schedulePrevWeek(currentStart) {\n    let newStart = new Date(currentStart.getFullYear(), currentStart.getMonth(), currentStart.getDate() - 7);\n    let newEnd = new Date(currentStart.getFullYear(), currentStart.getMonth(), currentStart.getDate() - 1);\n    let resArr = [];\n\n    for(let i = 0; i < 7; i++){\n        let date = new Date(newStart.getFullYear(), newStart.getMonth(), newStart.getDate() + i);\n        resArr.push(date.getDate())\n    }\n    resArr.push(newStart);\n    resArr.push(newEnd);\n\n    return resArr;\n}\n\nexport function scheduleNextWeek(currentStart) {\n    let newStart = new Date(currentStart.getFullYear(), currentStart.getMonth(), currentStart.getDate() + 7);\n    let newEnd = new Date(newStart.getFullYear(), newStart.getMonth(), newStart.getDate() + 6);\n    let resArr = [];\n\n    for(let i = 0; i < 7; i++){\n        let date = new Date(newStart.getFullYear(), newStart.getMonth(), newStart.getDate() + i);\n        resArr.push(date.getDate())\n    }\n    resArr.push(newStart);\n    resArr.push(newEnd);\n\n    return resArr;\n}\n\nexport function setCorrectYear(str){\n    let correctYear = str.slice(8);\n    str = str.slice(0, 6);\n    str = str + correctYear;\n    return str;\n}\n\nexport function getRusMonthName(monthNum) {\n    switch (monthNum) {\n        case 0:\n            return \"Январь\";\n        case 1:\n            return \"Февраль\";\n        case 2:\n            return \"Март\";\n        case 3:\n            return \"Апрель\";\n        case 4:\n            return \"Май\";\n        case 5:\n            return \"Июнь\";\n        case 6:\n            return \"Июль\";\n        case 7:\n            return \"Август\";\n        case 8:\n            return \"Сентябрь\";\n        case 9:\n            return \"Октябрь\";\n        case 10:\n            return \"Ноябрь\";\n        case 11:\n            return \"Декабрь\";\n\n    }\n}\n\nexport function getStartDateForLastMarks(dueDate) {\n    let startDate = new Date(dueDate.getFullYear(), dueDate.getMonth(), dueDate.getDate() - 7);\n    return startDate;\n}","import {getStartDateForLastMarks, setCorrectYear} from \"../../utils/utils\"\n\nconst axios = require('axios');\nlet baseUrl = \"https://bklet.ml/\";\n\nlet normalTimeout = 10000;\nlet normalInterval = 2500;\n\nexport function getJournal(id, secret, start, end, student_id) {\n        return dispatch => {\n        dispatch({\n            type: \"GET_JOURNAL_REQUEST\",\n            data: {\n                data: []\n            },\n        });\n\n        getSchedule(id, secret, start, end, student_id, dispatch);\n    }\n}\n\nfunction getSchedule(id, secret, start, end, student_id, dispatcher) {\n    let methodUrl = \"api/diary/journal/dates/\";\n\n    let queries = `?student_id=${student_id}&id=${id}&secret=${secret}&start=${setCorrectYear(start.toLocaleDateString(\"ru-RU\"))}&end=${setCorrectYear(end.toLocaleDateString(\"ru-RU\"))}`;\n    // let queries = `?id=0&secret=${secret}&start=${setCorrectYear(start.toLocaleDateString(\"ru-RU\"))}&end=${setCorrectYear(end.toLocaleDateString(\"ru-RU\"))}`;\n\n    console.log(\"schedule request\", baseUrl + methodUrl + queries);\n\n    let intervalId;\n\n    var timeoutID = setTimeout(() => {\n        console.log(\"schedule error\");\n        clearInterval(intervalId);\n        dispatcher({\n            type: \"GET_JOURNAL_FAIL\",\n            data: Error(\"end timeout\"),\n        })\n    }, normalTimeout);\n    intervalId = setInterval(() => {\n        axios.get(baseUrl + methodUrl + queries)\n            .then((response) => {\n                console.log(\"resp\", response.data);\n                if (!response.data.data === null || !response.data.error_msg) {\n                    clearTimeout(timeoutID);\n                    clearInterval(intervalId);\n                    dispatcher({\n                        type: \"GET_JOURNAL_SUCCESS\",\n                        data: response.data\n                    })\n                }\n            })\n    }, normalInterval)\n}\n\nexport function getMarks(id, secret, student_id,) {\n    console.log(\"STUDENT ID\", student_id);\n    return dispatch => {\n        dispatch({\n            type: \"GET_MARKS_REQUEST\",\n            data: {\n                data: []\n            },\n        });\n\n        getAndAggregateMarks(id, secret, student_id, dispatch)\n    }\n}\n\nfunction getAndAggregateMarks(id, secret, student_id, dispatcher) {\n    let methodUrl = \"api/diary/marks/all/\";\n\n    let queries = `?student_id=${student_id}&id=${id}&secret=${secret}`;\n    // let queries = `?id=0&secret=${secret}&start=${setCorrectYear(startDate.toLocaleDateString(\"ru-RU\"))}&end=${setCorrectYear(endDate.toLocaleDateString(\"ru-RU\"))}`;\n\n    console.log(baseUrl + methodUrl + queries);\n\n    let intervalId;\n\n    var timeoutID = setTimeout(() => {\n        console.log(\"marks error\");\n        clearInterval(intervalId);\n        dispatcher({\n            type: \"GET_MARKS_FAIL\",\n            data: Error(\"end timeout\")\n        })\n    }, normalTimeout);\n    intervalId = setInterval(() => {\n        axios.get(baseUrl + methodUrl + queries)\n            .then((response) => {\n                console.log(\"marks resp\", response.data);\n                if (!response.data.data === null || !response.data.error) {\n                    clearTimeout(timeoutID);\n                    clearInterval(intervalId);\n                    dispatcher({\n                        type: \"GET_MARKS_SUCCESS\",\n                        data: response.data\n                    })\n                }\n            })\n    }, normalInterval);\n}\n\nexport function getLastMarks(id, secret, student_id) {\n\n    return dispatch => {\n        dispatch({\n            type: \"GET_LAST_MARKS_REQUEST\",\n            data: {\n                data: []\n            },\n        });\n\n        getLMarks(id, secret, student_id, dispatch);\n    }\n}\n\nfunction getLMarks(id, secret, student_id, dispatcher) {\n    let methodUrl = \"api/diary/marks/dates/\";\n    let endDate = new Date();\n    let startDate = getStartDateForLastMarks(endDate);\n\n    let queries = `?student_id=${student_id}&id=${id}&secret=${secret}&start=${setCorrectYear(startDate.toLocaleDateString(\"ru-RU\"))}&end=${setCorrectYear(endDate.toLocaleDateString(\"ru-RU\"))}`;\n    // let queries = `?id=0&secret=${secret}&start=${setCorrectYear(startDate.toLocaleDateString(\"ru-RU\"))}&end=${setCorrectYear(endDate.toLocaleDateString(\"ru-RU\"))}`;\n\n    console.log(\"start\", startDate, startDate.toLocaleDateString(\"ru-RU\"));\n    console.log(\"end\", endDate, endDate.toLocaleDateString(\"ru-RU\"));\n    console.log(\"error here\", baseUrl + methodUrl + queries);\n\n    let intervalId;\n\n    var timeoutID = setTimeout(() => {\n        console.log(\"marks error\");\n        clearInterval(intervalId);\n        dispatcher({\n            type: \"GET_LAST_MARKS_FAIL\",\n            data: Error(\"end timeout\")\n        })\n    }, normalTimeout);\n    intervalId = setInterval(() => {\n        axios.get(baseUrl + methodUrl + queries)\n            .then((response) => {\n                console.log(\"last marks resp\", response.data);\n                if (response.data.error) {\n                    dispatcher({\n                        type: \"GET_LAST_MARKS_FAIL\",\n                        data: response.data.error\n                    })\n                } else {\n                    clearTimeout(timeoutID);\n                    clearInterval(intervalId);\n                    dispatcher({\n                        type: \"GET_LAST_MARKS_SUCCESS\",\n                        data: response.data\n                    })\n                }\n            })\n    }, normalInterval);\n}","import React from 'react';\nimport {View, ModalRoot, ModalPageHeader, IS_PLATFORM_ANDROID, HeaderButton, ModalPage} from '@vkontakte/vkui';\nimport Marks from '../panels/marks'\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\nimport \"./styles/Marks.css\"\n\nimport {connect} from \"react-redux\";\nimport {getLastMarks, getMarks} from \"../redux/actions/AppLogicAction\";\n\nclass MarksView extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            modalMarks: null,\n        };\n        this.closeModal = () => {\n            this.setState({modalMarks: null})\n        };\n    }\n\n    setModalMark = (modal, name) => {\n        this.setState({\n            modalMarks:\n                <ModalRoot activeModal=\"modalMark\">\n                    <ModalPage\n                        id=\"modalMark\"\n                        onClose={this.closeModal}\n                        settlingHeight={50}\n                        header={\n                            <ModalPageHeader\n                                left={IS_PLATFORM_ANDROID &&\n                                <HeaderButton onClick={this.closeModal}><Icon24Cancel style={{color:\"#999999\"}}/></HeaderButton>}\n                            >\n                                {name}\n                            </ModalPageHeader>\n                        }>\n                        {modal}\n                    </ModalPage>\n                </ModalRoot>\n        })\n    };\n\n    render() {\n        return (\n            <View activePanel={this.props.activePanel} modal={this.state.modalMarks}>\n                <Marks id=\"marks\"\n                       profile={this.props.profile}\n                       appData={this.props.appLogic}\n                       getMarks={this.props.getMarksAction}\n                       getLastMarks={this.props.getLastMarksAction}\n                       openModal={this.setModalMark}\n                       closeModal={this.closeModal}\n                />\n            </View>\n        )\n    }\n}\n\nconst mapStateToProps = store => {\n    console.log(\"Marks View\", store);\n    return {\n        activePanel: store.activePanel,\n        profile: store.profile,\n        appLogic: store.appLogic,\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        getMarksAction: (userId, secret, student_id) => {\n            dispatch(getMarks(userId, secret, student_id))\n        },\n        getLastMarksAction: (userId, secret, student_id) => {\n            dispatch(getLastMarks(userId, secret, student_id))\n        }\n    }\n};\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(MarksView);","import React from 'react';\nimport PropTypes from \"prop-types\";\nimport \"./scheduleWeekBar.css\"\nimport {Button, Div} from \"@vkontakte/vkui\";\n\nclass ScheduleWeekBar extends React.Component {\n    constructor() {\n        super();\n    }\n\n    render() {\n        return (\n            <Div className=\"scheduleWeekTopBar\">\n                <div className=\"scheduleWeekDay\">\n                    <span>ПН</span>\n                    <Button level=\"tertiary\" style={{margin: 0, padding: 0, color: \"#fff\"}}\n                            onClick={() => this.props.clickFunc(0)}>\n                        <div\n                            className={`scheduleWeekDayDate ${this.props.selectedDay === 0 ? 'scheduleWeekDaySelected' : null}`}>\n                            {this.props.dates[0]}\n                        </div>\n                    </Button>\n                </div>\n                <div className=\"scheduleWeekDay\">\n                    <span>ВТ</span>\n                    <Button level=\"tertiary\" style={{margin: 0, padding: 0, color: \"#fff\"}}\n                            onClick={() => this.props.clickFunc(1)}>\n                        <div\n                            className={`scheduleWeekDayDate ${this.props.selectedDay === 1 ? 'scheduleWeekDaySelected' : null}`}>\n                            {this.props.dates[1]}\n                        </div>\n                    </Button>\n                </div>\n                <div className=\"scheduleWeekDay\">\n                    <span>СР</span>\n                    <Button level=\"tertiary\" style={{margin: 0, padding: 0, color: \"#fff\"}}\n                            onClick={() => this.props.clickFunc(2)}>\n                        <div\n                            className={`scheduleWeekDayDate ${this.props.selectedDay === 2 ? 'scheduleWeekDaySelected' : null}`}>\n                            {this.props.dates[2]}\n                        </div>\n                    </Button>\n                </div>\n                <div className=\"scheduleWeekDay\">\n                    <span>ЧТ</span>\n                    <Button level=\"tertiary\" style={{margin: 0, padding: 0, color: \"#fff\"}}\n                            onClick={() => this.props.clickFunc(3)}>\n                        <div\n                            className={`scheduleWeekDayDate ${this.props.selectedDay === 3 ? 'scheduleWeekDaySelected' : null}`}>\n                            {this.props.dates[3]}\n                        </div>\n                    </Button>\n                </div>\n                <div className=\"scheduleWeekDay\">\n                    <span>ПТ</span>\n                    <Button level=\"tertiary\" style={{margin: 0, padding: 0, color: \"#fff\"}}\n                            onClick={() => this.props.clickFunc(4)}>\n                        <div\n                            className={`scheduleWeekDayDate ${this.props.selectedDay === 4 ? 'scheduleWeekDaySelected' : null}`}>\n                            {this.props.dates[4]}\n                        </div>\n                    </Button>\n                </div>\n                {(\n                    this.props.weekDuration === 6 ?\n                        <div className=\"scheduleWeekDay\">\n                            <span>СБ</span>\n                            <Button level=\"tertiary\" style={{margin: 0, padding: 0, color: \"#fff\"}}\n                                    onClick={() => this.props.clickFunc(5)}>\n                                <div\n                                    className={`scheduleWeekDayDate ${this.props.selectedDay === 5 ? 'scheduleWeekDaySelected' : null}`}>\n                                    {this.props.dates[5]}\n                                </div>\n                            </Button>\n                        </div>\n                        :\n                        null\n                )}\n            </Div>\n\n        );\n    }\n}\n\nScheduleWeekBar.propTypes = {\n    selectedDay: PropTypes.number.isRequired,\n    weekDuration: PropTypes.number.isRequired,\n    dates: PropTypes.array.isRequired,\n    clickFunc: PropTypes.func.isRequired,\n};\n\nexport default ScheduleWeekBar;","import React from 'react';\n\nconst SubjectHWIcon = props => (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n            d=\"M5 3C3.89 3 3 3.89 3 5V19C3 20.11 3.89 21 5 21H19C20.11 21 21 20.11 21 19V5C21 3.89 20.11 3 19 3H5ZM5 5H19V19H5V5ZM7 7V9H17V7H7ZM7 11V13H17V11H7ZM7 15V17H14V15H7Z\"\n            fill=\"#A8ADAF\"/>\n    </svg>\n);\n\nexport default SubjectHWIcon","import React from 'react';\n\nconst SubjectRoomIcon = props => (\n    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n            d=\"M12 11.5C11.337 11.5 10.7011 11.2366 10.2322 10.7678C9.76339 10.2989 9.5 9.66304 9.5 9C9.5 8.33696 9.76339 7.70107 10.2322 7.23223C10.7011 6.76339 11.337 6.5 12 6.5C12.663 6.5 13.2989 6.76339 13.7678 7.23223C14.2366 7.70107 14.5 8.33696 14.5 9C14.5 9.3283 14.4353 9.65339 14.3097 9.95671C14.1841 10.26 13.9999 10.5356 13.7678 10.7678C13.5356 10.9999 13.26 11.1841 12.9567 11.3097C12.6534 11.4353 12.3283 11.5 12 11.5ZM12 2C10.1435 2 8.36301 2.7375 7.05025 4.05025C5.7375 5.36301 5 7.14348 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 7.14348 18.2625 5.36301 16.9497 4.05025C15.637 2.7375 13.8565 2 12 2Z\"\n            fill=\"#A8ADAF\"/>\n    </svg>\n);\n\nexport default SubjectRoomIcon","import {Gallery, Panel, PanelHeader,} from '@vkontakte/vkui';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/schedule.css\"\nimport Mark from \"../custom_components/mark\"\nimport CustomSpinner from \"../custom_components/customSpinner\"\nimport {getRusMonthName, scheduleGetDates, scheduleNextWeek, schedulePrevWeek} from \"../utils/utils\"\nimport ScheduleWeekBar from \"../custom_components/scheduleTopBar\"\nimport Icon24BrowserBack from '@vkontakte/icons/dist/24/browser_back';\nimport Icon24BrowserForward from '@vkontakte/icons/dist/24/browser_forward';\nimport Icon24Chevron from '@vkontakte/icons/dist/24/chevron';\nimport SubjectHWIcon from \"../custom_components/icon-pack/SubjectHWIcon\"\nimport SubjectRoomIcon from \"../custom_components/icon-pack/SubjectRoomIcon\"\nimport SwipeLeftWeek from \"../custom_components/icon-pack/SwipeLeftWeek\"\nimport SwipeRightWeek from \"../custom_components/icon-pack/SwipeRightWeek\"\n\n\nclass Schedule extends React.Component {\n    constructor(props) {\n        super(props);\n        console.log(\"RENDER AGAIN\");\n\n        this.dayDates = scheduleGetDates();\n        this.scheduleData = this.props.appData.journal;\n        let flag = this.props.appData.journal.data.length === 0;\n\n        this.state = {\n            currentDay: (new Date().getDay() <= 6 && new Date().getDay() > 0 ? new Date().getDay() - 1 : 0),\n            month: getRusMonthName(this.dayDates[7].getMonth()),\n            weekDuration: (!flag ? this.scheduleData.data.days.length : 5),\n            ready: !flag,\n            error: false,\n        };\n\n        if (flag)\n            this.loadData();\n    }\n\n    loadData = async () => {\n        this.props.getJournal(this.props.profile.id, this.props.profile.secret, this.dayDates[7], this.dayDates[8], this.props.profile.student.id);\n\n        let id = setInterval(() => {\n            if (this.props.appData.error) {\n                clearInterval(id);\n                this.setState({error: true});\n                this.setState({ready: true});\n            } else {\n                if (this.props.appData.journal.data.length !== 0) {\n                    this.scheduleData = this.props.appData.journal;\n                    clearInterval(id);\n                    console.log(\"wwww\", this.props.appData.journal.data.days.length);\n                    console.log(\"wwww\", this.dayDates);\n                    this.setState({\n                        ready: true,\n                        weekDuration: (this.props.appData.journal.data.days.length < 5 ? 5 : this.props.appData.journal.data.days.length) // if holidays, length is equal to 0\n                    });\n                }\n            }\n        }, 200);\n    };\n\n    drawSpinner = () => {\n        return (\n            <CustomSpinner isInverse={false}/>\n        );\n    };\n\n    drawTopBar = () => { //FIXME\n        let clickFunc = day => {\n            this.setState({currentDay: day});\n        };\n        return (\n            <ScheduleWeekBar selectedDay={this.state.currentDay}\n                             weekDuration={(this.state.weekDuration === 0 ? 5 : this.state.weekDuration)}\n                             dates={this.dayDates}\n                             clickFunc={clickFunc}/>\n        );\n    };\n\n    generateScheduleTale = (day) => {\n        let generateSubjectTale = (subject) => {\n            let marks = [];\n            let homework = null;\n            let modalMarksPresentation = [];\n            if (subject) {\n                if (subject.marks) {\n                    console.log(\"subject\", subject);\n                    subject.marks.forEach(mark => {\n                        console.log(\"mark\", mark);\n                        marks.push( //Append weight here\n                            <Mark size=\"24\" val={(mark.score ? mark.score.toString() : mark.value.toString())}\n                                  is_routine={false} fontSize=\"14\"\n                                  weight={(mark.weight ? mark.weight.toString() : \"1\")}/>\n                        );\n                        modalMarksPresentation.push(\n                            <div className=\"modalScheduleInfoRow\">\n                                <div className=\"modalScheduleInfoRowLeft\">\n                                    <Mark size=\"22\" val={(mark.score ? mark.score.toString() : mark.value.toString())}\n                                          is_routine={false} fontSize=\"14\"\n                                          weight={(mark.weight ? mark.weight.toString() : \"1\")}/>\n                                </div>\n                                <div className=\"modalScheduleInfoRowText\">\n                                </div>\n                            </div>\n                        );\n                    });\n                }\n                if (subject.assignments) {\n                    subject.assignments.forEach(assignment => {\n                        try {\n                            homework = assignment.text\n                        } catch (e) {\n\n                        }\n                    });\n                }\n            }\n            let modal = (\n                subject.time ?\n                    <div>\n                        {subject.marks ?\n                            <div>\n                                <div className=\"modalScheduleTitle\">\n                                    Сведения о предмете\n                                </div>\n                                {modalMarksPresentation}\n                            </div>\n                            : null}\n                        {homework ?\n                            <div>\n                                <div className=\"modalScheduleTitle\">\n                                    Домашнее задание\n                                </div>\n                                <div className=\"modalScheduleInfoRow\">\n                                    <div className=\"modalScheduleInfoRowLeft\">\n                                        <SubjectHWIcon/>\n                                    </div>\n                                    <div className=\"modalScheduleInfoRowText\">\n                                        {homework}\n                                    </div>\n                                </div>\n                            </div>\n                            : null}\n                        {subject.room ?\n                            <div>\n                                <div className=\"modalScheduleTitle\">\n                                    Кабинет\n                                </div>\n                                <div className=\"modalScheduleInfoRow\">\n                                    <div className=\"modalScheduleInfoRowLeft\">\n                                        <SubjectRoomIcon/>\n                                    </div>\n                                    <div className=\"modalScheduleInfoRowText\">\n                                        {subject.room}\n                                    </div>\n                                </div>\n                            </div>\n                            : null}\n                        {subject.label ?\n                            <div>\n                                <div className=\"modalScheduleTitle\">\n                                    Тема урока\n                                </div>\n                                <div className=\"modalScheduleInfoRow\">\n                                    <div className=\"modalScheduleInfoRowLeft\">\n                                        -\n                                    </div>\n                                    {subject.label.title}\n                                    <div className=\"modalScheduleInfoRowText\">\n                                    </div>\n                                </div>\n                            </div>\n                            : null}\n                        {subject.label ?\n                            (subject.label.module ?\n                                <div>\n                                    <div className=\"modalScheduleTitle\">\n                                        Модуль\n                                    </div>\n                                    <div className=\"modalScheduleInfoRow\">\n                                        <div className=\"modalScheduleInfoRowLeft\">\n                                            -\n                                        </div>\n                                        <div className=\"modalScheduleInfoRowText\">\n                                            {subject.label.module}\n                                        </div>\n                                    </div>\n                                </div>\n                                : null)\n                            : null}\n                        <div className=\"modalEmptyElement\">\n                        </div>\n                    </div>\n                    : null\n            );\n\n            return (\n                <div className=\"scheduleSubjectTale\" onClick={() => this.props.openModal(modal, subject.name)}>\n                    <div className=\"scheduleSubjectTaleNumber\">\n                        {subject.number}\n                    </div>\n                    <div className=\"scheduleSubjectTaleInfo\">\n                        <div className=\"scheduleSubjectTaleSubjectName\">\n                            {subject.name}\n                        </div>\n                        {homework ?\n                            <div className=\"scheduleSubjectTaleHomework\">\n                                {homework}\n                            </div>\n                            : null}\n                        {\n                            subject.time ?\n                                <div className=\"scheduleSubjectTaleTimetable\">\n                                    {subject.time[0]} - {subject.time[1]}\n                                </div>\n                                : null\n                        }\n                    </div>\n                    <div className=\"scheduleSubjectTaleMarks\">\n                        {marks}\n                    </div>\n                </div>\n            )\n        };\n\n        let subjectTales = [];\n\n        let subjects = day.subjects;\n        subjects.forEach((subject) => {\n            let sbj = generateSubjectTale(subject);\n            // console.log(\"sbj\", sbj);\n            subjectTales.push(sbj)\n        });\n\n        subjectTales.push(<div className=\"scheduleSubjectLastChild\"></div>);\n\n        return (\n            <div className=\"scheduleTale\">\n                {subjectTales}\n            </div>\n        );\n    };\n    generateEmptyTale = () => {\n        return (\n            <div className=\"scheduleTale\">\n                <p>Сегодня нет занятий</p>\n            </div>\n        )\n    };\n    generateErrorSchedule = () => {\n        return (\n            <div className=\"scheduleTale\">\n                <p className=\"scheduleTaleError\">Непредвиденная ошибка. Пожалуйста, попробуйте позже.</p>\n            </div>\n        )\n    };\n\n    generateSchedule = () => {\n        let days = this.scheduleData.data.days;\n        let tales = [];\n\n        if (this.state.error) {\n            for (let i = 0; i < 5; i++) {\n                tales.push(this.generateErrorSchedule());\n            }\n        } else {\n            days.forEach((day) => {\n                tales.push(this.generateScheduleTale(day));\n            });\n        }\n\n        if (tales.length === 0) {\n            for (let i = 0; i < 5; i++) {\n                tales.push(this.generateEmptyTale());\n            }\n        }\n\n        tales.push(<div style={{width: \"40px\", display: \"flex\"}}></div>);\n        return tales\n    };\n\n    drawShedule = () => {\n        document.getElementsByTagName(\"section\")[0].style.overflow = \"hidden\";\n        return (\n            <Gallery\n                slideWidth=\"100%\"\n                className=\"scheduleSliderContainer\"\n                slideIndex={this.state.currentDay}\n                onChange={slideIndex => {\n                    this.setState({\n                        currentDay: (slideIndex >= (this.state.weekDuration < 5 ?\n                            5 :\n                            this.state.weekDuration) ? slideIndex - 1 : slideIndex)\n                    });\n                    if (slideIndex === 0)\n                        document.getElementById(\"scheduleWeekSwiperLeft\")\n                            .style.display = \"flex\";\n                    else\n                        document.getElementById(\"scheduleWeekSwiperLeft\")\n                            .style.display = \"none\";\n                    if (slideIndex >= (this.state.weekDuration < 5 ? 4 : this.state.weekDuration - 1))\n                        document.getElementById(\"scheduleWeekSwiperRight\")\n                            .style.display = \"flex\";\n                    else\n                        document.getElementById(\"scheduleWeekSwiperRight\")\n                            .style.display = \"none\";\n\n                    if (this.state.weekDuration === 6)\n                        document.querySelector(\".Gallery__slide:last-child\").style.width = \"50px\";\n                }}\n            >\n                {this.generateSchedule()}\n            </Gallery>\n        );\n    };\n\n\n    prevWeek = () => {\n        let newDatesArr = schedulePrevWeek(this.dayDates[7]);\n        this.props.getJournal(this.props.profile.id,\n            this.props.profile.secret,\n            newDatesArr[7],\n            newDatesArr[8],\n            this.props.profile.student.id);\n        this.dayDates = newDatesArr;\n        console.log(\"n_d\", this.dayDates);\n        this.setState({\n            ready: false,\n            month: getRusMonthName(this.dayDates[7].getMonth()),\n            currentDay: (this.state.weekDuration < 5 ? this.state.weekDuration - 1 : 4),\n        });\n        document.getElementById(\"scheduleWeekSwiperLeft\")\n            .style.display = \"none\";\n        document.getElementById(\"scheduleWeekSwiperRight\")\n            .style.display = \"flex\";\n\n        let id = setInterval(() => {\n                if (this.props.appData.error) {\n                    clearInterval(id);\n                    this.setState({error: true});\n                    this.setState({ready: true});\n                } else {\n                    if (this.props.appData.journal.data.length !== 0) {\n                        this.scheduleData = this.props.appData.journal;\n                        console.log(\"week dur\", this.props.appData.journal.data.days.length < 5 ? 5 : this.props.appData.journal.data.days.length);\n                        clearInterval(id);\n                        this.setState({\n                            ready: true,\n                            weekDuration: (this.props.appData.journal.data.days.length < 5 ? 5 : this.props.appData.journal.data.days.length),\n                        });\n\n                    }\n                }\n            },\n            200\n        );\n\n    };\n    nextWeek = () => {\n        let newDatesArr = scheduleNextWeek(this.dayDates[7]);\n        this.props.getJournal(this.props.profile.id,\n            this.props.profile.secret,\n            newDatesArr[7],\n            newDatesArr[8],\n            this.props.profile.student.id);\n        this.dayDates = newDatesArr;\n        console.log(\"new dates\", this.dayDates);\n        this.setState({\n            ready: false,\n            month: getRusMonthName(this.dayDates[7].getMonth()),\n            currentDay: 0,\n        });\n        document.getElementById(\"scheduleWeekSwiperRight\")\n            .style.display = \"none\";\n        document.getElementById(\"scheduleWeekSwiperLeft\")\n            .style.display = \"flex\";\n\n        let id = setInterval(() => {\n            if (this.props.appData.error) {\n                clearInterval(id);\n                this.setState({error: true});\n                this.setState({ready: true});\n            } else {\n                if (this.props.appData.journal.data.length !== 0) {\n                    this.scheduleData = this.props.appData.journal;\n                    clearInterval(id);\n                    this.setState({\n                        ready: true,\n                        weekDuration: (this.props.appData.journal.data.days.length < 5 ? 5 : this.props.appData.journal.data.days.length),\n                    });\n                }\n            }\n        }, 200);\n    };\n\n    render() {\n        return (\n            <Panel id={this.props.id} style={{backgroundColor: \"#5690ff\"}}>\n                <PanelHeader\n                    noShadow>\n                    <div className=\"scheduleHeaderMonth\">{this.state.month}</div>\n                </PanelHeader>\n                {this.drawTopBar()}\n                <div id=\"scheduleWeekSwiperLeft\" onClick={this.prevWeek}>\n                    <div className=\"up\"></div>\n                    <div className=\"down\"></div>\n                    <div style={{transform: \"scaleX(-1)\"}}>\n                        <Icon24Chevron/>\n                    </div>\n                </div>\n                <div id=\"scheduleWeekSwiperRight\" onClick={this.nextWeek}>\n                    <div className=\"up\"></div>\n                    <div className=\"down\"></div>\n                    <Icon24Chevron/>\n                </div>\n                {\n                    (this.state.ready ? this.drawShedule() : this.drawSpinner())\n                }\n            </Panel>\n        )\n    }\n}\n\nSchedule.propTypes = {\n    id: PropTypes.string.isRequired,\n    profile: PropTypes.any.isRequired,\n    getJournal: PropTypes.func.isRequired,\n    appData: PropTypes.any.isRequired,\n    openModal: PropTypes.func.isRequired,\n};\n\nexport default Schedule;","import React from 'react';\nimport {HeaderButton, IS_PLATFORM_ANDROID, ModalPage, ModalPageHeader, ModalRoot, View} from '@vkontakte/vkui';\nimport Schedule from '../panels/schedule'\nimport {connect} from \"react-redux\";\nimport {getJournal} from \"../redux/actions/AppLogicAction\";\nimport \"./styles/Schedule.css\"\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\n\nclass ScheduleView extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            modalSchedule: \"modalSchedule\",\n        };\n        this.closeModal = () => {\n            this.setState({modalSchedule: null})\n        };\n    }\n\n    setModalSchedule = (modal, name) => {\n        console.log(\"here\");\n        this.setState({\n            modalSchedule:\n                <ModalRoot activeModal=\"modalSchedule\">\n                    <ModalPage\n                        id=\"modalSchedule\"\n                        onClose={this.closeModal}\n                        settlingHeight={50}\n                        header={\n                            <ModalPageHeader\n                                left={IS_PLATFORM_ANDROID &&\n                                <HeaderButton onClick={this.closeModal}><Icon24Cancel/></HeaderButton>}\n                            >\n                                {name}\n                            </ModalPageHeader>\n                        }>\n                        {modal}\n                    </ModalPage>\n                </ModalRoot>\n        })\n    };\n\n    render() {\n        return (\n            <View activePanel={(this.props.activePanel === \"auth\" ? \"schedule\" : this.props.activePanel)} modal={this.state.modalSchedule}>\n                <Schedule id=\"schedule\"\n                          profile={this.props.profile}\n                          getJournal={this.props.getJournalAction}\n                          appData={this.props.appLogic}\n                          openModal={this.setModalSchedule}\n                />\n            </View>\n        )\n    }\n}\n\nconst mapStateToProps = store => {\n    console.log(\"Schedule View\", store);\n    return {\n        activePanel: store.activePanel,\n        profile: store.profile,\n        appLogic: store.appLogic,\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        getJournalAction: (userId, secret, start, end, student_id) => {\n            dispatch(getJournal(userId, secret, start, end, student_id))\n        }\n    }\n};\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ScheduleView);","import React from 'react';\n\nconst BigPlusIcon = props => (\n    <svg width=\"42\" height=\"42\" viewBox=\"0 0 42 42\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n              d=\"M35.8224 30.415C36.3826 30.1174 36.75 29.54 36.75 28.875V13.125C36.75 12.46 36.3826 11.8826 35.8224 11.585L21.9974 3.81509C21.7176 3.6051 21.3674 3.5 21 3.5C20.6326 3.5 20.2824 3.6051 20.0026 3.81509L6.17755 11.585C5.61743 11.8826 5.25 12.46 5.25 13.125V28.875C5.25 29.54 5.61743 30.1174 6.17755 30.415L20.0026 38.1849C20.2824 38.3949 20.6326 38.5 21 38.5C21.2166 38.5 21.4272 38.4635 21.621 38.3904C21.7558 38.3396 21.8825 38.271 21.9974 38.1849L35.8224 30.415ZM33.25 14L21 7L8.75 14V28L21 35L33.25 28V14Z\"\n              fill=\"white\"/>\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n              d=\"M29.75 22.25H22.25V29.75H19.75V22.25H12.25V19.75H19.75V12.25H22.25V19.75H29.75V22.25Z\" fill=\"white\"/>\n    </svg>\n);\n\nexport default BigPlusIcon;","import React from 'react';\n\nconst VKbot = props => (\n    <svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g filter=\"url(#filter0_d)\">\n            <circle cx=\"14\" cy=\"10\" r=\"10\" fill=\"white\"/>\n        </g>\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n              d=\"M20.3786 6.89022C20.4713 6.58122 20.3786 6.35416 19.9376 6.35416H18.4793C18.1084 6.35416 17.9375 6.5503 17.8448 6.76659C17.8448 6.76659 17.1032 8.57425 16.0526 9.74845C15.7127 10.0883 15.5582 10.1965 15.3728 10.1965C15.2801 10.1965 15.1459 10.0883 15.1459 9.77936V6.89022C15.1459 6.51941 15.0383 6.35416 14.7293 6.35416H12.4376C12.2059 6.35416 12.0665 6.52626 12.0665 6.68936C12.0665 7.04088 12.5918 7.12194 12.6459 8.11076V10.2583C12.6459 10.7292 12.5609 10.8145 12.3755 10.8145C11.8811 10.8145 10.6785 8.99879 9.96527 6.92111C9.82549 6.51728 9.6853 6.35416 9.31259 6.35416H7.85425C7.43759 6.35416 7.35425 6.5503 7.35425 6.76659C7.35425 7.15286 7.84866 9.06866 9.65629 11.6025C10.8614 13.3328 12.5593 14.2708 14.1043 14.2708C15.0312 14.2708 15.1459 14.0625 15.1459 13.7036V12.3958C15.1459 11.9792 15.2337 11.896 15.5273 11.896C15.7436 11.896 16.1144 12.0041 16.9796 12.8384C17.9684 13.8272 18.1314 14.2708 18.6876 14.2708H20.1459C20.5626 14.2708 20.7709 14.0625 20.6507 13.6514C20.5192 13.2416 20.0471 12.6471 19.4207 11.9423C19.0808 11.5407 18.5709 11.1081 18.4164 10.8917C18.2001 10.6137 18.2619 10.49 18.4164 10.2429C18.4164 10.2429 20.1932 7.73995 20.3786 6.89022Z\"\n              fill=\"url(#paint0_linear)\"/>\n        <defs>\n            <filter id=\"filter0_d\" x=\"0\" y=\"0\" width=\"28\" height=\"28\" filterUnits=\"userSpaceOnUse\"\n                    color-interpolation-filters=\"sRGB\">\n                <feFlood flood-opacity=\"0\" result=\"BackgroundImageFix\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset dy=\"4\"/>\n                <feGaussianBlur stdDeviation=\"2\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0\"/>\n                <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\n                <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect1_dropShadow\" result=\"shape\"/>\n            </filter>\n            <linearGradient id=\"paint0_linear\" x1=\"14.0194\" y1=\"6.35416\" x2=\"14.0194\" y2=\"14.2708\"\n                            gradientUnits=\"userSpaceOnUse\">\n                <stop stop-color=\"#69A9E6\"/>\n                <stop offset=\"1\" stop-color=\"#3277B2\"/>\n            </linearGradient>\n        </defs>\n    </svg>\n);\n\nexport default VKbot;","import {Div, Button, Panel, PanelHeader, FixedLayout} from '@vkontakte/vkui';\nimport connect from '@vkontakte/vkui-connect';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/plus.css\"\n\nimport InviteUserContainer from \"../custom_components/inviteUserContainer\"\nimport BigPlusIcon from \"../custom_components/icon-pack/bigPlusIcon\"\nimport TGbot from \"../custom_components/icon-pack/TGbot\"\nimport VKbot from \"../custom_components/icon-pack/VKbot\"\nimport AliceBot from \"../custom_components/icon-pack/AliceBot\"\n\nimport Shaverma from \"../custom_components/icon-pack/Shaverma\"\nimport PlusInvitationIcon from \"../custom_components/icon-pack/PlusInvitaionIcon\"\nimport PlusNotificationIcon from \"../custom_components/icon-pack/PlusNotificationIcon\"\n\n\nclass Plus extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            currentDay: (this.props.currentDay ? this.props.currentDay : 1),\n        };\n\n        this.appId = 0;\n        this.action = \"pay-to-group\";\n        this.groupId = 0;\n    }\n\n    doPay = () => {\n        let json = {\n            app_id: this.appId,\n            action: this.action,\n            params: {\n                action: this.action,\n                amount: 1,\n                description: \"Buying subscription\",\n                data: {},\n                group_id: this.groupId\n            }\n        };\n\n        let response = connect.send(\"VKWebAppOpenPayForm\",\n            JSON.stringify(json))\n    };\n\n    render() {\n        return (\n            <Panel id={this.props.id}>\n                <PanelHeader\n                    noShadow={true}\n                    left={<Div style={{fontWeight: 'bold', fontSize: '20px'}}><span>Booklet Plus</span></Div>}>\n                </PanelHeader>\n                <FixedLayout style={{width: \"100%\"}}>\n                    <Div className=\"plusBlueBack\">\n                        <span>Расширь возможности своего дневника</span>\n                        <BigPlusIcon/>\n                    </Div>\n                </FixedLayout>\n                <div style={{padding: \"0 16px 0 16px\", marginBottom: \"8px\"}}>\n                    <Button level=\"tertiary\" className=\"plusVkContainer\">\n                        <div style={{height: \"34px\", display: \"flex\", alignItems: \"end\"}}>\n                            <VKbot/>\n                        </div>\n                        <div className=\"plusBotTextContainer\">\n                            Бот для ВКонтакте\n                        </div>\n                    </Button>\n                </div>\n                {/*<div style={{padding: \"0 16px 0 16px\", marginBottom: \"8px\"}}>*/}\n                {/*    <Button level=\"tertiary\" className=\"plusTelegramContainer\">*/}\n                {/*        <div style={{height: \"34px\", display: \"flex\", alignItems: \"end\"}}>*/}\n                {/*            <TGbot/>*/}\n                {/*        </div>*/}\n                {/*        <div className=\"plusBotTextContainer\">*/}\n                {/*            Бот для Телеграм*/}\n                {/*        </div>*/}\n                {/*    </Button>*/}\n                {/*</div>*/}\n                {/*<div style={{padding: \"0 16px 0 16px\", marginBottom: \"8px\"}}>*/}\n                {/*    <Button level=\"tertiary\" className=\"plusAliceContainer\">*/}\n                {/*        <div style={{height: \"34px\", display: \"flex\", alignItems: \"end\"}}>*/}\n                {/*            <AliceBot/>*/}\n                {/*        </div>*/}\n                {/*        <div className=\"plusBotTextContainer\">*/}\n                {/*            Навык для Алисы*/}\n                {/*        </div>*/}\n                {/*    </Button>*/}\n                {/*</div>*/}\n                {/*<div className=\"plusOfferContainer\">*/}\n                {/*    <Div className=\"plusOfferInfo\">*/}\n                {/*        <span className=\"plusOfferTitle\">*/}\n                {/*            <div style={{marginRight: \"10px\"}}>*/}\n                {/*                <PlusInvitationIcon/>*/}\n                {/*            </div>*/}\n                {/*            Бесплатный доступ к уведомлениям*/}\n                {/*        </span>*/}\n                {/*        <span className=\"plusOfferText\">*/}\n                {/*            Пригласите пятерых друзей и получите звездюлей*/}\n                {/*        </span>*/}\n                {/*        <div className=\"plusOfferAdditional\">*/}\n                {/*            <InviteUserContainer inputColor={[\"rgb(21 237 237)\", \"rgb(2 156 245)\"]}*/}\n                {/*                                 is_invited={true}*/}\n                {/*                                 shadowColor=\"rgb(17 221 239)\"/>*/}\n                {/*            <InviteUserContainer inputColor={[\"rgb(32 217 110)\", \"rgb(39 174 96)\"]}*/}\n                {/*                                 shadowColor=\"rgb(32 217 110)\"/>*/}\n                {/*            <InviteUserContainer inputColor={[\"rgb(255 223 64)\", \"rgb(255 131 89)\"]}*/}\n                {/*                                 shadowColor=\"rgb(255 203 70)\"/>*/}\n                {/*            <InviteUserContainer inputColor={[\"rgb(255 124 110)\", \"rgb(245 49 127)\"]}*/}\n                {/*                                 shadowColor=\"rgb(250 89 118)\"/>*/}\n                {/*            <InviteUserContainer inputColor={[\"rgb(255 99 222)\", \"rgb(177 34 229)\"]}*/}\n                {/*                                 shadowColor=\"rgb(232 80 225)\"/>*/}\n                {/*        </div>*/}\n                {/*    </Div>*/}\n                {/*    <Button level=\"tertiary\" className=\"plusButton\"*/}\n                {/*            style={{background: \"linear-gradient(rgb(77 229 101), rgb(74 195 122))\"}}>*/}\n                {/*        Пригласить друзей*/}\n                {/*    </Button>*/}\n                {/*</div>*/}\n                {/*<div className=\"plusOfferContainer\">*/}\n                {/*    <Div className=\"plusOfferInfo\">*/}\n                {/*        <span className=\"plusOfferTitle\">*/}\n                {/*            <div style={{marginRight: \"10px\"}}>*/}\n                {/*                <PlusNotificationIcon/>*/}\n                {/*            </div>*/}\n                {/*            Уведомления*/}\n                {/*        </span>*/}\n                {/*        <span className=\"plusOfferText\">*/}\n                {/*            — Новые оценки*/}\n                {/*        </span>*/}\n                {/*        <span className=\"plusOfferText\">*/}\n                {/*            — Текущий/следующий урок*/}\n                {/*        </span>*/}\n                {/*        <span className=\"plusOfferText\">*/}\n                {/*            — События в классе*/}\n                {/*        </span>*/}\n                {/*        <span className=\"plusOfferText\">*/}\n                {/*            — Отчётность за день*/}\n                {/*        </span>*/}\n                {/*        <div className=\"plusOfferAdditional\">*/}\n                {/*            <div className=\"plusShaverma\">*/}\n                {/*                <Shaverma/>*/}\n                {/*            </div>*/}\n                {/*            <span className=\"plusOfferText\">*/}\n                {/*                149 рублей за год — как шаверма в центре Москвы*/}\n                {/*            </span>*/}\n                {/*        </div>*/}\n                {/*    </Div>*/}\n                {/*    <Button level=\"tertiary\" className=\"plusButton\">*/}\n                {/*        Купить — 149 руб.*/}\n                {/*    </Button>*/}\n                {/*</div>*/}\n            </Panel>\n        );\n    }\n}\n\n\nPlus.propTypes = {\n    id: PropTypes.string.isRequired,\n};\n\nexport default Plus;","import React from 'react';\nimport {View} from '@vkontakte/vkui';\nimport Plus from \"../panels/plus\";\nimport {connect} from \"react-redux\";\n\nclass PlusView extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            <View activePanel={this.props.activePanel}>\n                <Plus  id=\"plus\"/>\n            </View>\n        )\n    }\n}\n\nconst mapStateToProps = store => {\n    console.log(\"Plus View\", store);\n    return {\n        activePanel: store.activePanel,\n        profile: store.profile,\n    }\n};\n\nexport default connect(mapStateToProps)(PlusView)","import React from 'react';\n\nconst VKSettingsIcon = props => (\n    <svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <rect width=\"28\" height=\"28\" rx=\"14\" fill=\"#5181B8\"/>\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\"\n              d=\"M20.6787 10.5417C20.7761 10.2294 20.6787 10 20.2156 10H18.684C18.2945 10 18.115 10.1982 18.0176 10.4168C18.0176 10.4168 17.2387 12.2435 16.1354 13.43C15.7784 13.7735 15.6161 13.8828 15.4214 13.8828C15.3241 13.8828 15.1831 13.7735 15.1831 13.4613V10.5417C15.1831 10.167 15.0701 10 14.7456 10H12.3387C12.0954 10 11.949 10.1739 11.949 10.3387C11.949 10.694 12.5007 10.7759 12.5575 11.7751V13.9453C12.5575 14.4211 12.4682 14.5073 12.2735 14.5073C11.7543 14.5073 10.4913 12.6725 9.74221 10.5729C9.59541 10.1648 9.44817 10 9.05673 10H7.52513C7.08753 10 7 10.1982 7 10.4168C7 10.8071 7.51925 12.7431 9.41771 15.3035C10.6833 17.0521 12.4665 18 14.0892 18C15.0627 18 15.1832 17.7895 15.1832 17.4268V16.1053C15.1832 15.6842 15.2754 15.6002 15.5837 15.6002C15.8108 15.6002 16.2003 15.7095 17.109 16.5525C18.1474 17.5517 18.3186 18 18.9028 18H20.4344C20.872 18 21.0908 17.7895 20.9646 17.374C20.8264 16.9599 20.3306 16.3592 19.6727 15.647C19.3157 15.2411 18.7803 14.804 18.618 14.5853C18.3908 14.3043 18.4557 14.1794 18.618 13.9296C18.618 13.9296 20.484 11.4004 20.6787 10.5417Z\"\n              fill=\"white\"/>\n    </svg>\n);\n\nexport default VKSettingsIcon;","import React from 'react';\n\nconst SettingsNotificationsIcon = props => (\n    <svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <rect width=\"28\" height=\"28\" rx=\"14\" fill=\"#5690FF\"/>\n        <path\n            d=\"M17 17.75H10.25V12.875C10.25 11 11.75 9.5 13.625 9.5C15.5 9.5 17 11 17 12.875V17.75ZM18.5 17V12.875C18.5 10.5725 16.895 8.645 14.75 8.135V7.625C14.75 7.32663 14.6315 7.04048 14.4205 6.8295C14.2095 6.61853 13.9234 6.5 13.625 6.5C13.3266 6.5 13.0405 6.61853 12.8295 6.8295C12.6185 7.04048 12.5 7.32663 12.5 7.625V8.135C10.3475 8.645 8.75 10.5725 8.75 12.875V17L7.25 18.5V19.25H20V18.5L18.5 17ZM13.625 21.5C14.0228 21.5 14.4044 21.342 14.6857 21.0607C14.967 20.7794 15.125 20.3978 15.125 20H12.125C12.125 20.3978 12.283 20.7794 12.5643 21.0607C12.8456 21.342 13.2272 21.5 13.625 21.5Z\"\n            fill=\"white\"/>\n    </svg>\n);\n\nexport default SettingsNotificationsIcon;","import React from 'react';\n\nconst DarkThemeIcon = props => (\n    <svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <rect width=\"28\" height=\"28\" rx=\"14\" fill=\"#5690FF\"/>\n        <path\n            d=\"M17.8334 8.72666L16.1467 10.02L16.7534 12.06L15 10.8533L13.2467 12.06L13.8534 10.02L12.1667 8.72666L14.2934 8.66666L15 6.66666L15.7067 8.66666L17.8334 8.72666ZM20.1667 13.3333L19.0734 14.1667L19.4667 15.4867L18.3334 14.7067L17.2 15.4867L17.5934 14.1667L16.5 13.3333L17.8734 13.3L18.3334 12L18.7934 13.3L20.1667 13.3333ZM18.6467 16.6333C19.2 16.58 19.7934 17.3667 19.44 17.8667C19.2267 18.1667 19 18.4467 18.72 18.7133C16.1134 21.3333 11.8934 21.3333 9.29338 18.7133C6.68671 16.1133 6.68671 11.8867 9.29338 9.28666C9.56005 9.01999 9.84005 8.77999 10.14 8.56666C10.64 8.21332 11.4267 8.80666 11.3734 9.35999C11.1934 11.2667 11.8334 13.2467 13.3 14.7067C14.76 16.1733 16.7334 16.8133 18.6467 16.6333ZM17.5534 17.98C15.6667 17.8733 13.8 17.0933 12.3534 15.6667C10.9067 14.2067 10.1334 12.3333 10.0267 10.4533C8.15338 12.5467 8.22671 15.76 10.2334 17.7733C12.2467 19.78 15.46 19.8533 17.5534 17.98Z\"\n            fill=\"white\"/>\n    </svg>\n);\n\nexport default DarkThemeIcon;","import React from 'react';\n\nconst GetOutIcon = props => (\n    <svg width=\"28\" height=\"28\" viewBox=\"0 0 28 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <rect width=\"28\" height=\"28\" rx=\"14\" fill=\"#FF4939\"/>\n        <path\n            d=\"M14.1812 11.5556C12.3688 11.5556 10.7274 12.1111 9.46214 13L7 11V16H13.1553L10.6795 13.9889C11.6302 13.3444 12.8407 12.9444 14.1812 12.9444C16.6023 12.9444 18.661 14.2278 19.3791 16L21 15.5667C20.0493 13.2389 17.3615 11.5556 14.1812 11.5556Z\"\n            fill=\"white\"/>\n    </svg>\n);\n\nexport default GetOutIcon;","import {Panel, PanelHeader, Button, Switch, Tooltip, Link} from '@vkontakte/vkui';\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport \"./styles/settings.css\"\nimport VKSettingsIcon from \"../custom_components/icon-pack/VKSettingsIcon\"\nimport SettingsNotificationsIcon from \"../custom_components/icon-pack/SettingsNotificationsIcon\"\nimport DarkThemeIcon from \"../custom_components/icon-pack/DarkThemeIcon\"\nimport Mark from \"../custom_components/mark\"\nimport GetOutIcon from \"../custom_components/icon-pack/GetOutIcon\"\nimport connect from '@vkontakte/vk-connect-promise';\n\nclass Settings extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            tooltip: false,\n            ready: false,\n        };\n\n        this.settings = (localStorage.getItem(\"appSettings\") ? JSON.parse(localStorage.getItem(\"appSettings\")) : null)\n    }\n\n    signOut = () => {\n        localStorage.removeItem(\"userData\");\n        this.props.setView(\"AuthorizationView\");\n        this.props.setPanel(\"choose_diary\");\n    };\n\n    askForNotifications = () => {\n        if (!this.settings) {\n            this.settings = {};\n        }\n        if (this.settings.notifications) {\n            connect.send(\"VKWebAppDenyNotifications\", {})\n                .then(answer => {\n                    this.settings.notifications = false;\n                    document.getElementById(\"settingsNotificationsSwitcher\").\n                        _valueTracker.setValue(\"false\");\n                    this.setState({ready : !this.state.ready})\n                })\n                .catch(err => {\n                    document.getElementById(\"settingsNotificationsSwitcher\").\n                        _valueTracker.setValue(\"true\");\n                    this.setState({ready : !this.state.ready})\n                });\n        } else {\n            connect.send(\"VKWebAppAllowNotifications\", {})\n                .then(answer => {\n                    this.settings.notifications = true;\n                    document.getElementById(\"settingsNotificationsSwitcher\").\n                        _valueTracker.setValue(\"true\");\n                    this.setState({ready : !this.state.ready})\n                })\n        }\n        localStorage.setItem(\"appSettings\", JSON.stringify(this.settings))\n    };\n\n    render() {\n        return (\n            <Panel id={this.props.id}>\n                <PanelHeader noShadow>\n                    Настройки\n                </PanelHeader>\n                <div className=\"groupSettingsContainer\">\n                    <div className=\"settingsTitleContainer\">\n                        <span className=\"settingsTitle\">\n                            Ссылки\n                        </span>\n                    </div>\n                    <Button level=\"tertiary\" className=\"settingsSettingContainer\">\n                        <VKSettingsIcon/>\n                        <div className=\"settingsSettingInfo\">\n                            <span className=\"settingsSettingTitle\" style={{color: \"#5181b8\"}}>\n                                <Link\n                                    href=\"https://vk.com/bklet/\"\n                                    target=\"_blank\">\n                                    Группа ВК\n                                </Link>\n                            </span>\n                            <span className=\"settingsSettingSwitch\">\n                        </span>\n                        </div>\n                    </Button>\n                </div>\n                <div className=\"groupSettingsContainer\">\n                    <div className=\"settingsTitleContainer\">\n                        <span className=\"settingsTitle\">\n                            Дневник\n                        </span>\n                    </div>\n                    <Button level=\"tertiary\" className=\"settingsSettingContainer\" onClick={this.props.chooseMark}>\n                        <div style={{width: \"24px\"}}>\n                            <Mark size=\"28\" val={this.props.expectedMark.toString()} is_routine={false}/>\n                        </div>\n                        <div className=\"settingsSettingInfo\">\n                        <span className=\"settingsSettingTitle\">\n                            Желаемая оценка\n                        </span>\n                        </div>\n                    </Button>\n                    <div className=\"settingsSettingContainer\" style={{paddingRight: \"-16px\"}}>\n                        <SettingsNotificationsIcon/>\n                        <div className=\"settingsSettingInfo\">\n                        <span className=\"settingsSettingTitle\">\n                            Уведомления\n                        </span>\n                            <span>\n                                <Switch className=\"settingsSettingSwitcher\" id=\"settingsNotificationsSwitcher\"\n                                        getRef={(ref) => console.log(\"ref\", ref)}\n                                    onChange={this.askForNotifications}/>\n                        </span>\n                        </div>\n                    </div>\n                    <div className=\"settingsSettingContainer\" style={{paddingRight: \"-16px\"}}\n                         onClick={() => this.setState({tooltip: true})}>\n                        <DarkThemeIcon/>\n                        <div className=\"settingsSettingInfo\">\n                        <span className=\"settingsSettingTitle\">\n                            Тёмная тема\n                        </span>\n                            <span>\n                            <Tooltip\n                                text=\"Обязательно появится в релизе :)\"\n                                isShown={this.state.tooltip}\n                                onClose={() => this.setState({tooltip: false})}\n                                offsetX={-50}\n                                offsetY={5}\n                                cornerOffset={55}\n                            >\n                                <Switch className=\"settingsSettingSwitcher\" disabled/>\n                            </Tooltip>\n                        </span>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"groupSettingsContainer\">\n                    <Button level=\"tertiary\" className=\"settingsSettingContainer\" style={{marginTop: \"35px\"}}\n                            onClick={this.signOut}>\n                        <GetOutIcon/>\n                        <div className=\"settingsSettingInfo\">\n                        <span className=\"settingsSettingTitle\" style={{color: \"#ff4939\", fontWeight: \"bold\"}}>\n                            Выйти\n                        </span>\n                        </div>\n                    </Button>\n                </div>\n            </Panel>\n        )\n    }\n}\n\nSettings.propTypes = {\n    id: PropTypes.string.isRequired,\n    expectedMark: PropTypes.number.isRequired,\n    chooseMark: PropTypes.func.isRequired,\n    setView: PropTypes.func.isRequired,\n    setPanel: PropTypes.func.isRequired,\n};\n\nexport default Settings;","import React from 'react';\nimport {View, ActionSheet, ActionSheetItem, platform, IOS} from '@vkontakte/vkui';\nimport Settings from '../panels/settings'\nimport {connect} from \"react-redux\";\nimport {setMark} from \"../redux/actions/expectedMarkAction\";\nimport Mark from \"../custom_components/mark\"\nimport \"./styles/Settings.css\"\nimport {setPanel} from \"../redux/actions/PanelAction\";\nimport {setView} from \"../redux/actions/ViewAction\";\n\nclass SettingsView extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            popout: null,\n        };\n\n        this.osname = platform();\n    }\n\n    chooseMark = () => {\n        this.setState({popout:\n                <ActionSheet\n                    onClose={() => this.setState({popout: null})}\n                    title=\"Выбери желаемую оценку\"\n                >\n                    <ActionSheetItem autoclose onClick={() => {\n                        this.props.setMarkAction(5)\n                    }}>\n                        <div className=\"markChooseLabelContainer\">\n                            <div className=\"markChooseMarkContainer\">\n                                <Mark size=\"28\" val=\"5\" is_routine={false}/>\n                            </div>\n                            <span className=\"markChooseLabel\">Всегда стремись к лучшему :)</span>\n                        </div>\n                    </ActionSheetItem>\n                    <ActionSheetItem autoclose onClick={() => {\n                        this.props.setMarkAction(4)\n                    }}>\n                        <div className=\"markChooseLabelContainer\">\n                            <div className=\"markChooseMarkContainer\">\n                                <Mark size=\"28\" val=\"4\" is_routine={false}/>\n                            </div>\n                            <span className=\"markChooseLabel\">Адекватно оценивай свои возможности ;)</span>\n                        </div>\n                    </ActionSheetItem>\n                    <ActionSheetItem autoclose onClick={() => {\n                        this.props.setMarkAction(3)\n                    }}>\n                        <div className=\"markChooseLabelContainer\">\n                            <div className=\"markChooseMarkContainer\">\n                                <Mark size=\"28\" val=\"3\" is_routine={false}/>\n                            </div>\n                            <span className=\"markChooseLabel\">Никогда не отчаивайся</span>\n                        </div>\n                    </ActionSheetItem>\n                    {this.osname === IOS && <ActionSheetItem autoclose theme=\"cancel\">Cancel</ActionSheetItem>}\n                </ActionSheet>\n        })\n    };\n\n    render() {\n        return (\n            <View activePanel={(this.props.activePanel === \"auth\" ? \"settings\" : this.props.activePanel)} popout={this.state.popout}>\n                <Settings id=\"settings\"\n                          expectedMark={this.props.expectedMark}\n                          chooseMark={this.chooseMark}\n                          setView={this.props.setViewAction}\n                          setPanel={this.props.setPanelAction}\n                />\n            </View>\n        )\n    }\n}\n\nconst mapStateToProps = store => {\n    console.log(\"Settings View\", store);\n    return {\n        activePanel: store.activePanel,\n        profile: store.profile,\n        expectedMark: store.expectedMark\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setMarkAction: mark => dispatch(setMark(mark)),\n        setPanelAction: panel => dispatch(setPanel(panel)),\n        setViewAction: view => dispatch(setView(view)),\n    }\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(SettingsView);","export function setMark(mark) {\n    return {\n        type: \"SET_MARK\",\n        value: mark\n    }\n}","import React from \"react\";\nimport { Epic, Tabbar, TabbarItem } from '@vkontakte/vkui';\nimport \"./styles/BottomBar.css\"\n\nimport AccountIcon from \"../custom_components/icon-pack/AccountIcon\"\nimport MarksIcon from \"../custom_components/icon-pack/MarksIcon\"\nimport ScheduleIcon from \"../custom_components/icon-pack/ScheduleIcon\"\nimport PlusIcon from \"../custom_components/icon-pack/PlusIcon\"\nimport SettingsIcon from \"../custom_components/icon-pack/SettingsIcon\"\n\n\nimport AccountView from \"./AccountView\";\nimport MarksView from \"./MarksView\";\nimport ScheduleView from \"./ScheduleView\";\nimport PlusView from \"./PlusView\";\nimport SettingsView from \"./SettingsView\";\nimport {setPanel} from \"../redux/actions/PanelAction\";\nimport {connect} from \"react-redux\";\n\n\nclass BottomBar extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            activeStory: 'Schedule',\n        };\n        this.onStoryChange = this.onStoryChange.bind(this);\n    }\n\n    onStoryChange(e) {\n        switch (e.currentTarget.dataset.story) {\n            case \"Account\":\n                this.props.setPanelAction(\"account\");\n                break;\n            case \"Marks\":\n                this.props.setPanelAction(\"marks\");\n                break;\n            case \"Schedule\":\n                this.props.setPanelAction(\"schedule\");\n                break;\n            case \"Plus\":\n                this.props.setPanelAction(\"plus\");\n                break;\n            case \"Settings\":\n                this.props.setPanelAction(\"settings\");\n                break;\n        }\n        this.setState({activeStory: e.currentTarget.dataset.story})\n    }\n\n    render() {\n        return (\n            <Epic className=\"bottomBarItself\" activeStory={this.state.activeStory} tabbar={\n                <Tabbar>\n                    {/*<TabbarItem*/}\n                    {/*    onClick={this.onStoryChange}*/}\n                    {/*    selected={this.state.activeStory === 'Account'}*/}\n                    {/*    data-story=\"Account\">*/}\n                    {/*    <AccountIcon size=\"24\" selected={this.state.activeStory === 'Account'}/></TabbarItem>*/}\n                    <TabbarItem\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'Marks'}\n                        data-story=\"Marks\">\n                        <MarksIcon size=\"24\" selected={this.state.activeStory === 'Marks'}/>\n                    </TabbarItem>\n                    <TabbarItem\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'Schedule'}\n                        data-story=\"Schedule\"\n                    ><ScheduleIcon size=\"24\" selected={this.state.activeStory === 'Schedule'}/></TabbarItem>\n                    {/*<TabbarItem*/}\n                    {/*    onClick={this.onStoryChange}*/}\n                    {/*    selected={this.state.activeStory === 'Plus'}*/}\n                    {/*    data-story=\"Plus\"*/}\n                    {/*><PlusIcon size=\"24\" selected={this.state.activeStory === 'Plus'}/></TabbarItem>*/}\n                    <TabbarItem\n                        onClick={this.onStoryChange}\n                        selected={this.state.activeStory === 'Settings'}\n                        data-story=\"Settings\"\n                    ><SettingsIcon size=\"24\" selected={this.state.activeStory === 'Settings'}/></TabbarItem>\n                </Tabbar>\n            }>\n                <AccountView id=\"Account\" >\n                </AccountView>\n                <MarksView id=\"Marks\" activePanel={this.props.activePanel}\n                           userId={this.props.userId}\n                           userSecret={this.props.userSecret}>\n                </MarksView>\n                <ScheduleView id=\"Schedule\" activePanel={this.props.activePanel}\n                              userId={this.props.userId}\n                              userSecret={this.props.userSecret}>\n                </ScheduleView>\n                <PlusView id=\"Plus\">\n                </PlusView>\n                <SettingsView id=\"Settings\">\n                </SettingsView>\n            </Epic>\n        )\n    }\n}\n\nconst mapStateToProps = store => {\n    console.log(\"BottomBar\", store);\n    return {\n        activePanel: store.activePanel,\n        profile: store.profile,\n    }\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setPanelAction: panel => dispatch(setPanel(panel)),\n    }\n};\n\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(BottomBar);","import React from 'react';\nimport VKconnect from '@vkontakte/vkui-connect';\nimport {Root} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport {connect} from 'react-redux'\n\nimport AuthorizationView from \"./views/AuthorizationView\"\nimport BottomBar from \"./views/BottomBar\"\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    componentDidMount() {\n        VKconnect.subscribe((e) => {\n            switch (e.detail.type) {\n                case 'VKWebAppGetUserInfoResult':\n                    this.setState({fetchedUser: e.detail.data});\n                    break;\n                default:\n                    // console.log(e.detail.type);\n                    break;\n            }\n        });\n        VKconnect.send('VKWebAppGetUserInfo', {});\n    }\n\n    render() {\n        return (\n            <Root activeView={this.props.activeView}>\n                <AuthorizationView\n                    id=\"AuthorizationView\"\n                >\n                </AuthorizationView>\n                <BottomBar id=\"MainView\"/>\n            </Root>\n        );\n    }\n}\n\nconst mapStateToProps = store => {\n    console.log(\"App\", store);\n    return {\n        activeView: store.activeView,\n        activePanel: store.activePanel,\n    }\n};\n\nexport default connect(mapStateToProps)(App)\n","let initialState = (localStorage.getItem(\"userData\") ? \"MainView\" : \"AuthorizationView\");\n\nconst activeView = (state = initialState, action) => {\n    switch (action.type) {\n        case \"SET_VIEW\":\n            return action.value;\n\n        default:\n            return state;\n    }\n};\n\nexport default activeView;","let initialState = (localStorage.getItem(\"userData\") ? \"schedule\" : \"choose_diary\");\n\nconst activePanel = (state = initialState, action) => {\n    switch (action.type) {\n        case \"SET_PANEL\":\n            return action.value;\n\n        default:\n            return state;\n    }\n};\n\nexport default activePanel","const fetchedUser = (state = null, action) => {\n    switch (action.type) {\n        default:\n            return state;\n    }\n};\n\nexport default fetchedUser;","const expectedMark = (state = 5, action) => {\n    switch (action.type) {\n        case \"SET_MARK\":\n            return action.value;\n        default:\n            return state;\n    }\n};\n\nexport default expectedMark;","const initialState = {\n    journal: {\n        data: []\n    },\n    marks: {\n        data : []\n    },\n    lastMarks: {\n        data : []\n    },\n    isFetching: false,\n    error: false,\n    errorLastMarks: false,\n};\n\nfunction appLogic(state = initialState, action) {\n    switch (action.type) {\n        case \"GET_JOURNAL_REQUEST\":\n            return {\n                ...state,\n                journal: action.data,\n                isFetching: true,\n                error: false,\n            };\n        case \"GET_JOURNAL_SUCCESS\":\n            return {\n                ...state,\n                journal: action.data,\n                isFetching: false,\n                error: false,\n            };\n        case \"GET_JOURNAL_FAIL\":\n            return {\n                ...state,\n                isFetching: false,\n                error: true,\n            };\n        case \"GET_MARKS_REQUEST\":\n            return {\n                ...state,\n                marks: action.data,\n                isFetching: true,\n                error: false,\n            };\n        case \"GET_MARKS_SUCCESS\":\n            return {\n                ...state,\n                marks: action.data,\n                isFetching: false,\n                error: false,\n            };\n        case \"GET_MARKS_FAIL\":\n            return {\n                ...state,\n                isFetching: false,\n                error: true,\n            };\n        case \"GET_LAST_MARKS_REQUEST\":\n            return {\n                ...state,\n                lastMarks: action.data,\n                isFetching: true,\n                errorLastMarks: false,\n            };\n        case \"GET_LAST_MARKS_SUCCESS\":\n            return {\n                ...state,\n                lastMarks: action.data,\n                isFetching: false,\n                errorLastMarks: false,\n            };\n        case \"GET_LAST_MARKS_FAIL\":\n            return {\n                ...state,\n                isFetching: false,\n                errorLastMarks: true,\n            };\n        default:\n            return state\n    }\n}\n\nexport default appLogic;","let localData = JSON.parse(localStorage.getItem(\"userData\"));\nlet initialState;\n\nif (localData) {\n    initialState = {\n        id: (localData.id ? localData.id : null),\n        secret: (localData.secret ? localData.secret : null),\n        diary: (localData.diary ? localData.diary : null),\n        students: (localData.students ? localData.students : null),\n        student: (localData.student ? localData.student : null),\n        isFetching: false,\n        error: false,\n    }\n} else {\n    initialState = {\n        id: null,\n        secret:null,\n        diary: null,\n        students: null,\n        student: null,\n        isFetching: false,\n        error: false,\n    }\n}\n\nfunction profile(state = initialState, action) {\n    switch (action.type) {\n        case \"DO_AUTHORIZATION_REQUEST\":\n            return {\n                ...state,\n                id: action.data.id,\n                secret: action.data.secret,\n                students: action.data.students,\n                student: action.data.studentId,\n                isFetching: true,\n                error: false,\n            };\n\n        case \"DO_AUTHORIZATION_SUCCESS\":\n            return {\n                ...state,\n                id: action.data.id,\n                secret: action.data.secret,\n                students: action.data.students,\n                student: action.data.student,\n                isFetching: false,\n                error: false,\n            };\n        case \"DO_AUTHORIZATION_FAIL\":\n            return {\n                ...state,\n                id: action.data,\n                isFetching: false,\n                error: true,\n            };\n        case \"SET_DIARY\":\n            return {\n                ...state,\n                diary: action.data,\n                isFetching: false\n            };\n\n        case \"SET_STUDENT\":\n            let locData = JSON.parse(localStorage.getItem(\"userData\"));\n            console.log(\"set student\", action.data);\n            locData.student = action.data;\n            localStorage.setItem(\"userData\", JSON.stringify(locData));\n            return {\n              ...state,\n              student: action.data\n            };\n\n        default:\n            return state\n    }\n}\n\nexport default profile;","import {combineReducers} from \"redux\"\n\nimport activeView from \"./activeViewR\"\nimport activePanel from \"./activePanelR\"\nimport fetchedUser from \"./fetchedUserR\"\nimport expectedMark from \"./expectedMarkR\"\nimport appLogic from \"./appLogicR\"\nimport profile from \"./profileR\"\n\nexport const rootReducer = combineReducers({\n    activeView: activeView,\n    activePanel: activePanel,\n    fetchedUser: fetchedUser,\n    expectedMark: expectedMark,\n    appLogic: appLogic,\n    profile: profile,\n});","import { createStore, applyMiddleware } from \"redux\";\nimport { rootReducer } from \"../reducers/main\"\nimport thunk from 'redux-thunk'\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\n\nexport default store;","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nfunction registerValidSW(swUrl) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then((registration) => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing;\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the old content will have been purged and\n\t\t\t\t\t\t\t// the fresh content will have been added to the cache.\n\t\t\t\t\t\t\t// It's the perfect time to display a \"New content is\n\t\t\t\t\t\t\t// available; please refresh.\" message in your web app.\n\t\t\t\t\t\t\tconsole.log('New content is available; please refresh.');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\t\t})\n\t\t.catch((error) => {\n\t\t\tconsole.error('Error during service worker registration:', error);\n\t\t});\n}\n\nfunction checkValidServiceWorker(swUrl) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl)\n\t\t.then((response) => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n\t\t\t\tresponse.headers.get('content-type').indexOf('javascript') === -1\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl);\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.');\n\t\t});\n}\n\nconst isLocalhost = Boolean(window.location.hostname === 'localhost' ||\n\t// [::1] is the IPv6 localhost address.\n\twindow.location.hostname === '[::1]' ||\n\t// 127.0.0.1/8 is considered localhost for IPv4.\n\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));\n\nexport default function register() {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n\t\t\treturn;\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Lets check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl);\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n\t\t\t\t\t\t'worker. To learn more, visit https://goo.gl/SC7cgQ'\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Is not local host. Just register service worker\n\t\t\t\tregisterValidSW(swUrl);\n\t\t\t}\n\t\t});\n\t}\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready.then((registration) => {\n\t\t\tregistration.unregister();\n\t\t});\n\t}\n}\n","import 'core-js/es6/map';\nimport 'core-js/es6/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vkui-connect';\nimport App from './App';\nimport store from \"./redux/store/main\";\nimport {Provider} from \"react-redux\"\nimport registerServiceWorker from './sw';\nimport './index.css'\nimport WebFont from 'webfontloader';\n\n// Init VK App\nconnect.send('VKWebAppInit', {});\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n\nWebFont.load({\n    google: {\n        families: ['Roboto:300,400,700', 'sans-serif']\n    }\n});\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>\n    , document.getElementById('root'));\n\nregisterServiceWorker();"],"sourceRoot":""}