(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){"use strict";a.r(t);a(91),a(116);var n=a(0),r=a.n(n),l=a(31),o=a.n(l),c=a(16),s=a.n(c),i=a(2),u=a(3),d=a(6),m=a(4),p=a(5),h=a(1),f=(a(136),a(7)),C=a(19),v=a.n(C),E=a(29),g=a(38),S=a.n(g),y=(a(145),function(e){return r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M12 19.2C9.5 19.2 7.29 17.92 6 16C6.03 14 10 12.9 12 12.9C14 12.9 17.97 14 18 16C16.71 17.92 14.5 19.2 12 19.2ZM12 5C12.7956 5 13.5587 5.31607 14.1213 5.87868C14.6839 6.44129 15 7.20435 15 8C15 8.79565 14.6839 9.55871 14.1213 10.1213C13.5587 10.6839 12.7956 11 12 11C11.2044 11 10.4413 10.6839 9.87868 10.1213C9.31607 9.55871 9 8.79565 9 8C9 7.20435 9.31607 6.44129 9.87868 5.87868C10.4413 5.31607 11.2044 5 12 5ZM12 2C10.6868 2 9.38642 2.25866 8.17317 2.7612C6.95991 3.26375 5.85752 4.00035 4.92893 4.92893C3.05357 6.8043 2 9.34784 2 12C2 14.6522 3.05357 17.1957 4.92893 19.0711C5.85752 19.9997 6.95991 20.7362 8.17317 21.2388C9.38642 21.7413 10.6868 22 12 22C14.6522 22 17.1957 20.9464 19.0711 19.0711C20.9464 17.1957 22 14.6522 22 12C22 6.47 17.5 2 12 2Z",fill:"#5690FF"}))}),w=function(e){return r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M12 17C12.5304 17 13.0391 16.7893 13.4142 16.4142C13.7893 16.0391 14 15.5304 14 15C14 13.89 13.1 13 12 13C11.4696 13 10.9609 13.2107 10.5858 13.5858C10.2107 13.9609 10 14.4696 10 15C10 15.5304 10.2107 16.0391 10.5858 16.4142C10.9609 16.7893 11.4696 17 12 17ZM18 8C18.5304 8 19.0391 8.21071 19.4142 8.58579C19.7893 8.96086 20 9.46957 20 10V20C20 20.5304 19.7893 21.0391 19.4142 21.4142C19.0391 21.7893 18.5304 22 18 22H6C5.46957 22 4.96086 21.7893 4.58579 21.4142C4.21071 21.0391 4 20.5304 4 20V10C4 8.89 4.9 8 6 8H7V6C7 4.67392 7.52678 3.40215 8.46447 2.46447C9.40215 1.52678 10.6739 1 12 1C12.6566 1 13.3068 1.12933 13.9134 1.3806C14.52 1.63188 15.0712 2.00017 15.5355 2.46447C15.9998 2.92876 16.3681 3.47995 16.6194 4.08658C16.8707 4.69321 17 5.34339 17 6V8H18ZM12 3C11.2044 3 10.4413 3.31607 9.87868 3.87868C9.31607 4.44129 9 5.20435 9 6V8H15V6C15 5.20435 14.6839 4.44129 14.1213 3.87868C13.5587 3.31607 12.7956 3 12 3Z",fill:"#5690FF"}))},k=function(e){return r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M22 12V20C22 20.5304 21.7893 21.0391 21.4142 21.4142C21.0391 21.7893 20.5304 22 20 22H4C3.46957 22 2.96086 21.7893 2.58579 21.4142C2.21071 21.0391 2 20.5304 2 20V12C1.73478 12 1.48043 11.8946 1.29289 11.7071C1.10536 11.5196 1 11.2652 1 11V8C1 7.46957 1.21071 6.96086 1.58579 6.58579C1.96086 6.21071 2.46957 6 3 6H6.17C6.06 5.69 6 5.35 6 5C6 4.20435 6.31607 3.44129 6.87868 2.87868C7.44129 2.31607 8.20435 2 9 2C10 2 10.88 2.5 11.43 3.24V3.23L12 4L12.57 3.23V3.24C13.12 2.5 14 2 15 2C15.7956 2 16.5587 2.31607 17.1213 2.87868C17.6839 3.44129 18 4.20435 18 5C18 5.35 17.94 5.69 17.83 6H21C21.5304 6 22.0391 6.21071 22.4142 6.58579C22.7893 6.96086 23 7.46957 23 8V11C23 11.2652 22.8946 11.5196 22.7071 11.7071C22.5196 11.8946 22.2652 12 22 12ZM4 20H11V12H4V20ZM20 20V12H13V20H20ZM9 4C8.73478 4 8.48043 4.10536 8.29289 4.29289C8.10536 4.48043 8 4.73478 8 5C8 5.26522 8.10536 5.51957 8.29289 5.70711C8.48043 5.89464 8.73478 6 9 6C9.26522 6 9.51957 5.89464 9.70711 5.70711C9.89464 5.51957 10 5.26522 10 5C10 4.73478 9.89464 4.48043 9.70711 4.29289C9.51957 4.10536 9.26522 4 9 4ZM15 4C14.7348 4 14.4804 4.10536 14.2929 4.29289C14.1054 4.48043 14 4.73478 14 5C14 5.26522 14.1054 5.51957 14.2929 5.70711C14.4804 5.89464 14.7348 6 15 6C15.2652 6 15.5196 5.89464 15.7071 5.70711C15.8946 5.51957 16 5.26522 16 5C16 4.73478 15.8946 4.48043 15.7071 4.29289C15.5196 4.10536 15.2652 4 15 4ZM3 8V10H11V8H3ZM13 8V10H21V8H13Z",fill:"#5690FF"}))},b=function(e){return r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM7.83325 7H8H16.1666V15.0178C16.1642 15.0422 16.1619 15.0668 16.1596 15.0915C16.1433 15.2695 16.1266 15.4522 16.0383 15.6106C15.8966 15.8913 15.5994 16.0846 15.2883 16.1009C15.1025 16.1082 14.9158 16.106 14.7291 16.1037C14.3322 16.0988 13.9352 16.0939 13.546 16.1816C13.1488 16.2651 12.7805 16.4578 12.4627 16.7088C12.1613 16.938 11.9032 17.2149 11.6452 17.4917L11.6452 17.4917L11.6452 17.4917L11.6452 17.4917L11.6452 17.4917C11.538 17.6068 11.4308 17.7218 11.3205 17.8333L11.3202 17.3625V17.3624V17.3624V17.3623C11.3199 16.9441 11.3196 16.526 11.3216 16.1076C10.82 16.102 10.3185 16.1028 9.81703 16.1036H9.81699H9.81695H9.81691C9.46747 16.1042 9.11809 16.1047 8.76881 16.1031C8.4377 16.1059 8.1127 15.9098 7.96214 15.6123C7.86338 15.4346 7.85144 15.2292 7.83981 15.0294L7.83981 15.0294C7.83777 14.9943 7.83574 14.9594 7.83325 14.9248V7Z",fill:"#5690FF"}))},N=(a(146),function(e){function t(){document.getElementById("".concat(e.id,"-i")).focus(),document.getElementById(e.id).style.marginTop="-28px",document.getElementById(e.id).style.color="#5690ff"}return r.a.createElement("div",{className:"customInputContainer"},r.a.createElement("span",{id:e.id,className:"customInputTip",onClick:t},e.placeholder),r.a.createElement("input",{id:"".concat(e.id,"-i"),type:e.type,className:"customInput",onFocus:t,onBlur:function(){document.getElementById(e.id).style.color="#757575",""===document.getElementById("".concat(e.id,"-i")).value&&(document.getElementById(e.id).style.marginTop="0")},autoComplete:"off"}))}),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).btnBack=function(){a.props.setPanel("choose_diary")},a.buttonClick=function(){var e=document.getElementById("loginInput-i").value,t=document.getElementById("passInput-i").value;document.getElementById("inviteCodeInput-i").value;if(0!==e.trim().length&&0!==t.trim().length)if("netschool"===a.props.profile.diary)a.props.netschoolSave(e,t),a.props.setPanel("netschool_map");else{a.props.setSpinner(!0),a.props.getProfile(e,t,a.props.profile.diary);var n=setInterval(function(){a.props.profile.error?(clearInterval(n),a.props.setSpinner(!1),a.props.profile.id instanceof Error?a.props.openError():a.props.openIncorrect(),a.setState({error:!0})):a.props.profile.secret&&(clearInterval(n),a.props.setSpinner(!1),null===a.props.profile.student?a.props.setPanel("choose_student"):a.props.setView("MainView","account"))},200)}},a.state={error:!1},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.Panel,{id:this.props.id},r.a.createElement(h.PanelHeader,{left:r.a.createElement(S.a,{onClick:this.btnBack})},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),r.a.createElement("div",{className:"authGroup"},r.a.createElement(h.Div,{className:"welcome"},"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c,"),r.a.createElement(h.Div,{className:"large_tip"},"\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0434\u0430\u043d\u043d\u044b\u0445 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430 mos.ru"),r.a.createElement(h.Div,{className:"inputContainer"},r.a.createElement("div",{className:"inputIcon"},r.a.createElement(y,null)),r.a.createElement("div",{className:"inputInput"},r.a.createElement(N,{id:"loginInput",type:"text",placeholder:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0438\u043b\u0438 email"}))),r.a.createElement(h.Div,{className:"inputContainer"},r.a.createElement("div",{className:"inputIcon"},r.a.createElement(w,null)),r.a.createElement("div",{className:"inputInput"},r.a.createElement(N,{id:"passInput",type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}))),r.a.createElement(h.Div,null,r.a.createElement("span",{className:"medium_tip"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f, \u043f\u0440\u0438 \u0435\u0433\u043e \u043d\u0430\u043b\u0438\u0447\u0438\u0438, \u0438\u043b\u0438 \u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u044b\u043c")),r.a.createElement(h.Div,{className:"inviteInput"},r.a.createElement("div",{className:"inputIcon"},r.a.createElement(k,null)),r.a.createElement(N,{id:"inviteCodeInput",type:"text"})),r.a.createElement(h.Div,null,r.a.createElement("span",{className:"annotate"},"\u041d\u0430\u0436\u0438\u043c\u0430\u044f \u0432\u043e\u0439\u0442\u0438, \u0432\u044b \u0441\u043e\u0433\u043b\u0430\u0448\u0430\u0435\u0442\u0435\u0441\u044c \u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443, \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435, \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0443 \u0432\u0430\u0448\u0438\u0445 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445.",r.a.createElement("br",null),r.a.createElement(h.Link,{href:"https://google.com",target:"_blank"},"\u0420\u0435\u0433\u043b\u0430\u043c\u0435\u043d\u0442")," \u0438 ",r.a.createElement(h.Link,{href:"https://google.com",target:"_blank"},"\u043f\u043e\u043b\u0438\u0442\u0438\u043a\u0430 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"))),r.a.createElement(h.Div,{className:"restorePassword"},r.a.createElement("div",{className:"inputIcon"},r.a.createElement(b,null)),r.a.createElement("span",null,"\u0417\u0430\u0431\u044b\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u0443\u0447\u0435\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438?",r.a.createElement(h.Link,{href:"https://google.com",target:"_blank",className:"restoreLink"},"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"))),r.a.createElement(h.Div,null,r.a.createElement(h.Button,{level:"tertiary",className:"getInButton",onClick:this.buttonClick},"netschool"===this.props.profile.diary?"\u0423\u043a\u0430\u0437\u0430\u0442\u044c \u0448\u043a\u043e\u043b\u0443":"\u0412\u043e\u0439\u0442\u0438"))))}}]),t}(r.a.Component),M=(a(147),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).choose=function(e){a.props.setPanel("auth"),a.props.setDiary(e)},a.d="",a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(h.Panel,{id:this.props.id},r.a.createElement(h.Div,{className:"chooseDiaryScreen"},r.a.createElement("span",{className:"chooseDiaryScreenTitle"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0448 \u0434\u043d\u0435\u0432\u043d\u0438\u043a"),r.a.createElement("div",{className:"chooseDiaryScreenDiaryDiaries"},r.a.createElement(h.Button,{level:"tertiary",className:"chooseDiaryScreenDiaryContainer",onClick:function(){e.d="mosru",e.choose(e.d)}},r.a.createElement("div",{className:"chooseDiaryScreenDiaryContainerIcon",style:{backgroundColor:"#ff3000"}}),r.a.createElement("span",{className:"chooseDiaryScreenDiaryContainerTitle"},"\u041c\u042d\u0428 (mos.ru)"),r.a.createElement("div",{className:"chooseDiaryScreenDiaryContainerChecker"})),r.a.createElement(h.Button,{level:"tertiary",className:"chooseDiaryScreenDiaryContainer",onClick:function(){e.d="mosregru",e.choose(e.d)}},r.a.createElement("div",{className:"chooseDiaryScreenDiaryContainerIcon",style:{backgroundColor:"#ffa000"}}),r.a.createElement("span",{className:"chooseDiaryScreenDiaryContainerTitle"},"mosreg.ru"),r.a.createElement("div",{className:"chooseDiaryScreenDiaryContainerChecker"})),r.a.createElement(h.Button,{level:"tertiary",className:"chooseDiaryScreenDiaryContainer",onClick:function(){e.d="netschool",e.choose(e.d)}},r.a.createElement("div",{className:"chooseDiaryScreenDiaryContainerIcon",style:{backgroundColor:"#ffff00"}}),r.a.createElement("span",{className:"chooseDiaryScreenDiaryContainerTitle"},"netschool"),r.a.createElement("div",{className:"chooseDiaryScreenDiaryContainerChecker"})),r.a.createElement(h.Button,{level:"tertiary",className:"chooseDiaryScreenDiaryContainer",onClick:function(){e.d="dnevnikru",e.choose(e.d)}},r.a.createElement("div",{className:"chooseDiaryScreenDiaryContainerIcon",style:{backgroundColor:"#30ff00"}}),r.a.createElement("span",{className:"chooseDiaryScreenDiaryContainerTitle"},"dnevnick.ru"),r.a.createElement("div",{className:"chooseDiaryScreenDiaryContainerChecker"})),r.a.createElement(h.Button,{level:"tertiary",className:"chooseDiaryScreenDiaryContainer",onClick:function(){e.d="edutatar",e.choose(e.d)}},r.a.createElement("div",{className:"chooseDiaryScreenDiaryContainerIcon",style:{backgroundColor:"#0080ff"}}),r.a.createElement("span",{className:"chooseDiaryScreenDiaryContainerTitle"},"edutatar"),r.a.createElement("div",{className:"chooseDiaryScreenDiaryContainerChecker"}))),r.a.createElement(h.Button,{level:"tertiary",className:"getInButton",style:{visibility:"hidden"}},"\u0412\u043e\u0439\u0442\u0438")))}}]),t}(r.a.Component)),L=(a(148),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).choose=function(e){a.props.setStudent(e),a.props.setView("MainView"),a.props.setPanel("account")},a.drawStudents=function(){return a.props.profile.students.forEach(function(e){a.students.push(r.a.createElement(h.Button,{level:"tertiary",className:"chooseStudentScreenStudentContainer",onClick:function(){a.d=e,a.choose(a.d)}},r.a.createElement("div",{className:"chooseStudentScreenStudentName"},e.name),r.a.createElement("div",{className:"chooseStudentScreenStudentGrade"},e.class," \u043a\u043b\u0430\u0441\u0441")))}),a.students},a.d="",a.students=[],a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.Panel,{id:this.props.id},r.a.createElement(h.Div,{className:"chooseStudentScreen"},r.a.createElement("span",{className:"chooseStudentTitle"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0443\u0447\u0435\u043d\u0438\u043a\u0430"),r.a.createElement("div",{className:"chooseStudentScreenStudents"},this.drawStudents())))}}]),t}(r.a.Component)),A=(a(149),a(49)),I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).btnBack=function(){a.props.setPanel("auth")},a.getMetaData=function(e){var t=e.data.response.GeoObjectCollection.featureMember;if(t){var n=t[0].GeoObject.metaDataProperty.GeocoderMetaData.Address.Components;console.log("com",n);var r=!0,l=!1,o=void 0;try{for(var c,s=n[Symbol.iterator]();!(r=(c=s.next()).done);r=!0){var i=c.value;"province"===i.kind?a.region=i.name:"area"===i.kind?a.province=i.name:"locality"===i.kind&&(a.city=i.name)}}catch(u){l=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(l)throw o}}}},a.parseData=function(){var e,t,n;A.get("https://bklet.ml/api/auth/get_data").then(function(r){r.data.data.forEach(function(t){t.name===a.region&&(e=t.id)}),A.get("https://bklet.ml/api/auth/get_data/?region="+e).then(function(r){r.data.data.forEach(function(e){e.name.toLowerCase()===a.province.toLowerCase()&&(t=e.id)}),A.get("https://bklet.ml/api/auth/get_data/?region=".concat(e,"&province=").concat(t)).then(function(r){r.data.data.forEach(function(e){e.name.toLowerCase().substring(0,e.name.length-4)===a.city.toLowerCase()&&(n=e.id)}),console.log("regions","https://bklet.ml/api/auth/get_data/?region=".concat(e,"&province=").concat(t,"&city=").concat(n)),A.get("https://bklet.ml/api/auth/get_data/?region=".concat(e,"&province=").concat(t,"&city=").concat(n)).then(function(r){a.region=e,a.province=t,a.city=n,a.setState({schools:r.data.data,ready:!0})})})})}).catch(function(e){return console.log(e)})},a.setMap=function(){window.ymaps.ready(function(){var e;window.ymaps.geolocation.get({provider:"yandex",mapStateAutoApply:!0}).then(function(t){e=t.geoObjects.position,null===a.map&&(a.map=new window.ymaps.Map("netschoolMap",{center:[e[0],e[1]],zoom:7,controls:["zoomControl"]}),a.map.behaviors.enable(["drag"]),a.map.events.add("click",function(e){var t=e.get("coords");console.log("click-click",t),A.get("https://geocode-maps.yandex.ru/1.x/?format=json&apikey=fbc15a57-6801-4993-9d23-9b313b0f3ad1&geocode="+t[1].toPrecision(6)+","+t[0].toPrecision(6)).then(function(e){console.log("click",e),a.getMetaData(e),a.parseData(),console.log(a.region,a.province,a.city),a.isButtonSpawned||a.drawSelector()}).catch(function(e){console.log("click error")})}))}).catch(function(e){console.log("geo getting error")})})},a.drawSelector=function(){var e=[];return a.state.schools.forEach(function(t){e.push(r.a.createElement("option",{value:t.id},t.name))}),r.a.createElement(h.Select,{className:"schoolSelect",id:"schoolSelect",placeholder:"\u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u0448\u043a\u043e\u043b\u0443",onChange:a.drawButton},e)},a.drawButton=function(){a.school=document.getElementById("schoolSelect").value,a.setState({isButtonSpawned:!0}),console.log("netshcoolData",a.region,a.province,a.city,a.school)},a.signIn=function(){a.props.setSpinner(!0),a.props.getProfile(a.props.netschoolData.login,a.props.netschoolData.password,a.props.profile.diary,a.region,a.province,a.city,a.school);var e=setInterval(function(){if(a.props.profile.error)clearInterval(e),a.props.setSpinner(!1),a.props.profile.id instanceof Error?a.props.openError():a.props.openUnsupported();else if(a.props.profile.secret){var t=[a.region,a.province,a.city,a.school];localStorage.setItem("userGeoData",JSON.stringify(t)),clearInterval(e),a.props.setSpinner(!1),null===a.props.profile.student?a.props.setPanel("choose_student"):a.props.setView("MainView")}},200)},a.state={ready:!1,schools:null,isButtonSpawned:!1},a.map=null,a.region=null,a.province=null,a.city=null,a.school=null,a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.Panel,{id:this.props.id},r.a.createElement(h.PanelHeader,{left:r.a.createElement(S.a,{onClick:this.btnBack})},"\u041d\u0430\u0439\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u0448\u043a\u043e\u043b\u0443"),r.a.createElement("div",{className:"netschoolMapScreen",id:"netschoolMap"}),this.state.ready?this.drawSelector():null,this.setMap(),this.state.isButtonSpawned?r.a.createElement(h.Button,{level:"tertiary",className:"chooseSchool",onClick:this.signIn},"\u0412\u043e\u0439\u0442\u0438"):null,this.setMap())}}]),t}(r.a.Component),O=(a(167),a(49)),T="https://bklet.ml/";function j(e,t,a,n,r,l,o){return function(e){e({type:"DO_AUTHORIZATION_REQUEST",data:{id:null,secret:null,students:[],student:null}}),function(e,t,a,n,r,l,o,c){var s={region:40,province:-1,city:1,school:293,login:"\u041f\u0435\u0442\u0440\u043e\u0432\u0430\u04122",password:"\u041f\u0435\u0442\u0440\u043e\u0432\u0430302",diary:"netschool"};console.log(T+"api/auth/",s),O.post(T+"api/auth/",s).then(function(e){console.log("resp",e.data);var t=[];if(e.data.students.list.forEach(function(e){t.push(e)}),e.data.status){var r={id:e.data.id,secret:e.data.secret,students:t,diary:a,student:null};localStorage.setItem("userData",JSON.stringify(r)),n({type:"DO_AUTHORIZATION_SUCCESS",data:{id:e.data.id,secret:e.data.secret,students:t,student:null}})}else n({type:"DO_AUTHORIZATION_FAIL",data:e.data})}).catch(function(e){console.log("auth error",e),n({type:"DO_AUTHORIZATION_FAIL",data:e})})}(0,0,a,e)}}function x(e){return{type:"SET_PANEL",value:e}}function V(e){return{type:"SET_VIEW",value:e}}var _,P,F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).viewScreenSpinner=function(){var e=Object(E.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({popout:t?r.a.createElement(h.ScreenSpinner,null):null});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.callIncorrect=function(){a.setState({popout:r.a.createElement(h.Alert,{actionsLayout:"vertical",actions:[{title:"\u041e\u041a",autoclose:!0,style:"cancel"}],onClose:function(){return a.setState({popout:null})}},r.a.createElement("h2",null,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),r.a.createElement("p",null,"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"))})},a.callError=function(){a.setState({popout:r.a.createElement(h.Alert,{actionsLayout:"vertical",actions:[{title:"\u041e\u041a",autoclose:!0,style:"cancel"}],onClose:function(){return a.setState({popout:null})}},r.a.createElement("h2",null,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),r.a.createElement("p",null,"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435\u043c. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u0435\u0440\u0435\u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u0435\u0434\u0451\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."))})},a.callUnsupported=function(){a.setState({popout:r.a.createElement(h.Alert,{actionsLayout:"vertical",actions:[{title:"\u041e\u041a",autoclose:!0,style:"cancel"}],onClose:function(){return a.setState({popout:null})}},r.a.createElement("h2",null,"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"),r.a.createElement("p",null,"\u041e\u043f\u0441, \u0432\u043e\u0439\u0442\u0438 \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c. \u0412\u043f\u043e\u043b\u043d\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0447\u0442\u043e \u0432\u0430\u0448\u0430 \u0448\u043a\u043e\u043b\u0430 \u0435\u0449\u0451 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u043d\u0430\u0448\u0438\u043c \u0434\u043d\u0435\u0432\u043d\u0438\u043a\u043e\u043c. \u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u0432\u0430\u043c \u043f\u0440\u0438\u0451\u0434\u0442\u0441\u044f \u043f\u043e\u0434\u043e\u0436\u0434\u0430\u0442\u044c, \u043f\u043e\u043a\u0430 \u043c\u044b \u043d\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u043c \u0432\u0430\u0448\u0443 \u0448\u043a\u043e\u043b\u0443. \u041e\u0431 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f\u0445 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u043c\u044b \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043d\u0430\u043f\u0438\u0448\u0435\u043c \u0432 \u043d\u0430\u0448\u0435\u0439 \u0433\u0440\u0443\u043f\u043f\u0435 \u0432 \u0412\u041a."))})},a.netschoolSaving=function(e,t){a.setState({netschoolData:{login:e,password:t}})},a.state={popout:null,netschoolData:{login:null,password:null}},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.View,{popout:this.state.popout,activePanel:"settings"===this.props.activePanel?"choose_diary":this.props.activePanel},r.a.createElement(M,{id:"choose_diary",setDiary:this.props.setDiaryAction,setPanel:this.props.setPanelAction}),r.a.createElement(D,{id:"auth",diary:this.props.diary,fetchedUser:this.props.fetchedUser,setSpinner:this.viewScreenSpinner,setPanel:this.props.setPanelAction,setView:this.props.setViewAction,profile:this.props.profile,getProfile:this.props.getProfileAction,openError:this.callError,openIncorrect:this.callIncorrect,netschoolSave:this.netschoolSaving}),r.a.createElement(I,{id:"netschool_map",setPanel:this.props.setPanelAction,netschoolData:this.state.netschoolData,getProfile:this.props.getProfileAction,setSpinner:this.viewScreenSpinner,profile:this.props.profile,setView:this.props.setViewAction,openError:this.callError,openUnsupported:this.callUnsupported}),r.a.createElement(L,{id:"choose_student",profile:this.props.profile,setStudent:this.props.setStudentAction,setView:this.props.setViewAction,setPanel:this.props.setPanelAction}))}}]),t}(r.a.Component),B=Object(f.b)(function(e){return console.log("Auth View",e),{activePanel:e.activePanel,diary:e.diary,fetchedUser:e.fetchedUser,profile:e.profile}},function(e){return{setDiaryAction:function(t){return e(function(e){return{type:"SET_DIARY",data:e}}(t))},getProfileAction:function(t,a,n){e(j(0,0,n))},setPanelAction:function(t){return e(x(t))},setViewAction:function(t){return e(V(t))},setStudentAction:function(t){return e(function(e){return{type:"SET_STUDENT",data:e}}(t))}}})(F),R=a(37),H=(a(168),function(e){return r.a.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M20 21H4C4 21 4 15 11.7419 15C19.4839 15 20 21 20 21Z",stroke:e.selected?"#5690FF":"#A8ADAF","stroke-width":"1.5"}),r.a.createElement("circle",{cx:"12",cy:"8",r:"4.25",stroke:e.selected?"#5690FF":"#A8ADAF","stroke-width":"1.5"}))}),Z=function(e){return r.a.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 3.5C7.30558 3.5 3.5 7.30558 3.5 12C3.5 16.6944 7.30558 20.5 12 20.5C16.6944 20.5 20.5 16.6944 20.5 12C20.5 7.30558 16.6944 3.5 12 3.5ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12Z",fill:e.selected?"#5690FF":"#A8ADAF"}),r.a.createElement("path",{d:"M9 16.5C9 16.5 14.5 18 14.5 14.5C14.5 11 10 12 10 12V8H14.5",stroke:e.selected?"#5690FF":"#A8ADAF","stroke-width":"1.5"}))},U=function(e){return r.a.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M4.75 6C4.75 4.20507 6.20507 2.75 8 2.75H16C17.7949 2.75 19.25 4.20507 19.25 6V21.25H4.75V6Z",stroke:e.selected?"#5690FF":"#A8ADAF","stroke-width":"1.5"}),r.a.createElement("rect",{x:"7",y:"6",width:"10",height:"1.5",fill:e.selected?"#5690FF":"#A8ADAF"}),r.a.createElement("rect",{x:"7",y:"11",width:"10",height:"1.5",fill:e.selected?"#5690FF":"#A8ADAF"}),r.a.createElement("rect",{x:"7",y:"16",width:"10",height:"1.5",fill:e.selected?"#5690FF":"#A8ADAF"}))},z="#5690FF",W=function(e){return r.a.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},z=e.stroke_color?e.stroke_color:"#5690FF",r.a.createElement("path",{d:"M4 7.5L12 3L20 7.5V16.5L12 21L4 16.5V7.5Z",stroke:e.selected?z:"#A8ADAF","stroke-width":"1.5"}),r.a.createElement("path",{d:"M12 7V12M12 17V12M12 12H7H17",stroke:e.selected?z:"#A8ADAF","stroke-width":"1.5"}))},G=function(e){return r.a.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M12.0051 15.86C9.88505 15.86 8.14504 14.14 8.14504 12C8.14504 9.88003 9.86505 8.14002 12.0051 8.14002C14.1251 8.14002 15.8651 9.86003 15.8651 12C15.8651 14.12 14.1251 15.86 12.0051 15.86ZM12.0051 9.56004C10.6651 9.56004 9.56506 10.66 9.56506 12C9.56506 13.34 10.6651 14.44 12.0051 14.44C13.3451 14.44 14.445 13.34 14.445 12C14.445 10.66 13.3451 9.56004 12.0051 9.56004ZM12.0051 21.2H11.9051C11.2051 21.2 10.6051 21.12 10.5651 21.12C10.2451 21.08 10.005 20.84 9.94504 20.52L9.74504 19.08C9.30504 18.94 8.88506 18.76 8.48506 18.54L7.34504 19.4C7.08504 19.6 6.74506 19.58 6.48506 19.4C6.46506 19.38 5.98506 19 5.48506 18.52L5.40505 18.44C4.90505 17.94 4.54505 17.46 4.52505 17.44C4.32505 17.18 4.32505 16.84 4.52505 16.58L5.40505 15.42C5.18505 15.02 5.02506 14.58 4.88506 14.14L3.48506 13.94C3.16506 13.9 2.92506 13.64 2.88506 13.32C2.88506 13.3 2.80505 12.68 2.80505 11.98V11.88C2.80505 11.18 2.88506 10.58 2.88506 10.54C2.92506 10.22 3.16506 9.98002 3.48506 9.92002L4.92505 9.72002C5.06505 9.28002 5.24506 8.86004 5.46506 8.46004L4.60505 7.32002C4.40505 7.06002 4.42505 6.72004 4.60505 6.46004C4.62505 6.44004 5.00506 5.96004 5.48506 5.46004L5.56506 5.38003C6.06506 4.88003 6.54506 4.52003 6.56506 4.50003C6.82506 4.30003 7.16505 4.30003 7.42505 4.50003L8.58506 5.38003C8.98506 5.16003 9.42506 5.00004 9.86506 4.86004L10.0651 3.46004C10.1051 3.14004 10.3651 2.90004 10.6851 2.86004C10.7051 2.86004 11.325 2.78003 12.025 2.78003H12.125C12.825 2.78003 13.4251 2.86004 13.4651 2.86004C13.7851 2.90004 14.0251 3.14004 14.0851 3.46004L14.2851 4.90003C14.7251 5.04003 15.145 5.22002 15.545 5.44002L16.6851 4.58003C16.9451 4.38003 17.285 4.40003 17.545 4.58003C17.565 4.60003 18.045 4.98004 18.545 5.46004L18.625 5.54002C19.125 6.04002 19.4851 6.52002 19.5051 6.54002C19.7051 6.80002 19.7051 7.14003 19.5051 7.40003L18.625 8.56004C18.845 8.96004 19.005 9.40002 19.145 9.84002L20.545 10.04C20.865 10.08 21.105 10.34 21.145 10.66C21.145 10.68 21.225 11.3 21.225 12V12.1C21.225 12.8 21.145 13.4 21.145 13.44C21.105 13.76 20.865 14 20.545 14.06L19.1051 14.26C18.9651 14.7 18.7851 15.12 18.5651 15.52L19.425 16.66C19.625 16.92 19.605 17.26 19.425 17.52C19.405 17.54 19.025 18.02 18.545 18.52L18.4651 18.6C17.9651 19.1 17.4851 19.46 17.4651 19.48C17.2051 19.68 16.8651 19.68 16.6051 19.48L15.445 18.6C15.045 18.82 14.6051 18.98 14.1651 19.12L13.9651 20.52C13.9251 20.84 13.665 21.08 13.345 21.12C13.305 21.12 12.7051 21.2 12.0051 21.2ZM11.2851 19.76C11.4651 19.78 11.6851 19.78 11.9051 19.78H12.0051C12.2251 19.78 12.445 19.78 12.625 19.76L12.8051 18.44C12.8451 18.14 13.065 17.92 13.345 17.84C13.965 17.7 14.5651 17.46 15.1051 17.12C15.2651 17.02 15.465 17 15.645 17.04C15.745 17.06 15.845 17.12 15.925 17.18L16.9851 17.98C17.1251 17.86 17.285 17.72 17.445 17.56L17.525 17.48C17.685 17.32 17.825 17.16 17.945 17.02L17.145 15.96C16.965 15.72 16.9651 15.4 17.1051 15.16C17.4451 14.64 17.685 14.06 17.825 13.46C17.885 13.16 18.125 12.92 18.425 12.88L19.7651 12.7C19.7851 12.52 19.7851 12.3 19.7851 12.08V11.98C19.7851 11.76 19.7851 11.54 19.7651 11.36L18.445 11.18C18.165 11.14 17.9251 10.92 17.8651 10.64C17.7251 10.02 17.4851 9.44003 17.1651 8.90003C17.1251 8.86003 17.1051 8.80002 17.0851 8.74002C17.0051 8.52002 17.0451 8.26003 17.1851 8.08003L18.0051 7.00003C17.8851 6.86003 17.7451 6.70002 17.5851 6.54002L17.5051 6.46004C17.3451 6.30004 17.185 6.16002 17.045 6.04002L15.9851 6.84002C15.7251 7.02002 15.385 7.02002 15.145 6.84002C14.625 6.52002 14.045 6.28002 13.445 6.12002C13.165 6.06002 12.9451 5.82002 12.9051 5.52002L12.725 4.18003C12.545 4.16003 12.3251 4.16004 12.1051 4.16004H12.0051C11.7851 4.16004 11.5651 4.16003 11.3851 4.18003L11.2051 5.50003C11.1651 5.82003 10.9251 6.06003 10.6051 6.10003C10.0051 6.24003 9.42505 6.48003 8.90505 6.80003C8.74505 6.90003 8.54506 6.92003 8.36506 6.88003C8.26506 6.86003 8.16506 6.80002 8.08506 6.74002L7.04504 5.94002C6.90504 6.06002 6.74506 6.20004 6.58506 6.36004L6.50505 6.44002C6.34505 6.60002 6.20506 6.76003 6.08506 6.90003L6.88506 7.96004C7.06506 8.20004 7.06505 8.50004 6.92505 8.76004C6.90505 8.78004 6.90506 8.80002 6.88506 8.82002C6.56506 9.34002 6.32506 9.92002 6.18506 10.52C6.12506 10.8 5.88506 11.02 5.58506 11.06L4.24504 11.24C4.22504 11.42 4.22505 11.64 4.22505 11.86V11.96C4.22505 12.18 4.22504 12.4 4.24504 12.58L5.56506 12.76C5.88506 12.8 6.12506 13.04 6.16506 13.36V13.38C6.30506 13.98 6.54506 14.54 6.86506 15.06C6.96506 15.24 7.00505 15.46 6.92505 15.66C6.90505 15.74 6.84506 15.82 6.78506 15.9L6.00505 16.94C6.12505 17.08 6.26505 17.24 6.42505 17.4L6.50505 17.48C6.66505 17.64 6.82506 17.78 6.96506 17.9L8.02505 17.1C8.28505 16.9 8.66505 16.92 8.90505 17.12C9.42505 17.44 9.98506 17.66 10.5651 17.8C10.8451 17.86 11.0651 18.1 11.1051 18.4L11.2851 19.76Z",fill:e.selected?"#5690FF":"#A8ADAF"}))},K=(a(169),a(170),a(171),function(e){return r.a.createElement("div",{className:"levelCircleContainer",style:{backgroundColor:e.color,boxShadow:"0 0 0 4px ".concat(e.outline_color)}},r.a.createElement("span",null,e.val))});var J=function(e){return r.a.createElement("div",{className:"accountUserContainer"},void("1"===(t=e.number)?(_="rgb(255 214 0)",P="rgba(255, 214, 0, 0.5)"):"2"===t?(_="rgb(180 180 180)",P="rgba(180, 180, 180, 0.5)"):"3"===t&&(_="rgb(255 186 86)",P="rgba(255, 186, 86, 0.5)")),r.a.createElement("div",{className:"accountUserNumeration"},e.number),r.a.createElement(h.Div,{className:"accountUserInfo"},r.a.createElement("span",{className:"accountUserName"},e.name),r.a.createElement(K,{color:_,outline_color:P,val:e.level})));var t},Q=function(e){var t=e.id;return r.a.createElement(h.Panel,{id:t},r.a.createElement(h.PanelHeader,{noShadow:!0,left:r.a.createElement(h.Div,{style:{fontWeight:"bold",fontSize:"20px"}},r.a.createElement("span",null,"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"))}),r.a.createElement("div",{className:"accountStudentInfo"},r.a.createElement(h.Div,{className:"studentInfoContainer"},r.a.createElement("div",{id:"studentInfo"},r.a.createElement("span",{id:"studentName"},"\u0418\u0432\u0430\u043d \u041f\u0435\u0448\u0435\u0445\u043e\u043d\u043e\u0432"),r.a.createElement("span",{id:"studentGrade"},"11 \u043a\u043b\u0430\u0441\u0441")),r.a.createElement("div",null)),r.a.createElement(h.Div,{className:"accountProgress"},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},r.a.createElement("span",null,"\u0423\u0441\u043f\u0435\u0432\u0430\u0435\u043c\u043e\u0441\u0442\u044c")),r.a.createElement(h.InfoRow,{title:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c",id:"progressBar"},r.a.createElement(h.Progress,{value:90})))),r.a.createElement("div",{className:"accountTasks"},r.a.createElement(h.Div,{className:"accountBlockTitle"},"\u0417\u0410\u0414\u0410\u0427\u0418")),r.a.createElement("div",{className:"accountGradeTop"},r.a.createElement(h.Div,{style:{fontSize:"14px"}},"\u0422\u043e\u043f \u043a\u043b\u0430\u0441\u0441\u0430"),r.a.createElement(h.Div,{className:"userTopElement"},r.a.createElement(J,{number:"1",name:"\u041d\u0430\u0442\u0430\u0448\u0430 \u041c\u0430\u0437\u043d\u043e\u0432\u0430",level:"20"})),r.a.createElement(h.Div,{className:"userTopElement"},r.a.createElement(J,{number:"2",name:"\u041a\u0430\u0442\u044f \u0421\u0442\u0440\u0451\u043c\u043d\u0430\u044f",level:"20"})),r.a.createElement(h.Div,{className:"userTopElement"},r.a.createElement(J,{number:"3",name:"\u0418\u0432\u0430\u043d \u041f\u0435\u0448\u0435\u0445\u043e\u043d\u043e\u0432",level:"20"})),r.a.createElement(h.Div,{className:"userTopElement"},r.a.createElement("span",{id:"overPlace"},"\u0422\u044b \u043d\u0430\u0445\u043e\u0434\u0438\u0448\u044c\u0441\u044f \u043d\u0430 6 \u043c\u0435\u0441\u0442\u0435"))),r.a.createElement("div",{className:"accountImportantantNotifications"},r.a.createElement(h.Div,{className:"accountBlockTitle"},"\u0412\u0410\u0416\u041d\u042b\u0415 \u0423\u0412\u0415\u0414\u041e\u041c\u041b\u0415\u041d\u0418\u042f")),r.a.createElement(h.Group,{className:"lastNotificationsContainer"},r.a.createElement("span",{className:"inversedTitle"},"\u041f\u041e\u0421\u041b\u0415\u0414\u041d\u0418\u0415 \u0421\u041e\u0411\u042b\u0422\u0418\u042f"),r.a.createElement("div",{className:"notification notificationTop"},"\u0412\u043e\u043b\u043e\u0434\u044f \u0420\u0436\u0430\u0432\u044b\u0439 \u043f\u043e\u043b\u0443\u0447\u0438\u043b 5 \u0437\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u0443\u044e \u043f\u043e \u0443\u0440\u043e\u043a\u0443 \u0430\u043b\u0433\u0435\u0431\u0440\u0430. \u0415\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0432 \u043a\u043b\u0430\u0441\u0441\u0435!"),r.a.createElement("div",{className:"notification"},"\u0418\u0440\u0438\u043d\u0430 \u0428\u0438\u043a\u0438\u043d\u0430 \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u0430 10 \u0443\u0440\u043e\u0432\u043d\u044f"),r.a.createElement("div",{className:"notification"},"\u0422\u0432\u043e\u0439 \u043a\u043b\u0430\u0441\u0441 \u043f\u043e\u043b\u0443\u0447\u0438\u043b \u0440\u0435\u043a\u043e\u0440\u0434\u043d\u044b\u0435 26 \u043e\u0446\u0435\u043d\u043e\u043a \u0437\u0430 \u043d\u0435\u0434\u0435\u043b\u044e. \u0418\u0437 \u043d\u0438\u0445 15 \u043f\u044f\u0442\u0451\u0440\u043e\u043a!"),r.a.createElement("div",{className:"notification notificationBottom"},r.a.createElement(h.Button,{level:"tertiary",style:{margin:0,padding:0}},r.a.createElement("span",{style:{fontSize:"15px",fontWeight:"700",color:"#fff"}},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")))))},Y=function(e){function t(e){return Object(i.a)(this,t),Object(d.a)(this,Object(m.a)(t).call(this,e))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.View,{activePanel:"auth"===this.props.activePanel?"account":this.props.activePanel},r.a.createElement(Q,{id:"account"}))}}]),t}(r.a.Component),q=Object(f.b)(function(e){return console.log("Account View",e),{activePanel:e.activePanel,profile:e.profile}})(Y);a(172),a(173);function $(e){var t=[];return"5"===e||"\u0437\u0430\u0447\u0451\u0442"===e.toLowerCase()||"\u0417\u0447"===e?(t[1]="rgb(114 222 32)",t[0]="rgb(28 179 54)"):"4"===e?(t[0]="rgb(0 225 157)",t[1]="rgb(2 205 132)"):"3"===e?(t[0]="rgb(255 81 47)",t[1]="rgb(240 152 25)"):"2"!==e&&"\u043d\u0435\u0437\u0430\u0447\u0451\u0442"!==e.toLowerCase()&&"\u041d\u0437\u0447"!==e||(t[0]="rgb(255 75 43)",t[1]="rgb(255 65 108)"),t}String.prototype.capitalize=function(){return this.replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})};var X=function(e){var t=!1,a=e.val.toLowerCase();return e.short?("\u0437\u0430\u0447\u0451\u0442"===a&&(a="\u0417\u0447"),"\u043d\u0435\u0437\u0430\u0447\u0451\u0442"===a&&(a="\u041d\u0437\u0447")):a=a.capitalize(),"\u0417\u0430\u0447\u0451\u0442"!==a&&"\u041d\u0435\u0437\u0430\u0447\u0451\u0442"!==a||(t=!0),r.a.createElement("div",{className:"markContainer",style:{width:t?"68px":"".concat(e.size,"px "),height:t?"22px":"".concat(e.size,"px "),background:e.is_routine?"rgb(86 144 255)":"linear-gradient(90deg, ".concat($(e.val)[0],", ").concat($(e.val)[1],")"),fontSize:e.fontSize?"".concat(e.fontSize,"px"):"14px",borderRadius:t?"11px":"50%"}},r.a.createElement("span",null,a),e.weight&&e.weight>1?r.a.createElement("div",{className:"markWeight"},e.weight):null)},ee=(a(174),a(51)),te=a.n(ee),ae=function(e){return r.a.createElement("div",{className:"customSpinnerContainer",style:{backgroundColor:e.isInverse?"#5690ff":"#ffffff"}},r.a.createElement("div",{className:"customSpinnerRotator",style:{color:e.isInverse?"#ffffff":"#5690ff"}},r.a.createElement(te.a,null)))},ne=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).loadData=Object(E.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.getMarks(a.props.profile.id,a.props.profile.secret),a.props.getLastMarks(a.props.profile.id,a.props.profile.secret),t=setInterval(function(){a.props.appData.error&&(console.log("err marks"),clearInterval(t),a.setState({error:!0,ready:!0})),a.state.error||0===a.props.appData.marks.data.length||(a.marksData=a.props.appData.marks,clearInterval(t),console.log("GONNA RENDER",a.marksData),a.startRender())},200),setInterval(function(){a.props.appData.errorLastMarks&&(console.log("err last"),clearInterval(t),a.setState({errorLastMarks:!0,ready:!0}))},200);case 4:case"end":return e.stop()}},e)})),a.startRender=function(){var e=a.marksData.data[0].periods.length;console.log("periods length",e);for(var t=0;t<e;t++)a.tabs.push(a.drawTab(t));a.setState({ready:!0})},a.drawTabsItem=function(){if(a.marksData.data[0]){var e=a.marksData.data[0].periods.length;a.tabsItems=[];for(var t=function(e){a.tabsItems.push(r.a.createElement(h.TabsItem,{onClick:function(){return a.setState({activeTab:"".concat(e+1)})},selected:a.state.activeTab==="".concat(e+1)},e+1))},n=0;n<e;n++)t(n);return a.tabsItems}},a.drawSpinner=function(){return r.a.createElement(ae,{isInverse:!0})},a.drawTab=function(e){var t,n=[];t=e,a.marksData.data.forEach(function(e){0!==e.periods.length&&n.push(function(e,t){var n=e.periods[t],l=[],o=[],c=0;n.marks.forEach(function(e){c+=e.value*(e.weight?e.weight:1),l.push(r.a.createElement("div",null,r.a.createElement(X,{size:"16",val:e.value.toString(),is_routine:!0,fontSize:"12"}))),o.push(r.a.createElement("div",{className:"modalMarkMarksInfo"},r.a.createElement("div",{className:"modalMarkMarksInfoLeft"},r.a.createElement(X,{size:"22",is_routine:!1,val:e.value.toString(),fontSize:"14",weight:e.weight?e.weight.toString():"1"})),r.a.createElement("div",{className:"modalMarkMarksInfoContainer"},r.a.createElement("div",{className:"modalMarkMarksInfoForm"},e.form),r.a.createElement("div",{className:"modalMarkMarksInfoName"},e.name),r.a.createElement("div",{className:"modalMarkMarksInfoDate"},"14 \u043d\u0438\u043a\u043e\u0433\u0434\u0430\u0431\u0440\u044f"))))}),c=(c/=l.length).toFixed(2);var s=r.a.createElement("div",null,r.a.createElement("div",{className:"modalMarkTitle"},"\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0435"),r.a.createElement("div",{className:"modalMarkSubjectInfo"},r.a.createElement("div",{className:"modalMarkSubjectInfoLeft"},c),r.a.createElement("div",{className:"modalMarkSubjectInfoText"},"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0431\u0430\u043b\u043b")),r.a.createElement("div",{className:"modalMarkSubjectInfo"},r.a.createElement("div",{className:"modalMarkSubjectInfoLeft"},e.year_mark?r.a.createElement(X,{size:"22",val:e.year_mark.toString(),is_routine:!1,fontSize:"14"}):"-"),r.a.createElement("div",{className:"modalMarkSubjectInfoText"},"\u0418\u0442\u043e\u0433\u043e\u0432\u0430\u044f \u043e\u0446\u0435\u043d\u043a\u0430")),r.a.createElement("div",{className:"modalMarkTitle"},"\u041e\u0446\u0435\u043d\u043a\u0438"),o);return r.a.createElement("div",{className:"allMarksContainer",onClick:function(){return a.props.openModal(s,e.name)}},r.a.createElement("div",{className:"subjectRow"},r.a.createElement("span",{className:"subject"},e.name),r.a.createElement("span",{className:"avg"},isNaN(c)?null:c)),r.a.createElement("div",{className:"marksRow"},l),r.a.createElement("div",{className:"advicesRow"},r.a.createElement("div",{className:"adviceContainer"},"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 1 \u043f\u044f\u0442\u0435\u0440\u043a\u0443")))}(e,t))});return r.a.createElement("div",{id:e},(console.log("lastmarks",a.lastMarksData.data),a.state.errorLastMarks?r.a.createElement("p",{className:"errorLastMarks"},"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u043e\u0446\u0435\u043d\u043a\u0438 \u0438\u0437-\u0437\u0430 \u043d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u043e\u0439 \u043e\u0448\u0438\u0431\u043a\u0438."):0!==a.lastMarksData.data.length&&0!==a.lastMarksData.data.lessons.length?r.a.createElement("div",null,r.a.createElement(h.Div,{className:"marksBlocksTitle",style:{paddingTop:"0"}},"\u041f\u041e\u0421\u041b\u0415\u0414\u041d\u0418\u0415 \u041e\u0426\u0415\u041d\u041a\u0418"),r.a.createElement(h.HorizontalScroll,{className:"lastMarksContainer"},r.a.createElement(h.Div,{className:"lastMarkContainer"},r.a.createElement("div",{className:"lastMarkVal"},r.a.createElement(X,{size:"36",val:"5",is_routine:!1,fontSize:"20"})),r.a.createElement("div",{className:"lastMarkSubject"},"\u041c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u043a\u0430"),r.a.createElement("div",{className:"lastMarkDate"},"\u0421\u0435\u0433\u043e\u0434\u043d\u044f")))):null),r.a.createElement(h.Div,{className:"marksBlocksTitle"},"\u0412\u0421\u0415 \u041e\u0426\u0415\u041d\u041a\u0418"),n)},a.drawResultTab=function(){var e=[];return a.marksData.data.forEach(function(t){0!==t.periods.length&&e.push(function(e){for(var t=e.periods.length,a=[],n=0;n<t;n++)a.push(e.periods[n].final_mark);var l=[];return a.forEach(function(e){e&&l.push(r.a.createElement("div",{className:"resultMarksContainerMark"},r.a.createElement(X,{size:"24",val:e.toString(),is_routine:!0,fontSize:"12",short:!0})))}),r.a.createElement(h.Div,{className:"resultMarksContainer"},r.a.createElement("span",{className:"resultMarksContainerSubject"},e.name),r.a.createElement("div",{className:"resultMarksContainerMarks"},l,r.a.createElement("div",{className:"resultMarksContainerResultedMark"},r.a.createElement(X,{size:"24",val:e.year_mark.toString(),is_routine:!1,fontSize:"12",short:!0}))))}(t))}),r.a.createElement("div",null,e)},a.marksData=a.props.appData.marks,a.lastMarksData=a.props.appData.lastMarks,a.tabs=[],a.tabsItems=[];var n=0===a.props.appData.marks.data.length;return a.state={activeTab:"1",ready:!n,error:!1,errorLastMarks:!1},n?a.loadData():a.startRender(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(h.Panel,{id:this.props.id},r.a.createElement(h.PanelHeader,{noShadow:!0},"\u041e\u0446\u0435\u043d\u043a\u0438"),this.state.error?r.a.createElement("p",{className:"marksScreenError"},"\u041d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435."):r.a.createElement("div",{className:"marksScreen"},r.a.createElement(h.Div,{style:{paddingTop:"13px",paddingBottom:"13px"}},r.a.createElement(h.Tabs,{theme:"header",type:"buttons",className:"marksTabs"},this.drawTabsItem(),r.a.createElement(h.TabsItem,{onClick:function(){return e.setState({activeTab:"result"})},selected:"result"===this.state.activeTab},"\u0418\u0442\u043e\u0433\u043e\u0432\u044b\u0435"))),this.state.ready?this.tabs[this.state.activeTab-1]:this.drawSpinner(),"result"===this.state.activeTab?this.drawResultTab():null))}}]),t}(r.a.Component),re=a(50),le=a.n(re);a(175);function oe(e){var t=e.slice(8);return e=e.slice(0,6),e+=t}function ce(e){switch(e){case 0:return"\u042f\u043d\u0432\u0430\u0440\u044c";case 1:return"\u0424\u0435\u0432\u0440\u0430\u043b\u044c";case 2:return"\u041c\u0430\u0440\u0442";case 3:return"\u0410\u043f\u0440\u0435\u043b\u044c";case 4:return"\u041c\u0430\u0439";case 5:return"\u0418\u044e\u043d\u044c";case 6:return"\u0418\u044e\u043b\u044c";case 7:return"\u0410\u0432\u0433\u0443\u0441\u0442";case 8:return"\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c";case 9:return"\u041e\u043a\u0442\u044f\u0431\u0440\u044c";case 10:return"\u041d\u043e\u044f\u0431\u0440\u044c";case 11:return"\u0414\u0435\u043a\u0430\u0431\u0440\u044c"}}var se=a(49),ie="https://bklet.ml/";function ue(e,t,a,n){return function(r){r({type:"GET_JOURNAL_REQUEST",data:{data:[]}}),function(e,t,a,n,r){var l="?id=".concat(e,"&secret=").concat(t,"&start=").concat(oe(a.toLocaleDateString("ru-RU")),"&end=").concat(oe(n.toLocaleDateString("ru-RU")));console.log("schedule request",ie+"api/diary/journal/dates/"+l),se.get(ie+"api/diary/journal/dates/"+l).then(function(e){console.log("resp",e.data),r({type:"GET_JOURNAL_SUCCESS",data:e.data})}).catch(function(e){console.log("schedule error",e),r({type:"GET_JOURNAL_FAIL",data:e})})}(e,t,a,n,r)}}function de(e,t){return function(a){a({type:"GET_MARKS_REQUEST",data:{data:[]}}),function(e,t,a){var n=new Date(2018,9,3),r=new Date,l="?id=".concat(e,"&secret=").concat(t,"&start=").concat(oe(n.toLocaleDateString("ru-RU")),"&end=").concat(oe(r.toLocaleDateString("ru-RU")));console.log(ie+"api/diary/marks/all/"+l),se.get(ie+"api/diary/marks/all/"+l).then(function(e){console.log("marks resp",e.data),null===e.data.data?a({type:"GET_MARKS_FAIL",data:[]}):a({type:"GET_MARKS_SUCCESS",data:e.data})}).catch(function(e){console.log("marks error",e),a({type:"GET_MARKS_FAIL",data:e})})}(e,t,a)}}function me(e,t){return function(a){a({type:"GET_LAST_MARKS_REQUEST",data:{data:[]}}),function(e,t,a){var n=new Date(2019,3,15),r=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()-7)),l="?id=".concat(e,"&secret=").concat(t,"&start=").concat(oe(r.toLocaleDateString("ru-RU")),"&end=").concat(oe(n.toLocaleDateString("ru-RU")));var o;console.log("start",r,r.toLocaleDateString("ru-RU")),console.log("end",n,n.toLocaleDateString("ru-RU")),console.log("error here",ie+"api/diary/marks/dates/"+l),se.get(ie+"api/diary/marks/dates/"+l).then(function(e){console.log("last marks resp",e.data),e.data.error?a({type:"GET_LAST_MARKS_FAIL",data:e.data.error}):a({type:"GET_LAST_MARKS_SUCCESS",data:e.data})}).catch(function(e){console.log("last marks error",e),a({type:"GET_LAST_MARKS_FAIL",data:e})})}(e,t,a)}}var pe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).setModalMark=function(e,t){a.setState({modalMarks:r.a.createElement(h.ModalRoot,{activeModal:"modalMark"},r.a.createElement(h.ModalPage,{id:"modalMark",onClose:a.closeModal,settlingHeight:50,header:r.a.createElement(h.ModalPageHeader,{left:h.IS_PLATFORM_ANDROID&&r.a.createElement(h.HeaderButton,{onClick:a.closeModal},r.a.createElement(le.a,{style:{color:"#999999"}}))},t)},e))})},a.state={modalMarks:null},a.closeModal=function(){a.setState({modalMarks:null})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.View,{activePanel:this.props.activePanel,modal:this.state.modalMarks},r.a.createElement(ne,{id:"marks",profile:this.props.profile,appData:this.props.appLogic,getMarks:this.props.getMarksAction,getLastMarks:this.props.getLastMarksAction,openModal:this.setModalMark,closeModal:this.closeModal}))}}]),t}(r.a.Component),he=Object(f.b)(function(e){return console.log("Marks View",e),{activePanel:e.activePanel,profile:e.profile,appLogic:e.appLogic}},function(e){return{getMarksAction:function(t,a){e(de(t,a))},getLastMarksAction:function(t,a){e(me(t,a))}}})(pe),fe=(a(176),function(e){return r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"#999999"}))}),Ce=function(e){return r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M5 3C3.89 3 3 3.89 3 5V19C3 20.11 3.89 21 5 21H19C20.11 21 21 20.11 21 19V5C21 3.89 20.11 3 19 3H5ZM5 5H19V19H5V5ZM7 7V9H17V7H7ZM7 11V13H17V11H7ZM7 15V17H14V15H7Z",fill:"#A8ADAF"}))},ve=function(e){return r.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M12 11.5C11.337 11.5 10.7011 11.2366 10.2322 10.7678C9.76339 10.2989 9.5 9.66304 9.5 9C9.5 8.33696 9.76339 7.70107 10.2322 7.23223C10.7011 6.76339 11.337 6.5 12 6.5C12.663 6.5 13.2989 6.76339 13.7678 7.23223C14.2366 7.70107 14.5 8.33696 14.5 9C14.5 9.3283 14.4353 9.65339 14.3097 9.95671C14.1841 10.26 13.9999 10.5356 13.7678 10.7678C13.5356 10.9999 13.26 11.1841 12.9567 11.3097C12.6534 11.4353 12.3283 11.5 12 11.5ZM12 2C10.1435 2 8.36301 2.7375 7.05025 4.05025C5.7375 5.36301 5 7.14348 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 7.14348 18.2625 5.36301 16.9497 4.05025C15.637 2.7375 13.8565 2 12 2Z",fill:"#A8ADAF"}))},Ee=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).loadData=Object(E.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.props.getJournal(a.props.profile.id,a.props.profile.secret,a.dayDates[7],a.dayDates[8]),a.props.appData.journal,t=setInterval(function(){a.props.appData.error?(clearInterval(t),a.setState({error:!0}),a.setState({ready:!0})):0!==a.props.appData.journal.data.length&&(a.scheduleData=a.props.appData.journal,clearInterval(t),a.setState({ready:!0,weekDuration:a.scheduleData.data.days.length>5?6:5}))},200);case 3:case"end":return e.stop()}},e)})),a.drawSpinner=function(){return r.a.createElement(ae,{isInverse:!1})},a.drawTopBar=function(){return r.a.createElement(h.FixedLayout,{className:"scheduleWeekTopBarContainer"},r.a.createElement(h.Div,{className:"scheduleWeekTopBar"},r.a.createElement("div",{className:"scheduleWeekDay"},r.a.createElement("span",null,"\u041f\u041d"),r.a.createElement(h.Button,{level:"tertiary",style:{margin:0,padding:0,color:"#fff"},onClick:function(){return a.setState({currentDay:1})}},r.a.createElement("div",{className:"scheduleWeekDayDate ".concat(1===a.state.currentDay?"scheduleWeekDaySelected":null)},a.dayDates[0]))),r.a.createElement("div",{className:"scheduleWeekDay"},r.a.createElement("span",null,"\u0412\u0422"),r.a.createElement(h.Button,{level:"tertiary",style:{margin:0,padding:0,color:"#fff"},onClick:function(){return a.setState({currentDay:2})}},r.a.createElement("div",{className:"scheduleWeekDayDate ".concat(2===a.state.currentDay?"scheduleWeekDaySelected":null)},a.dayDates[1]))),r.a.createElement("div",{className:"scheduleWeekDay"},r.a.createElement("span",null,"\u0421\u0420"),r.a.createElement(h.Button,{level:"tertiary",style:{margin:0,padding:0,color:"#fff"},onClick:function(){return a.setState({currentDay:3})}},r.a.createElement("div",{className:"scheduleWeekDayDate ".concat(3===a.state.currentDay?"scheduleWeekDaySelected":null)},a.dayDates[2]))),r.a.createElement("div",{className:"scheduleWeekDay"},r.a.createElement("span",null,"\u0427\u0422"),r.a.createElement(h.Button,{level:"tertiary",style:{margin:0,padding:0,color:"#fff"},onClick:function(){return a.setState({currentDay:4})}},r.a.createElement("div",{className:"scheduleWeekDayDate ".concat(4===a.state.currentDay?"scheduleWeekDaySelected":null)},a.dayDates[3]))),r.a.createElement("div",{className:"scheduleWeekDay"},r.a.createElement("span",null,"\u041f\u0422"),r.a.createElement(h.Button,{level:"tertiary",style:{margin:0,padding:0,color:"#fff"},onClick:function(){return a.setState({currentDay:5})}},r.a.createElement("div",{className:"scheduleWeekDayDate ".concat(5===a.state.currentDay?"scheduleWeekDaySelected":null)},a.dayDates[4]))),6===a.state.weekDuration?r.a.createElement("div",{className:"scheduleWeekDay"},r.a.createElement("span",null,"\u0421\u0411"),r.a.createElement(h.Button,{level:"tertiary",style:{margin:0,padding:0,color:"#fff"},onClick:function(){return a.setState({currentDay:6})}},r.a.createElement("div",{className:"scheduleWeekDayDate ".concat(6===a.state.currentDay?"scheduleWeekDaySelected":null)},a.dayDates[5]))):null))},a.generateScheduleTale=function(e){console.log("here");var t=[];return e.subjects.forEach(function(e){var n=function(e){var t=[],n=null,l=[];e&&(e.marks&&(console.log("subject",e.marks),e.marks.forEach(function(e){t.push(r.a.createElement(X,{size:"24",val:e.score.toString(),is_routine:!1,fontSize:"14",weight:e.weight?e.weight.toString():"1"})),l.push(r.a.createElement("div",{className:"modalScheduleInfoRow"},r.a.createElement("div",{className:"modalScheduleInfoRowLeft"},r.a.createElement(X,{size:"22",val:e.score.toString(),is_routine:!1,fontSize:"14",weight:e.weight?e.weight.toString():"1"})),r.a.createElement("div",{className:"modalScheduleInfoRowText"})))})),e.assignments&&e.assignments.forEach(function(e){try{n=e.text}catch(t){}})),console.log("building modal");var o=e.time?r.a.createElement("div",null,e.marks?r.a.createElement("div",null,r.a.createElement("div",{className:"modalScheduleTitle"},"\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u043f\u0440\u0435\u0434\u043c\u0435\u0442\u0435"),l):null,n?r.a.createElement("div",null,r.a.createElement("div",{className:"modalScheduleTitle"},"\u0414\u043e\u043c\u0430\u0448\u043d\u0435\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435"),r.a.createElement("div",{className:"modalScheduleInfoRow"},r.a.createElement("div",{className:"modalScheduleInfoRowLeft"},r.a.createElement(Ce,null)),r.a.createElement("div",{className:"modalScheduleInfoRowText"},n))):null,e.room?r.a.createElement("div",null,r.a.createElement("div",{className:"modalScheduleTitle"},"\u041a\u0430\u0431\u0438\u043d\u0435\u0442"),r.a.createElement("div",{className:"modalScheduleInfoRow"},r.a.createElement("div",{className:"modalScheduleInfoRowLeft"},r.a.createElement(ve,null)),r.a.createElement("div",{className:"modalScheduleInfoRowText"},e.room))):null,e.label?r.a.createElement("div",null,r.a.createElement("div",{className:"modalScheduleTitle"},"\u0422\u0435\u043c\u0430 \u0443\u0440\u043e\u043a\u0430"),r.a.createElement("div",{className:"modalScheduleInfoRow"},r.a.createElement("div",{className:"modalScheduleInfoRowLeft"},"-"),e.label.title,r.a.createElement("div",{className:"modalScheduleInfoRowText"}))):null,e.label&&e.label.module?r.a.createElement("div",null,r.a.createElement("div",{className:"modalScheduleTitle"},"\u041c\u043e\u0434\u0443\u043b\u044c"),r.a.createElement("div",{className:"modalScheduleInfoRow"},r.a.createElement("div",{className:"modalScheduleInfoRowLeft"},"-"),r.a.createElement("div",{className:"modalScheduleInfoRowText"},e.label.module))):null):null;return r.a.createElement("div",{className:"scheduleSubjectTale",onClick:function(){return a.props.openModal(o,e.name)}},r.a.createElement("div",{className:"scheduleSubjectTaleNumber"},e.number),r.a.createElement("div",{className:"scheduleSubjectTaleInfo"},r.a.createElement("span",{className:"scheduleSubjectTaleSubjectName"},e.name),r.a.createElement("div",{className:"scheduleSubjectTaleHomework"},n),r.a.createElement("span",{className:"scheduleSubjectTaleTimetable"},e.time[0]," - ",e.time[1])),r.a.createElement("div",{className:"scheduleSubjectTaleMarks"},t))}(e);t.push(n)}),t.push(r.a.createElement("div",{className:"scheduleSubjectLastChild"})),r.a.createElement("div",{className:"scheduleTale"},t)},a.generateEmptyTale=function(){return r.a.createElement("div",{className:"scheduleTale"},r.a.createElement("p",null,"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u043d\u0435\u0442 \u0437\u0430\u043d\u044f\u0442\u0438\u0439"))},a.generateErrorSchedule=function(){return r.a.createElement("div",{className:"scheduleTale"},r.a.createElement("p",{className:"scheduleTaleError"},"\u041d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435."))},a.generateSchedule=function(){var e=a.scheduleData.data.days,t=[];if(console.log("err",a.state.error),a.state.error)for(var n=0;n<5;n++)t.push(a.generateErrorSchedule());else console.log("days",e),e.forEach(function(e){console.log("Petya was here"),t.push(a.generateScheduleTale(e))});if(console.log("tales",t),0===t.length){console.log("lal");for(var l=0;l<5;l++)t.push(a.generateEmptyTale())}return t.push(r.a.createElement("div",null)),t},a.drawShedule=function(){return r.a.createElement(h.Gallery,{slideWidth:"100%",className:"scheduleSliderContainer",slideIndex:a.state.currentDay>0?a.state.currentDay-1:a.state.currentDay,onChange:function(e){a.setState({currentDay:e+1})},onEnd:a.state.currentDay>a.state.weekDuration?a.setState({currentDay:a.state.weekDuration}):null},a.generateSchedule())},a.dayDates=function(){var e=new Date(2019,4,13),t=e.getDay(),a=null;if(t>0){var n=t-1;a=new Date(e.getFullYear(),e.getMonth(),e.getDate()-n)}else a=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1);for(var r=[],l=0;l<7;l++){var o=new Date(a.getFullYear(),a.getMonth(),a.getDate()+l);r.push(o.getDate())}return console.log("tot",e),console.log("mom",a),r.push(a),r.push(new Date(a.getFullYear(),a.getMonth(),a.getDate()+6)),r}(),a.scheduleData=a.props.appData.journal;var n=0===a.props.appData.journal.data.length;return a.state={currentDay:a.props.currentDay?0===a.props.currentDay?6:a.props.currentDay:1,month:ce((new Date).getMonth()),weekDuration:n?5:a.scheduleData.data.days.length,ready:!n,heights:[],error:!1},n&&a.loadData(),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.Panel,{id:this.props.id,style:{backgroundColor:"rgb(86, 144, 255)"}},r.a.createElement(h.PanelHeader,{noShadow:!0},r.a.createElement("span",{className:"scheduleHeaderMonth"},this.state.month)),this.drawTopBar(),this.state.ready?this.drawShedule():this.drawSpinner())}}]),t}(r.a.Component),ge=(a(177),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).setModalSchedule=function(e,t){console.log("here"),a.setState({modalSchedule:r.a.createElement(h.ModalRoot,{activeModal:"modalSchedule"},r.a.createElement(h.ModalPage,{id:"modalSchedule",onClose:a.closeModal,settlingHeight:50,header:r.a.createElement(h.ModalPageHeader,{left:h.IS_PLATFORM_ANDROID&&r.a.createElement(h.HeaderButton,{onClick:a.closeModal},r.a.createElement(fe,null))},t)},e))})},a.currentDay=(new Date).getDay(),a.state={modalSchedule:"modalSchedule"},a.closeModal=function(){a.setState({modalSchedule:null})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.View,{activePanel:this.props.activePanel,modal:this.state.modalSchedule},r.a.createElement(Ee,{id:"schedule",currentDay:this.currentDay,profile:this.props.profile,getJournal:this.props.getJournalAction,appData:this.props.appLogic,openModal:this.setModalSchedule}))}}]),t}(r.a.Component)),Se=Object(f.b)(function(e){return console.log("Schedule View",e),{activePanel:e.activePanel,profile:e.profile,appLogic:e.appLogic}},function(e){return{getJournalAction:function(t,a,n,r,l){e(ue(t,a,n,r))}}})(ge),ye=(a(178),a(179),function(e){return e.is_invited?r.a.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24.48 24C27.3972 24 29.76 21.6372 29.76 18.72C29.76 15.8028 27.3972 13.44 24.48 13.44C21.5628 13.44 19.2 15.8028 19.2 18.72C19.2 21.6372 21.5628 24 24.48 24ZM24.4799 26.88C21.1157 26.88 14.3999 28.3808 14.3999 31.36V33.6H34.5599V31.36C34.5599 28.3808 27.8441 26.88 24.4799 26.88Z",fill:"white"})):r.a.createElement("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.7709 28.4704L15.2727 23.6561L13.4399 25.2609L20.7709 31.68L36.4799 17.9248L34.6472 16.32L20.7709 28.4704Z",fill:"white"}))}),we=function(e){return r.a.createElement("div",{className:"inviteUserContainer",style:{background:"linear-gradient(90deg, ".concat(e.inputColor[0],", ").concat(e.inputColor[1],")"),boxShadow:"0 0 8px 0 ".concat(e.shadowColor)}},r.a.createElement("div",{style:{marginLeft:"-2px"}},r.a.createElement(ye,{is_invited:e.is_invited})))},ke=function(e){return r.a.createElement("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M35.8224 30.415C36.3826 30.1174 36.75 29.54 36.75 28.875V13.125C36.75 12.46 36.3826 11.8826 35.8224 11.585L21.9974 3.81509C21.7176 3.6051 21.3674 3.5 21 3.5C20.6326 3.5 20.2824 3.6051 20.0026 3.81509L6.17755 11.585C5.61743 11.8826 5.25 12.46 5.25 13.125V28.875C5.25 29.54 5.61743 30.1174 6.17755 30.415L20.0026 38.1849C20.2824 38.3949 20.6326 38.5 21 38.5C21.2166 38.5 21.4272 38.4635 21.621 38.3904C21.7558 38.3396 21.8825 38.271 21.9974 38.1849L35.8224 30.415ZM33.25 14L21 7L8.75 14V28L21 35L33.25 28V14Z",fill:"white"}),r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M29.75 22.25H22.25V29.75H19.75V22.25H12.25V19.75H19.75V12.25H22.25V19.75H29.75V22.25Z",fill:"white"}))},be=function(e){return r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{filter:"url(#filter0_d)"},r.a.createElement("circle",{cx:"14",cy:"10",r:"10",fill:"white"})),r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.3786 6.89022C20.4713 6.58122 20.3786 6.35416 19.9376 6.35416H18.4793C18.1084 6.35416 17.9375 6.5503 17.8448 6.76659C17.8448 6.76659 17.1032 8.57425 16.0526 9.74845C15.7127 10.0883 15.5582 10.1965 15.3728 10.1965C15.2801 10.1965 15.1459 10.0883 15.1459 9.77936V6.89022C15.1459 6.51941 15.0383 6.35416 14.7293 6.35416H12.4376C12.2059 6.35416 12.0665 6.52626 12.0665 6.68936C12.0665 7.04088 12.5918 7.12194 12.6459 8.11076V10.2583C12.6459 10.7292 12.5609 10.8145 12.3755 10.8145C11.8811 10.8145 10.6785 8.99879 9.96527 6.92111C9.82549 6.51728 9.6853 6.35416 9.31259 6.35416H7.85425C7.43759 6.35416 7.35425 6.5503 7.35425 6.76659C7.35425 7.15286 7.84866 9.06866 9.65629 11.6025C10.8614 13.3328 12.5593 14.2708 14.1043 14.2708C15.0312 14.2708 15.1459 14.0625 15.1459 13.7036V12.3958C15.1459 11.9792 15.2337 11.896 15.5273 11.896C15.7436 11.896 16.1144 12.0041 16.9796 12.8384C17.9684 13.8272 18.1314 14.2708 18.6876 14.2708H20.1459C20.5626 14.2708 20.7709 14.0625 20.6507 13.6514C20.5192 13.2416 20.0471 12.6471 19.4207 11.9423C19.0808 11.5407 18.5709 11.1081 18.4164 10.8917C18.2001 10.6137 18.2619 10.49 18.4164 10.2429C18.4164 10.2429 20.1932 7.73995 20.3786 6.89022Z",fill:"url(#paint0_linear)"}),r.a.createElement("defs",null,r.a.createElement("filter",{id:"filter0_d",x:"0",y:"0",width:"28",height:"28",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},r.a.createElement("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),r.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),r.a.createElement("feOffset",{dy:"4"}),r.a.createElement("feGaussianBlur",{stdDeviation:"2"}),r.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),r.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),r.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),r.a.createElement("linearGradient",{id:"paint0_linear",x1:"14.0194",y1:"6.35416",x2:"14.0194",y2:"14.2708",gradientUnits:"userSpaceOnUse"},r.a.createElement("stop",{"stop-color":"#69A9E6"}),r.a.createElement("stop",{offset:"1","stop-color":"#3277B2"}))))},Ne=function(e){return r.a.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M21.9799 9.01119C21.8094 8.09153 21.1529 7.84989 20.4515 7.84989C19.6783 7.84989 18.85 8.14342 18.5589 8.14342C18.0037 8.14342 20.1527 6.07279 17.4587 5.29156C16.7496 5.08585 16.2047 5 15.7777 5C14.0569 5 14.2377 6.39199 13.1619 6.92838C12.9235 7.04696 12.6875 7.09245 12.4593 7.09245C11.7079 7.09245 11.0232 6.60344 10.5411 6.60344C10.3397 6.60344 10.1743 6.68801 10.0538 6.92838C9.82809 7.37375 10.3461 9.22781 10.9859 11.1331C10.9231 11.128 10.8667 11.1248 10.8167 11.1248V25.1246C10.8167 25.6077 11.209 26 11.6924 26H20.445C20.9284 26 21.3208 25.6078 21.3208 25.1246V11.2446C21.7901 10.366 22.0812 9.55784 21.9799 9.01119ZM18.7769 10.9351L19.5372 10.7319C19.5372 10.7319 19.5372 10.7319 19.5372 10.7326L19.7257 11.4407C19.3667 11.5407 18.9692 11.6605 18.5486 11.7945L18.7769 10.9351ZM11.64 10.323C11.1502 8.81053 10.9706 8.0088 10.9079 7.59738C10.9334 7.60702 10.9578 7.61666 10.9821 7.62561C11.3822 7.77749 11.881 7.96716 12.4593 7.96716C12.844 7.96716 13.2107 7.88127 13.5517 7.71084C14.1826 7.39681 14.5057 6.91296 14.7661 6.52329C14.9084 6.31118 15.0302 6.12787 15.17 6.02406C15.2559 5.95999 15.4123 5.87471 15.7778 5.87471C16.1432 5.87471 16.6279 5.96122 17.2151 6.13173C17.678 6.26631 17.8999 6.43165 17.9524 6.54187C18.0358 6.71365 17.8742 7.10587 17.7768 7.34041C17.7255 7.46473 17.6781 7.58204 17.6422 7.70059C17.6024 7.83964 17.587 7.96462 17.5896 8.07611L16.0227 7.66084C15.9484 7.64099 15.8727 7.63135 15.7983 7.63135C15.4111 7.632 15.0572 7.89087 14.9533 8.28247L14.5789 9.69304C14.2237 9.47769 13.8326 9.37449 13.4454 9.37449C12.7453 9.37449 12.0606 9.71035 11.64 10.323ZM18.3371 9.17966L17.5575 12.12C17.0702 12.2841 16.5689 12.4596 16.0688 12.6378C15.6495 12.4885 15.2302 12.3418 14.8186 12.2008L15.7982 8.50675L18.3371 9.17966ZM14.3378 10.6018L13.9878 11.9226C13.3094 11.7009 12.6773 11.5086 12.1439 11.3683C12.1695 11.1946 12.231 11.026 12.326 10.8716C12.567 10.4819 12.9851 10.25 13.4454 10.25C13.6877 10.25 13.9249 10.3179 14.1339 10.446C14.207 10.4922 14.275 10.5441 14.3378 10.6018ZM20.4451 25.1246H11.6925V12.1565C12.4709 12.3494 13.8839 12.773 16.4227 13.6953C18.0794 14.2977 19.6463 14.9059 20.4451 15.2199V25.1246ZM20.4451 14.2798C19.7129 13.9939 18.5935 13.5626 17.3664 13.1095C18.9 12.5814 19.8552 12.3027 20.4451 12.1566V14.2798ZM20.4964 10.9293L20.3836 10.5063C20.2784 10.1154 19.9245 9.85711 19.5372 9.85711C19.4629 9.85711 19.3872 9.86671 19.3116 9.8866L19.0359 9.96031L19.1833 9.40341C19.2269 9.24061 19.2205 9.07658 19.1744 8.92661C19.2103 8.9189 19.2462 8.91058 19.2847 8.90225C19.6347 8.82341 20.0694 8.72534 20.4515 8.72534C20.6708 8.72534 20.8451 8.7593 20.9413 8.8221C20.9772 8.84454 21.0695 8.90414 21.1195 9.17006C21.1311 9.23224 21.1772 9.68085 20.4964 10.9293Z",fill:"#5690FF"}),r.a.createElement("path",{d:"M14.8536 15.1299C14.6589 14.9567 14.3426 14.9567 14.1464 15.1299C14.0498 15.2171 14 15.3304 14 15.4444V22.5556C14 22.6696 14.0498 22.7829 14.1464 22.8701C14.3426 23.0433 14.6589 23.0433 14.8536 22.8701C14.9517 22.7829 15 22.6696 15 22.5556V15.4444C15 15.3304 14.9517 15.2171 14.8536 15.1299Z",fill:"#5690FF"}),r.a.createElement("path",{d:"M17.8534 15.1299C17.6584 14.9567 17.3417 14.9567 17.1466 15.1299C17.0484 15.2171 17 15.3304 17 15.4444V22.5556C17 22.6696 17.0484 22.7829 17.1466 22.8701C17.3417 23.0433 17.6584 23.0433 17.8534 22.8701C17.9517 22.7829 18 22.6696 18 22.5556V15.4444C18 15.3304 17.9517 15.2171 17.8534 15.1299Z",fill:"#5690FF"}))},De=function(e){return r.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("circle",{cx:"10",cy:"10",r:"10",fill:"url(#paint0_linear)"}),r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8 15L3 10L4.41 8.59L8 12.17L15.59 4.58L17 6L8 15Z",fill:"white"}),r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"paint0_linear",x1:"30",y1:"10",x2:"10",y2:"-10",gradientUnits:"userSpaceOnUse"},r.a.createElement("stop",{"stop-color":"#54D169"}),r.a.createElement("stop",{offset:"1","stop-color":"#AFF57A"}))))},Me=function(e){return r.a.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("circle",{cx:"10",cy:"10",r:"10",fill:"#F5F5F5"}),r.a.createElement("path",{d:"M15 13.0952V13.5714H5V13.0952L6.11111 12.1429V9.28571C6.11111 7.80952 7.23889 6.50952 8.88889 6.09048C8.88889 6.04286 8.88889 6 8.88889 5.95238C8.88889 5.69979 9.00595 5.45755 9.21433 5.27895C9.4227 5.10034 9.70532 5 10 5C10.2947 5 10.5773 5.10034 10.7857 5.27895C10.994 5.45755 11.1111 5.69979 11.1111 5.95238C11.1111 6 11.1111 6.04286 11.1111 6.09048C12.7611 6.50952 13.8889 7.80952 13.8889 9.28571V12.1429L15 13.0952ZM11.1111 14.0476C11.1111 14.3002 10.994 14.5424 10.7857 14.7211C10.5773 14.8997 10.2947 15 10 15C9.70532 15 9.4227 14.8997 9.21433 14.7211C9.00595 14.5424 8.88889 14.3002 8.88889 14.0476",fill:"#5690FF"}))},Le=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).doPay=function(){var e={app_id:a.appId,action:a.action,params:{action:a.action,amount:1,description:"Buying subscription",data:{},group_id:a.groupId}};s.a.send("VKWebAppOpenPayForm",JSON.stringify(e))},a.state={currentDay:a.props.currentDay?a.props.currentDay:1},a.appId=0,a.action="pay-to-group",a.groupId=0,a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.Panel,{id:this.props.id},r.a.createElement(h.PanelHeader,{noShadow:!0,left:r.a.createElement(h.Div,{style:{fontWeight:"bold",fontSize:"20px"}},r.a.createElement("span",null,"Booklet Plus"))}),r.a.createElement(h.FixedLayout,{style:{width:"100%"}},r.a.createElement(h.Div,{className:"plusBlueBack"},r.a.createElement("span",null,"\u0420\u0430\u0441\u0448\u0438\u0440\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0441\u0432\u043e\u0435\u0433\u043e \u0434\u043d\u0435\u0432\u043d\u0438\u043a\u0430"),r.a.createElement(ke,null))),r.a.createElement("div",{style:{padding:"0 16px 0 16px",marginBottom:"8px"}},r.a.createElement(h.Button,{level:"tertiary",className:"plusVkContainer"},r.a.createElement("div",{style:{height:"34px",display:"flex",alignItems:"end"}},r.a.createElement(be,null)),r.a.createElement("div",{className:"plusBotTextContainer"},"\u0411\u043e\u0442 \u0434\u043b\u044f \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435"))),r.a.createElement("div",{className:"plusOfferContainer"},r.a.createElement(h.Div,{className:"plusOfferInfo"},r.a.createElement("span",{className:"plusOfferTitle"},r.a.createElement("div",{style:{marginRight:"10px"}},r.a.createElement(De,null)),"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0439 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f\u043c"),r.a.createElement("span",{className:"plusOfferText"},"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u0435 \u043f\u044f\u0442\u0435\u0440\u044b\u0445 \u0434\u0440\u0443\u0437\u0435\u0439 \u0438 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u0437\u0432\u0435\u0437\u0434\u044e\u043b\u0435\u0439"),r.a.createElement("div",{className:"plusOfferAdditional"},r.a.createElement(we,{inputColor:["rgb(21 237 237)","rgb(2 156 245)"],is_invited:!0,shadowColor:"rgb(17 221 239)"}),r.a.createElement(we,{inputColor:["rgb(32 217 110)","rgb(39 174 96)"],shadowColor:"rgb(32 217 110)"}),r.a.createElement(we,{inputColor:["rgb(255 223 64)","rgb(255 131 89)"],shadowColor:"rgb(255 203 70)"}),r.a.createElement(we,{inputColor:["rgb(255 124 110)","rgb(245 49 127)"],shadowColor:"rgb(250 89 118)"}),r.a.createElement(we,{inputColor:["rgb(255 99 222)","rgb(177 34 229)"],shadowColor:"rgb(232 80 225)"}))),r.a.createElement(h.Button,{level:"tertiary",className:"plusButton",style:{background:"linear-gradient(rgb(77 229 101), rgb(74 195 122))"}},"\u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c \u0434\u0440\u0443\u0437\u0435\u0439")),r.a.createElement("div",{className:"plusOfferContainer"},r.a.createElement(h.Div,{className:"plusOfferInfo"},r.a.createElement("span",{className:"plusOfferTitle"},r.a.createElement("div",{style:{marginRight:"10px"}},r.a.createElement(Me,null)),"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"),r.a.createElement("span",{className:"plusOfferText"},"\u2014 \u041d\u043e\u0432\u044b\u0435 \u043e\u0446\u0435\u043d\u043a\u0438"),r.a.createElement("span",{className:"plusOfferText"},"\u2014 \u0422\u0435\u043a\u0443\u0449\u0438\u0439/\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0443\u0440\u043e\u043a"),r.a.createElement("span",{className:"plusOfferText"},"\u2014 \u0421\u043e\u0431\u044b\u0442\u0438\u044f \u0432 \u043a\u043b\u0430\u0441\u0441\u0435"),r.a.createElement("span",{className:"plusOfferText"},"\u2014 \u041e\u0442\u0447\u0451\u0442\u043d\u043e\u0441\u0442\u044c \u0437\u0430 \u0434\u0435\u043d\u044c"),r.a.createElement("div",{className:"plusOfferAdditional"},r.a.createElement("div",{className:"plusShaverma"},r.a.createElement(Ne,null)),r.a.createElement("span",{className:"plusOfferText"},"149 \u0440\u0443\u0431\u043b\u0435\u0439 \u0437\u0430 \u0433\u043e\u0434 \u2014 \u043a\u0430\u043a \u0448\u0430\u0432\u0435\u0440\u043c\u0430 \u0432 \u0446\u0435\u043d\u0442\u0440\u0435 \u041c\u043e\u0441\u043a\u0432\u044b"))),r.a.createElement(h.Button,{level:"tertiary",className:"plusButton"},"\u041a\u0443\u043f\u0438\u0442\u044c \u2014 149 \u0440\u0443\u0431.")))}}]),t}(r.a.Component),Ae=function(e){function t(e){return Object(i.a)(this,t),Object(d.a)(this,Object(m.a)(t).call(this,e))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.View,{activePanel:this.props.activePanel},r.a.createElement(Le,{id:"plus"}))}}]),t}(r.a.Component),Ie=Object(f.b)(function(e){return console.log("Plus View",e),{activePanel:e.activePanel,profile:e.profile}})(Ae),Oe=(a(180),function(e){return r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("rect",{width:"28",height:"28",rx:"14",fill:"#5181B8"}),r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.6787 10.5417C20.7761 10.2294 20.6787 10 20.2156 10H18.684C18.2945 10 18.115 10.1982 18.0176 10.4168C18.0176 10.4168 17.2387 12.2435 16.1354 13.43C15.7784 13.7735 15.6161 13.8828 15.4214 13.8828C15.3241 13.8828 15.1831 13.7735 15.1831 13.4613V10.5417C15.1831 10.167 15.0701 10 14.7456 10H12.3387C12.0954 10 11.949 10.1739 11.949 10.3387C11.949 10.694 12.5007 10.7759 12.5575 11.7751V13.9453C12.5575 14.4211 12.4682 14.5073 12.2735 14.5073C11.7543 14.5073 10.4913 12.6725 9.74221 10.5729C9.59541 10.1648 9.44817 10 9.05673 10H7.52513C7.08753 10 7 10.1982 7 10.4168C7 10.8071 7.51925 12.7431 9.41771 15.3035C10.6833 17.0521 12.4665 18 14.0892 18C15.0627 18 15.1832 17.7895 15.1832 17.4268V16.1053C15.1832 15.6842 15.2754 15.6002 15.5837 15.6002C15.8108 15.6002 16.2003 15.7095 17.109 16.5525C18.1474 17.5517 18.3186 18 18.9028 18H20.4344C20.872 18 21.0908 17.7895 20.9646 17.374C20.8264 16.9599 20.3306 16.3592 19.6727 15.647C19.3157 15.2411 18.7803 14.804 18.618 14.5853C18.3908 14.3043 18.4557 14.1794 18.618 13.9296C18.618 13.9296 20.484 11.4004 20.6787 10.5417Z",fill:"white"}))}),Te=function(e){return r.a.createElement("svg",{width:"29",height:"29",viewBox:"0 0 29 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0 6.5C0 3.18629 2.68629 0.5 6 0.5H23C26.3137 0.5 29 3.18629 29 6.5V23.5C29 26.8137 26.3137 29.5 23 29.5H6C2.68629 29.5 0 26.8137 0 23.5V6.5Z",fill:"#007AFF"}),r.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.6667 18.915V21C18.6667 23.2091 16.8012 25 14.5 25C12.1989 25 10.3334 23.2091 10.3334 21V18.915C10.3334 18.7197 10.2613 18.5067 10.0911 18.2262C9.98181 18.046 9.83877 17.848 9.62296 17.5739L9.55036 17.483L9.55021 17.4828C9.40604 17.3024 9.0915 16.9089 8.97536 16.7583C7.79842 15.2322 7.20837 13.8699 7.20837 12C7.20837 8.13401 10.473 5 14.5 5C18.5271 5 21.7917 8.13401 21.7917 12C21.7917 13.9108 21.1936 15.3248 20.0267 16.848C19.903 17.0094 19.591 17.3987 19.4062 17.6292L19.4062 17.6292C19.3339 17.7195 19.281 17.7854 19.2666 17.8039C19.0308 18.105 18.8843 18.3185 18.7891 18.5039C18.7029 18.6717 18.6667 18.8013 18.6667 18.915ZM16.6289 18.4393C16.682 18.1627 16.7808 17.8913 16.9207 17.6191C17.0851 17.2991 17.2942 16.9943 17.6013 16.6022C17.6223 16.5752 17.6902 16.4905 17.7779 16.381L17.778 16.381C17.9655 16.1469 18.2437 15.7996 18.3484 15.663C19.274 14.4548 19.7084 13.4279 19.7084 12C19.7084 9.23858 17.3765 7 14.5 7C11.6236 7 9.29171 9.23858 9.29171 12C9.29171 13.3785 9.71531 14.3566 10.6497 15.5682C10.75 15.6983 11.0334 16.0529 11.1864 16.2444L11.2849 16.3679C11.5466 16.7003 11.7318 16.9566 11.8914 17.2196C12.1399 17.6291 12.3048 18.0283 12.3763 18.4423C13.0254 18.8163 13.7271 19 14.5 19C15.275 19 15.9783 18.8153 16.6289 18.4393ZM16.5834 21V20.6624C15.9246 20.8869 15.2285 21 14.5 21C13.7716 21 13.0755 20.8869 12.4167 20.6624V21C12.4167 22.1046 13.3494 23 14.5 23C15.6506 23 16.5834 22.1046 16.5834 21Z",fill:"white"}))},je=function(e){return r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("rect",{width:"28",height:"28",rx:"14",fill:"#5690FF"}),r.a.createElement("path",{d:"M17.8334 8.72666L16.1467 10.02L16.7534 12.06L15 10.8533L13.2467 12.06L13.8534 10.02L12.1667 8.72666L14.2934 8.66666L15 6.66666L15.7067 8.66666L17.8334 8.72666ZM20.1667 13.3333L19.0734 14.1667L19.4667 15.4867L18.3334 14.7067L17.2 15.4867L17.5934 14.1667L16.5 13.3333L17.8734 13.3L18.3334 12L18.7934 13.3L20.1667 13.3333ZM18.6467 16.6333C19.2 16.58 19.7934 17.3667 19.44 17.8667C19.2267 18.1667 19 18.4467 18.72 18.7133C16.1134 21.3333 11.8934 21.3333 9.29338 18.7133C6.68671 16.1133 6.68671 11.8867 9.29338 9.28666C9.56005 9.01999 9.84005 8.77999 10.14 8.56666C10.64 8.21332 11.4267 8.80666 11.3734 9.35999C11.1934 11.2667 11.8334 13.2467 13.3 14.7067C14.76 16.1733 16.7334 16.8133 18.6467 16.6333ZM17.5534 17.98C15.6667 17.8733 13.8 17.0933 12.3534 15.6667C10.9067 14.2067 10.1334 12.3333 10.0267 10.4533C8.15338 12.5467 8.22671 15.76 10.2334 17.7733C12.2467 19.78 15.46 19.8533 17.5534 17.98Z",fill:"white"}))},xe=function(e){return r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("rect",{width:"28",height:"28",rx:"14",fill:"#FF4939"}),r.a.createElement("path",{d:"M14.1812 11.5556C12.3688 11.5556 10.7274 12.1111 9.46214 13L7 11V16H13.1553L10.6795 13.9889C11.6302 13.3444 12.8407 12.9444 14.1812 12.9444C16.6023 12.9444 18.661 14.2278 19.3791 16L21 15.5667C20.0493 13.2389 17.3615 11.5556 14.1812 11.5556Z",fill:"white"}))},Ve=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).signOut=function(){localStorage.removeItem("userData"),a.props.setView("AuthorizationView"),a.props.setPanel("choose_diary")},a.askForNotifications=function(){a.settings||(a.settings={}),a.settings.notifications?s.a.send("VKWebAppDenyNotifications",{}).then(function(e){a.settings.notifications=!1}):s.a.send("VKWebAppAllowNotifications",{}).then(function(e){a.settings.notifications=!0}),localStorage.setItem("appSettings",JSON.stringify(a.settings))},a.state={tooltip:!1},a.settings=localStorage.getItem("appSettings")?JSON.parse(localStorage.getItem("appSettings")):null,a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(h.Panel,{id:this.props.id},r.a.createElement(h.PanelHeader,{noShadow:!0},"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),r.a.createElement("div",{className:"groupSettingsContainer"},r.a.createElement("div",{className:"settingsTitleContainer"},r.a.createElement("span",{className:"settingsTitle"},"\u0421\u0441\u044b\u043b\u043a\u0438")),r.a.createElement(h.Button,{level:"tertiary",className:"settingsSettingContainer"},r.a.createElement(Oe,null),r.a.createElement("div",{className:"settingsSettingInfo"},r.a.createElement("span",{className:"settingsSettingTitle",style:{color:"#5181b8",fontWeight:"bold"}},"\u0413\u0440\u0443\u043f\u043f\u0430 \u0412\u041a"),r.a.createElement("span",{className:"settingsSettingSwitch"})))),r.a.createElement("div",{className:"groupSettingsContainer"},r.a.createElement("div",{className:"settingsTitleContainer"},r.a.createElement("span",{className:"settingsTitle"},"\u0414\u043d\u0435\u0432\u043d\u0438\u043a")),r.a.createElement(h.Button,{level:"tertiary",className:"settingsSettingContainer",onClick:this.props.chooseMark},r.a.createElement("div",{style:{width:"24px"}},r.a.createElement(X,{size:"28",val:this.props.expectedMark.toString(),is_routine:!1})),r.a.createElement("div",{className:"settingsSettingInfo"},r.a.createElement("span",{className:"settingsSettingTitle"},"\u0416\u0435\u043b\u0430\u0435\u043c\u0430\u044f \u043e\u0446\u0435\u043d\u043a\u0430"))),r.a.createElement("div",{className:"settingsSettingContainer",style:{paddingRight:"-16px"}},r.a.createElement(Te,null),r.a.createElement("div",{className:"settingsSettingInfo"},r.a.createElement("span",{className:"settingsSettingTitle"},"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"),r.a.createElement("span",null,r.a.createElement(h.Switch,{className:"settingsSettingSwitcher",id:"settingsNotificationsSwitcher",onChange:this.askForNotifications})))),r.a.createElement("div",{className:"settingsSettingContainer",style:{paddingRight:"-16px"},onClick:function(){return e.setState({tooltip:!0})}},r.a.createElement(je,null),r.a.createElement("div",{className:"settingsSettingInfo"},r.a.createElement("span",{className:"settingsSettingTitle"},"\u0422\u0451\u043c\u043d\u0430\u044f \u0442\u0435\u043c\u0430"),r.a.createElement("span",null,r.a.createElement(h.Tooltip,{text:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u0432 \u0440\u0435\u043b\u0438\u0437\u0435 :)",isShown:this.state.tooltip,onClose:function(){return e.setState({tooltip:!1})}},r.a.createElement(h.Switch,{className:"settingsSettingSwitcher",disabled:!0})))))),r.a.createElement("div",{className:"groupSettingsContainer"},r.a.createElement(h.Button,{level:"tertiary",className:"settingsSettingContainer",style:{marginTop:"35px"},onClick:this.signOut},r.a.createElement(xe,null),r.a.createElement("div",{className:"settingsSettingInfo"},r.a.createElement("span",{className:"settingsSettingTitle",style:{color:"#ff4939",fontWeight:"bold"}},"\u0412\u044b\u0439\u0442\u0438")))))}}]),t}(r.a.Component);a(181);var _e=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).chooseMark=function(){a.setState({popout:a.choise})},a.state={popout:null};var n=Object(h.platform)();return a.choise=r.a.createElement(h.ActionSheet,{onClose:function(){return a.setState({popout:null})},title:"\u0412\u044b\u0431\u0435\u0440\u0438 \u0436\u0435\u043b\u0430\u0435\u043c\u0443\u044e \u043e\u0446\u0435\u043d\u043a\u0443"},r.a.createElement(h.ActionSheetItem,{autoclose:!0,onClick:function(){a.props.setMarkAction(5)}},r.a.createElement("div",{className:"markChooseLabelContainer"},r.a.createElement("div",{className:"markChooseMarkContainer"},r.a.createElement(X,{size:"28",val:"5",is_routine:!1})),r.a.createElement("span",{className:"markChooseLabel"},"\u0412\u0441\u0435\u0433\u0434\u0430 \u0441\u0442\u0440\u0435\u043c\u0438\u0441\u044c \u043a \u043b\u0443\u0447\u0448\u0435\u043c\u0443 :)"))),r.a.createElement(h.ActionSheetItem,{autoclose:!0,onClick:function(){a.props.setMarkAction(4)}},r.a.createElement("div",{className:"markChooseLabelContainer"},r.a.createElement("div",{className:"markChooseMarkContainer"},r.a.createElement(X,{size:"28",val:"4",is_routine:!1})),r.a.createElement("span",{className:"markChooseLabel"},"\u0410\u0434\u0435\u043a\u0432\u0430\u0442\u043d\u043e \u043e\u0446\u0435\u043d\u0438\u0432\u0430\u0439 \u0441\u0432\u043e\u0438 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 ;)"))),r.a.createElement(h.ActionSheetItem,{autoclose:!0,onClick:function(){a.props.setMarkAction(3)}},r.a.createElement("div",{className:"markChooseLabelContainer"},r.a.createElement("div",{className:"markChooseMarkContainer"},r.a.createElement(X,{size:"28",val:"3",is_routine:!1})),r.a.createElement("span",{className:"markChooseLabel"},"\u041d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u043e\u0442\u0447\u0430\u0438\u0432\u0430\u0439\u0441\u044f"))),n===h.IOS&&r.a.createElement(h.ActionSheetItem,{autoclose:!0,theme:"cancel"},"Cancel")),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.View,{activePanel:this.props.activePanel,popout:this.state.popout},r.a.createElement(Ve,{id:"settings",expectedMark:this.props.expectedMark,chooseMark:this.chooseMark,setView:this.props.setViewAction,setPanel:this.props.setPanelAction}))}}]),t}(r.a.Component),Pe=Object(f.b)(function(e){return console.log("Settings View",e),{activePanel:e.activePanel,profile:e.profile,expectedMark:e.expectedMark}},function(e){return{setMarkAction:function(t){return e(function(e){return{type:"SET_MARK",value:e}}(t))},setPanelAction:function(t){return e(x(t))},setViewAction:function(t){return e(V(t))}}})(_e),Fe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={activeStory:"Account"},a.onStoryChange=a.onStoryChange.bind(Object(R.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"onStoryChange",value:function(e){switch(e.currentTarget.dataset.story){case"Account":this.props.setPanelAction("account");break;case"Marks":this.props.setPanelAction("marks");break;case"Schedule":this.props.setPanelAction("schedule");break;case"Plus":this.props.setPanelAction("plus");break;case"Settings":this.props.setPanelAction("settings")}this.setState({activeStory:e.currentTarget.dataset.story})}},{key:"render",value:function(){return r.a.createElement(h.Epic,{className:"bottomBarItself",activeStory:this.state.activeStory,tabbar:r.a.createElement(h.Tabbar,null,r.a.createElement(h.TabbarItem,{onClick:this.onStoryChange,selected:"Account"===this.state.activeStory,"data-story":"Account"},r.a.createElement(H,{size:"24",selected:"Account"===this.state.activeStory})),r.a.createElement(h.TabbarItem,{onClick:this.onStoryChange,selected:"Marks"===this.state.activeStory,"data-story":"Marks"},r.a.createElement(Z,{size:"24",selected:"Marks"===this.state.activeStory})),r.a.createElement(h.TabbarItem,{onClick:this.onStoryChange,selected:"Schedule"===this.state.activeStory,"data-story":"Schedule"},r.a.createElement(U,{size:"24",selected:"Schedule"===this.state.activeStory})),r.a.createElement(h.TabbarItem,{onClick:this.onStoryChange,selected:"Plus"===this.state.activeStory,"data-story":"Plus"},r.a.createElement(W,{size:"24",selected:"Plus"===this.state.activeStory})),r.a.createElement(h.TabbarItem,{onClick:this.onStoryChange,selected:"Settings"===this.state.activeStory,"data-story":"Settings"},r.a.createElement(G,{size:"24",selected:"Settings"===this.state.activeStory})))},r.a.createElement(q,{id:"Account"}),r.a.createElement(he,{id:"Marks",activePanel:this.props.activePanel,userId:this.props.userId,userSecret:this.props.userSecret}),r.a.createElement(Se,{id:"Schedule",activePanel:this.props.activePanel,userId:this.props.userId,userSecret:this.props.userSecret}),r.a.createElement(Ie,{id:"Plus"}),r.a.createElement(Pe,{id:"Settings"}))}}]),t}(r.a.Component),Be=Object(f.b)(function(e){return console.log("BottomBar",e),{activePanel:e.activePanel,profile:e.profile}},function(e){return{setPanelAction:function(t){return e(x(t))}}})(Fe),Re=function(e){function t(e){return Object(i.a)(this,t),Object(d.a)(this,Object(m.a)(t).call(this,e))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;s.a.subscribe(function(t){switch(t.detail.type){case"VKWebAppGetUserInfoResult":e.setState({fetchedUser:t.detail.data})}}),s.a.send("VKWebAppGetUserInfo",{})}},{key:"render",value:function(){return r.a.createElement(h.Root,{activeView:this.props.activeView},r.a.createElement(B,{id:"AuthorizationView"}),r.a.createElement(Be,{id:"MainView"}))}}]),t}(r.a.Component),He=Object(f.b)(function(e){return console.log("App",e),{activeView:e.activeView,activePanel:e.activePanel}})(Re),Ze=a(22),Ue=localStorage.getItem("userData")?"MainView":"AuthorizationView",ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VIEW":return t.value;default:return e}},We=localStorage.getItem("userData")?"account":"choose_diary",Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PANEL":return t.value;default:return e}},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(arguments.length>1?arguments[1]:void 0).type,e},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MARK":return t.value;default:return e}},Qe=a(8),Ye={journal:{data:[]},marks:{data:[]},lastMarks:{data:[]},isFetching:!1,error:!1,errorLastMarks:!1};var qe,$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_JOURNAL_REQUEST":return Object(Qe.a)({},e,{journal:t.data,isFetching:!0,error:!1});case"GET_JOURNAL_SUCCESS":return Object(Qe.a)({},e,{journal:t.data,isFetching:!1,error:!1});case"GET_JOURNAL_FAIL":return Object(Qe.a)({},e,{isFetching:!1,error:!0});case"GET_MARKS_REQUEST":return Object(Qe.a)({},e,{marks:t.data,isFetching:!0,error:!1});case"GET_MARKS_SUCCESS":return Object(Qe.a)({},e,{marks:t.data,isFetching:!1,error:!1});case"GET_MARKS_FAIL":return Object(Qe.a)({},e,{isFetching:!1,error:!0});case"GET_LAST_MARKS_REQUEST":return Object(Qe.a)({},e,{lastMarks:t.data,isFetching:!0,errorLastMarks:!1});case"GET_LAST_MARKS_SUCCESS":return Object(Qe.a)({},e,{lastMarks:t.data,isFetching:!1,errorLastMarks:!1});case"GET_LAST_MARKS_FAIL":return Object(Qe.a)({},e,{isFetching:!1,errorLastMarks:!0});default:return e}},Xe=JSON.parse(localStorage.getItem("userData"));qe=Xe?{id:Xe.id?Xe.id:null,secret:Xe.secret?Xe.secret:null,diary:Xe.diary?Xe.diary:null,students:Xe.students?Xe.students:null,student:Xe.student?Xe.student:null,isFetching:!1,error:!1}:{id:null,secret:null,diary:null,students:null,student:null,isFetching:!1,error:!1};var et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DO_AUTHORIZATION_REQUEST":return Object(Qe.a)({},e,{id:t.data.id,secret:t.data.secret,students:t.data.students,student:t.data.studentId,isFetching:!0,error:!1});case"DO_AUTHORIZATION_SUCCESS":return Object(Qe.a)({},e,{id:t.data.id,secret:t.data.secret,students:t.data.students,student:t.data.student,isFetching:!1,error:!1});case"DO_AUTHORIZATION_FAIL":return Object(Qe.a)({},e,{id:t.data,isFetching:!1,error:!0});case"SET_DIARY":return Object(Qe.a)({},e,{diary:t.data,isFetching:!1});case"SET_STUDENT":return Object(Qe.a)({},e,{student:t.data});default:return e}},tt=Object(Ze.c)({activeView:ze,activePanel:Ge,fetchedUser:Ke,expectedMark:Je,appLogic:$e,profile:et}),at=a(89),nt=Object(Ze.d)(tt,Object(Ze.a)(at.a));function rt(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var lt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.send("VKWebAppInit",{}),o.a.render(r.a.createElement(f.a,{store:nt},r.a.createElement(He,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/julista_vk",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/julista_vk","/service-worker.js");lt?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):rt(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):rt(e)})}}()},90:function(e,t,a){e.exports=a(182)}},[[90,1,2]]]);
//# sourceMappingURL=main.8d762364.chunk.js.map